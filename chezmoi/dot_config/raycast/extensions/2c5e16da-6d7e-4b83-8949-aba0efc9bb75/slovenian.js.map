{
  "version": 3,
  "sources": ["../node_modules/http-cache-semantics/index.js", "../node_modules/quick-lru/index.js", "../node_modules/http2-wrapper/source/utils/delay-async-destroy.js", "../node_modules/http2-wrapper/source/agent.js", "../node_modules/http2-wrapper/source/incoming-message.js", "../node_modules/http2-wrapper/source/utils/proxy-events.js", "../node_modules/http2-wrapper/source/utils/errors.js", "../node_modules/http2-wrapper/source/utils/is-request-pseudo-header.js", "../node_modules/http2-wrapper/source/utils/validate-header-name.js", "../node_modules/http2-wrapper/source/utils/validate-header-value.js", "../node_modules/http2-wrapper/source/utils/proxy-socket-handler.js", "../node_modules/http2-wrapper/source/client-request.js", "../node_modules/resolve-alpn/index.js", "../node_modules/http2-wrapper/source/utils/calculate-server-name.js", "../node_modules/http2-wrapper/source/auto.js", "../node_modules/http2-wrapper/source/utils/js-stream-socket.js", "../node_modules/http2-wrapper/source/proxies/unexpected-status-code-error.js", "../node_modules/http2-wrapper/source/utils/check-type.js", "../node_modules/http2-wrapper/source/proxies/initialize.js", "../node_modules/http2-wrapper/source/proxies/get-auth-headers.js", "../node_modules/http2-wrapper/source/proxies/h1-over-h2.js", "../node_modules/http2-wrapper/source/proxies/h2-over-hx.js", "../node_modules/http2-wrapper/source/proxies/h2-over-h2.js", "../node_modules/http2-wrapper/source/proxies/h2-over-h1.js", "../node_modules/http2-wrapper/source/index.js", "../node_modules/http-status-codes/build/cjs/legacy.js", "../node_modules/http-status-codes/build/cjs/utils.js", "../node_modules/http-status-codes/build/cjs/utils-functions.js", "../node_modules/http-status-codes/build/cjs/status-codes.js", "../node_modules/http-status-codes/build/cjs/reason-phrases.js", "../node_modules/http-status-codes/build/cjs/index.js", "../src/slovenian.ts", "../src/utils.ts", "../node_modules/got/dist/source/create.js", "../node_modules/@sindresorhus/is/distribution/utilities.js", "../node_modules/@sindresorhus/is/distribution/index.js", "../node_modules/got/dist/source/as-promise/index.js", "../node_modules/p-cancelable/index.js", "../node_modules/got/dist/source/core/errors.js", "../node_modules/got/dist/source/core/index.js", "../node_modules/byte-counter/utilities.js", "../node_modules/cacheable-request/src/index.ts", "../node_modules/get-stream/source/index.js", "../node_modules/is-stream/index.js", "../node_modules/@sec-ant/readable-stream/dist/ponyfill/asyncIterator.js", "../node_modules/get-stream/source/stream.js", "../node_modules/get-stream/source/contents.js", "../node_modules/get-stream/source/utils.js", "../node_modules/get-stream/source/array-buffer.js", "../node_modules/get-stream/source/buffer.js", "../node_modules/@keyv/serialize/dist/index.js", "../node_modules/cacheable-request/node_modules/keyv/dist/index.js", "../node_modules/mimic-response/index.js", "../node_modules/normalize-url/index.js", "../node_modules/responselike/index.js", "../node_modules/lowercase-keys/index.js", "../node_modules/cacheable-request/src/types.ts", "../node_modules/decompress-response/index.js", "../node_modules/form-data-encoder/lib/index.js", "../node_modules/got/dist/source/core/utils/timer.js", "../node_modules/got/dist/source/core/utils/defer-to-connect.js", "../node_modules/got/dist/source/core/utils/get-body-size.js", "../node_modules/got/dist/source/core/utils/is-form-data.js", "../node_modules/got/dist/source/core/utils/proxy-events.js", "../node_modules/got/dist/source/core/timed-out.js", "../node_modules/got/dist/source/core/utils/unhandle.js", "../node_modules/got/dist/source/core/utils/url-to-options.js", "../node_modules/got/dist/source/core/utils/weakable-map.js", "../node_modules/got/dist/source/core/calculate-retry-delay.js", "../node_modules/got/dist/source/core/options.js", "../node_modules/cacheable-lookup/source/index.js", "../node_modules/got/dist/source/core/parse-link-header.js", "../node_modules/got/dist/source/core/response.js", "../node_modules/got/dist/source/core/utils/is-client-request.js", "../node_modules/got/dist/source/core/utils/is-unix-socket-url.js", "../node_modules/got/dist/source/core/diagnostics-channel.js", "../node_modules/got/dist/source/as-promise/types.js", "../node_modules/got/dist/source/index.js"],
  "sourcesContent": ["'use strict';\n\n/**\n * @typedef {Object} HttpRequest\n * @property {Record<string, string>} headers - Request headers\n * @property {string} [method] - HTTP method\n * @property {string} [url] - Request URL\n */\n\n/**\n * @typedef {Object} HttpResponse\n * @property {Record<string, string>} headers - Response headers\n * @property {number} [status] - HTTP status code\n */\n\n/**\n * Set of default cacheable status codes per RFC 7231 section 6.1.\n * @type {Set<number>}\n */\nconst statusCodeCacheableByDefault = new Set([\n    200,\n    203,\n    204,\n    206,\n    300,\n    301,\n    308,\n    404,\n    405,\n    410,\n    414,\n    501,\n]);\n\n/**\n * Set of HTTP status codes that the cache implementation understands.\n * Note: This implementation does not understand partial responses (206).\n * @type {Set<number>}\n */\nconst understoodStatuses = new Set([\n    200,\n    203,\n    204,\n    300,\n    301,\n    302,\n    303,\n    307,\n    308,\n    404,\n    405,\n    410,\n    414,\n    501,\n]);\n\n/**\n * Set of HTTP error status codes.\n * @type {Set<number>}\n */\nconst errorStatusCodes = new Set([\n    500,\n    502,\n    503,\n    504,\n]);\n\n/**\n * Object representing hop-by-hop headers that should be removed.\n * @type {Record<string, boolean>}\n */\nconst hopByHopHeaders = {\n    date: true, // included, because we add Age update Date\n    connection: true,\n    'keep-alive': true,\n    'proxy-authenticate': true,\n    'proxy-authorization': true,\n    te: true,\n    trailer: true,\n    'transfer-encoding': true,\n    upgrade: true,\n};\n\n/**\n * Headers that are excluded from revalidation update.\n * @type {Record<string, boolean>}\n */\nconst excludedFromRevalidationUpdate = {\n    // Since the old body is reused, it doesn't make sense to change properties of the body\n    'content-length': true,\n    'content-encoding': true,\n    'transfer-encoding': true,\n    'content-range': true,\n};\n\n/**\n * Converts a string to a number or returns zero if the conversion fails.\n * @param {string} s - The string to convert.\n * @returns {number} The parsed number or 0.\n */\nfunction toNumberOrZero(s) {\n    const n = parseInt(s, 10);\n    return isFinite(n) ? n : 0;\n}\n\n/**\n * Determines if the given response is an error response.\n * Implements RFC 5861 behavior.\n * @param {HttpResponse|undefined} response - The HTTP response object.\n * @returns {boolean} true if the response is an error or undefined, false otherwise.\n */\nfunction isErrorResponse(response) {\n    // consider undefined response as faulty\n    if (!response) {\n        return true;\n    }\n    return errorStatusCodes.has(response.status);\n}\n\n/**\n * Parses a Cache-Control header string into an object.\n * @param {string} [header] - The Cache-Control header value.\n * @returns {Record<string, string|boolean>} An object representing Cache-Control directives.\n */\nfunction parseCacheControl(header) {\n    /** @type {Record<string, string|boolean>} */\n    const cc = {};\n    if (!header) return cc;\n\n    // TODO: When there is more than one value present for a given directive (e.g., two Expires header fields, multiple Cache-Control: max-age directives),\n    // the directive's value is considered invalid. Caches are encouraged to consider responses that have invalid freshness information to be stale\n    const parts = header.trim().split(/,/);\n    for (const part of parts) {\n        const [k, v] = part.split(/=/, 2);\n        cc[k.trim()] = v === undefined ? true : v.trim().replace(/^\"|\"$/g, '');\n    }\n\n    return cc;\n}\n\n/**\n * Formats a Cache-Control directives object into a header string.\n * @param {Record<string, string|boolean>} cc - The Cache-Control directives.\n * @returns {string|undefined} A formatted Cache-Control header string or undefined if empty.\n */\nfunction formatCacheControl(cc) {\n    let parts = [];\n    for (const k in cc) {\n        const v = cc[k];\n        parts.push(v === true ? k : k + '=' + v);\n    }\n    if (!parts.length) {\n        return undefined;\n    }\n    return parts.join(', ');\n}\n\nmodule.exports = class CachePolicy {\n    /**\n     * Creates a new CachePolicy instance.\n     * @param {HttpRequest} req - Incoming client request.\n     * @param {HttpResponse} res - Received server response.\n     * @param {Object} [options={}] - Configuration options.\n     * @param {boolean} [options.shared=true] - Is the cache shared (a public proxy)? `false` for personal browser caches.\n     * @param {number} [options.cacheHeuristic=0.1] - Fallback heuristic (age fraction) for cache duration.\n     * @param {number} [options.immutableMinTimeToLive=86400000] - Minimum TTL for immutable responses in milliseconds.\n     * @param {boolean} [options.ignoreCargoCult=false] - Detect nonsense cache headers, and override them.\n     * @param {any} [options._fromObject] - Internal parameter for deserialization. Do not use.\n     */\n    constructor(\n        req,\n        res,\n        {\n            shared,\n            cacheHeuristic,\n            immutableMinTimeToLive,\n            ignoreCargoCult,\n            _fromObject,\n        } = {}\n    ) {\n        if (_fromObject) {\n            this._fromObject(_fromObject);\n            return;\n        }\n\n        if (!res || !res.headers) {\n            throw Error('Response headers missing');\n        }\n        this._assertRequestHasHeaders(req);\n\n        /** @type {number} Timestamp when the response was received */\n        this._responseTime = this.now();\n        /** @type {boolean} Indicates if the cache is shared */\n        this._isShared = shared !== false;\n        /** @type {boolean} Indicates if legacy cargo cult directives should be ignored */\n        this._ignoreCargoCult = !!ignoreCargoCult;\n        /** @type {number} Heuristic cache fraction */\n        this._cacheHeuristic =\n            undefined !== cacheHeuristic ? cacheHeuristic : 0.1; // 10% matches IE\n        /** @type {number} Minimum TTL for immutable responses in ms */\n        this._immutableMinTtl =\n            undefined !== immutableMinTimeToLive\n                ? immutableMinTimeToLive\n                : 24 * 3600 * 1000;\n\n        /** @type {number} HTTP status code */\n        this._status = 'status' in res ? res.status : 200;\n        /** @type {Record<string, string>} Response headers */\n        this._resHeaders = res.headers;\n        /** @type {Record<string, string|boolean>} Parsed Cache-Control directives from response */\n        this._rescc = parseCacheControl(res.headers['cache-control']);\n        /** @type {string} HTTP method (e.g., GET, POST) */\n        this._method = 'method' in req ? req.method : 'GET';\n        /** @type {string} Request URL */\n        this._url = req.url;\n        /** @type {string} Host header from the request */\n        this._host = req.headers.host;\n        /** @type {boolean} Whether the request does not include an Authorization header */\n        this._noAuthorization = !req.headers.authorization;\n        /** @type {Record<string, string>|null} Request headers used for Vary matching */\n        this._reqHeaders = res.headers.vary ? req.headers : null; // Don't keep all request headers if they won't be used\n        /** @type {Record<string, string|boolean>} Parsed Cache-Control directives from request */\n        this._reqcc = parseCacheControl(req.headers['cache-control']);\n\n        // Assume that if someone uses legacy, non-standard uncecessary options they don't understand caching,\n        // so there's no point stricly adhering to the blindly copy&pasted directives.\n        if (\n            this._ignoreCargoCult &&\n            'pre-check' in this._rescc &&\n            'post-check' in this._rescc\n        ) {\n            delete this._rescc['pre-check'];\n            delete this._rescc['post-check'];\n            delete this._rescc['no-cache'];\n            delete this._rescc['no-store'];\n            delete this._rescc['must-revalidate'];\n            this._resHeaders = Object.assign({}, this._resHeaders, {\n                'cache-control': formatCacheControl(this._rescc),\n            });\n            delete this._resHeaders.expires;\n            delete this._resHeaders.pragma;\n        }\n\n        // When the Cache-Control header field is not present in a request, caches MUST consider the no-cache request pragma-directive\n        // as having the same effect as if \"Cache-Control: no-cache\" were present (see Section 5.2.1).\n        if (\n            res.headers['cache-control'] == null &&\n            /no-cache/.test(res.headers.pragma)\n        ) {\n            this._rescc['no-cache'] = true;\n        }\n    }\n\n    /**\n     * You can monkey-patch it for testing.\n     * @returns {number} Current time in milliseconds.\n     */\n    now() {\n        return Date.now();\n    }\n\n    /**\n     * Determines if the response is storable in a cache.\n     * @returns {boolean} `false` if can never be cached.\n     */\n    storable() {\n        // The \"no-store\" request directive indicates that a cache MUST NOT store any part of either this request or any response to it.\n        return !!(\n            !this._reqcc['no-store'] &&\n            // A cache MUST NOT store a response to any request, unless:\n            // The request method is understood by the cache and defined as being cacheable, and\n            ('GET' === this._method ||\n                'HEAD' === this._method ||\n                ('POST' === this._method && this._hasExplicitExpiration())) &&\n            // the response status code is understood by the cache, and\n            understoodStatuses.has(this._status) &&\n            // the \"no-store\" cache directive does not appear in request or response header fields, and\n            !this._rescc['no-store'] &&\n            // the \"private\" response directive does not appear in the response, if the cache is shared, and\n            (!this._isShared || !this._rescc.private) &&\n            // the Authorization header field does not appear in the request, if the cache is shared,\n            (!this._isShared ||\n                this._noAuthorization ||\n                this._allowsStoringAuthenticated()) &&\n            // the response either:\n            // contains an Expires header field, or\n            (this._resHeaders.expires ||\n                // contains a max-age response directive, or\n                // contains a s-maxage response directive and the cache is shared, or\n                // contains a public response directive.\n                this._rescc['max-age'] ||\n                (this._isShared && this._rescc['s-maxage']) ||\n                this._rescc.public ||\n                // has a status code that is defined as cacheable by default\n                statusCodeCacheableByDefault.has(this._status))\n        );\n    }\n\n    /**\n     * @returns {boolean} true if expiration is explicitly defined.\n     */\n    _hasExplicitExpiration() {\n        // 4.2.1 Calculating Freshness Lifetime\n        return !!(\n            (this._isShared && this._rescc['s-maxage']) ||\n            this._rescc['max-age'] ||\n            this._resHeaders.expires\n        );\n    }\n\n    /**\n     * @param {HttpRequest} req - a request\n     * @throws {Error} if the headers are missing.\n     */\n    _assertRequestHasHeaders(req) {\n        if (!req || !req.headers) {\n            throw Error('Request headers missing');\n        }\n    }\n\n    /**\n     * Checks if the request matches the cache and can be satisfied from the cache immediately,\n     * without having to make a request to the server.\n     *\n     * This doesn't support `stale-while-revalidate`. See `evaluateRequest()` for a more complete solution.\n     *\n     * @param {HttpRequest} req - The new incoming HTTP request.\n     * @returns {boolean} `true`` if the cached response used to construct this cache policy satisfies the request without revalidation.\n     */\n    satisfiesWithoutRevalidation(req) {\n        const result = this.evaluateRequest(req);\n        return !result.revalidation;\n    }\n\n    /**\n     * @param {{headers: Record<string, string>, synchronous: boolean}|undefined} revalidation - Revalidation information, if any.\n     * @returns {{response: {headers: Record<string, string>}, revalidation: {headers: Record<string, string>, synchronous: boolean}|undefined}} An object with a cached response headers and revalidation info.\n     */\n    _evaluateRequestHitResult(revalidation) {\n        return {\n            response: {\n                headers: this.responseHeaders(),\n            },\n            revalidation,\n        };\n    }\n\n    /**\n     * @param {HttpRequest} request - new incoming\n     * @param {boolean} synchronous - whether revalidation must be synchronous (not s-w-r).\n     * @returns {{headers: Record<string, string>, synchronous: boolean}} An object with revalidation headers and a synchronous flag.\n     */\n    _evaluateRequestRevalidation(request, synchronous) {\n        return {\n            synchronous,\n            headers: this.revalidationHeaders(request),\n        };\n    }\n\n    /**\n     * @param {HttpRequest} request - new incoming\n     * @returns {{response: undefined, revalidation: {headers: Record<string, string>, synchronous: boolean}}} An object indicating no cached response and revalidation details.\n     */\n    _evaluateRequestMissResult(request) {\n        return {\n            response: undefined,\n            revalidation: this._evaluateRequestRevalidation(request, true),\n        };\n    }\n\n    /**\n     * Checks if the given request matches this cache entry, and how the cache can be used to satisfy it. Returns an object with:\n     *\n     * ```\n     * {\n     *     // If defined, you must send a request to the server.\n     *     revalidation: {\n     *         headers: {}, // HTTP headers to use when sending the revalidation response\n     *         // If true, you MUST wait for a response from the server before using the cache\n     *         // If false, this is stale-while-revalidate. The cache is stale, but you can use it while you update it asynchronously.\n     *         synchronous: bool,\n     *     },\n     *     // If defined, you can use this cached response.\n     *     response: {\n     *         headers: {}, // Updated cached HTTP headers you must use when responding to the client\n     *     },\n     * }\n     * ```\n     * @param {HttpRequest} req - new incoming HTTP request\n     * @returns {{response: {headers: Record<string, string>}|undefined, revalidation: {headers: Record<string, string>, synchronous: boolean}|undefined}} An object containing keys:\n     *   - revalidation: { headers: Record<string, string>, synchronous: boolean } Set if you should send this to the origin server\n     *   - response: { headers: Record<string, string> } Set if you can respond to the client with these cached headers\n     */\n    evaluateRequest(req) {\n        this._assertRequestHasHeaders(req);\n\n        // In all circumstances, a cache MUST NOT ignore the must-revalidate directive\n        if (this._rescc['must-revalidate']) {\n            return this._evaluateRequestMissResult(req);\n        }\n\n        if (!this._requestMatches(req, false)) {\n            return this._evaluateRequestMissResult(req);\n        }\n\n        // When presented with a request, a cache MUST NOT reuse a stored response, unless:\n        // the presented request does not contain the no-cache pragma (Section 5.4), nor the no-cache cache directive,\n        // unless the stored response is successfully validated (Section 4.3), and\n        const requestCC = parseCacheControl(req.headers['cache-control']);\n\n        if (requestCC['no-cache'] || /no-cache/.test(req.headers.pragma)) {\n            return this._evaluateRequestMissResult(req);\n        }\n\n        if (requestCC['max-age'] && this.age() > toNumberOrZero(requestCC['max-age'])) {\n            return this._evaluateRequestMissResult(req);\n        }\n\n        if (requestCC['min-fresh'] && this.maxAge() - this.age() < toNumberOrZero(requestCC['min-fresh'])) {\n            return this._evaluateRequestMissResult(req);\n        }\n\n        // the stored response is either:\n        // fresh, or allowed to be served stale\n        if (this.stale()) {\n            // If a value is present, then the client is willing to accept a response that has\n            // exceeded its freshness lifetime by no more than the specified number of seconds\n            const allowsStaleWithoutRevalidation = 'max-stale' in requestCC &&\n                (true === requestCC['max-stale'] || requestCC['max-stale'] > this.age() - this.maxAge());\n\n            if (allowsStaleWithoutRevalidation) {\n                return this._evaluateRequestHitResult(undefined);\n            }\n\n            if (this.useStaleWhileRevalidate()) {\n                return this._evaluateRequestHitResult(this._evaluateRequestRevalidation(req, false));\n            }\n\n            return this._evaluateRequestMissResult(req);\n        }\n\n        return this._evaluateRequestHitResult(undefined);\n    }\n\n    /**\n     * @param {HttpRequest} req - check if this is for the same cache entry\n     * @param {boolean} allowHeadMethod - allow a HEAD method to match.\n     * @returns {boolean} `true` if the request matches.\n     */\n    _requestMatches(req, allowHeadMethod) {\n        // The presented effective request URI and that of the stored response match, and\n        return !!(\n            (!this._url || this._url === req.url) &&\n            this._host === req.headers.host &&\n            // the request method associated with the stored response allows it to be used for the presented request, and\n            (!req.method ||\n                this._method === req.method ||\n                (allowHeadMethod && 'HEAD' === req.method)) &&\n            // selecting header fields nominated by the stored response (if any) match those presented, and\n            this._varyMatches(req)\n        );\n    }\n\n    /**\n     * Determines whether storing authenticated responses is allowed.\n     * @returns {boolean} `true` if allowed.\n     */\n    _allowsStoringAuthenticated() {\n        // following Cache-Control response directives (Section 5.2.2) have such an effect: must-revalidate, public, and s-maxage.\n        return !!(\n            this._rescc['must-revalidate'] ||\n            this._rescc.public ||\n            this._rescc['s-maxage']\n        );\n    }\n\n    /**\n     * Checks whether the Vary header in the response matches the new request.\n     * @param {HttpRequest} req - incoming HTTP request\n     * @returns {boolean} `true` if the vary headers match.\n     */\n    _varyMatches(req) {\n        if (!this._resHeaders.vary) {\n            return true;\n        }\n\n        // A Vary header field-value of \"*\" always fails to match\n        if (this._resHeaders.vary === '*') {\n            return false;\n        }\n\n        const fields = this._resHeaders.vary\n            .trim()\n            .toLowerCase()\n            .split(/\\s*,\\s*/);\n        for (const name of fields) {\n            if (req.headers[name] !== this._reqHeaders[name]) return false;\n        }\n        return true;\n    }\n\n    /**\n     * Creates a copy of the given headers without any hop-by-hop headers.\n     * @param {Record<string, string>} inHeaders - old headers from the cached response\n     * @returns {Record<string, string>} A new headers object without hop-by-hop headers.\n     */\n    _copyWithoutHopByHopHeaders(inHeaders) {\n        /** @type {Record<string, string>} */\n        const headers = {};\n        for (const name in inHeaders) {\n            if (hopByHopHeaders[name]) continue;\n            headers[name] = inHeaders[name];\n        }\n        // 9.1.  Connection\n        if (inHeaders.connection) {\n            const tokens = inHeaders.connection.trim().split(/\\s*,\\s*/);\n            for (const name of tokens) {\n                delete headers[name];\n            }\n        }\n        if (headers.warning) {\n            const warnings = headers.warning.split(/,/).filter(warning => {\n                return !/^\\s*1[0-9][0-9]/.test(warning);\n            });\n            if (!warnings.length) {\n                delete headers.warning;\n            } else {\n                headers.warning = warnings.join(',').trim();\n            }\n        }\n        return headers;\n    }\n\n    /**\n     * Returns the response headers adjusted for serving the cached response.\n     * Removes hop-by-hop headers and updates the Age and Date headers.\n     * @returns {Record<string, string>} The adjusted response headers.\n     */\n    responseHeaders() {\n        const headers = this._copyWithoutHopByHopHeaders(this._resHeaders);\n        const age = this.age();\n\n        // A cache SHOULD generate 113 warning if it heuristically chose a freshness\n        // lifetime greater than 24 hours and the response's age is greater than 24 hours.\n        if (\n            age > 3600 * 24 &&\n            !this._hasExplicitExpiration() &&\n            this.maxAge() > 3600 * 24\n        ) {\n            headers.warning =\n                (headers.warning ? `${headers.warning}, ` : '') +\n                '113 - \"rfc7234 5.5.4\"';\n        }\n        headers.age = `${Math.round(age)}`;\n        headers.date = new Date(this.now()).toUTCString();\n        return headers;\n    }\n\n    /**\n     * Returns the Date header value from the response or the current time if invalid.\n     * @returns {number} Timestamp (in milliseconds) representing the Date header or response time.\n     */\n    date() {\n        const serverDate = Date.parse(this._resHeaders.date);\n        if (isFinite(serverDate)) {\n            return serverDate;\n        }\n        return this._responseTime;\n    }\n\n    /**\n     * Value of the Age header, in seconds, updated for the current time.\n     * May be fractional.\n     * @returns {number} The age in seconds.\n     */\n    age() {\n        let age = this._ageValue();\n\n        const residentTime = (this.now() - this._responseTime) / 1000;\n        return age + residentTime;\n    }\n\n    /**\n     * @returns {number} The Age header value as a number.\n     */\n    _ageValue() {\n        return toNumberOrZero(this._resHeaders.age);\n    }\n\n    /**\n     * Possibly outdated value of applicable max-age (or heuristic equivalent) in seconds.\n     * This counts since response's `Date`.\n     *\n     * For an up-to-date value, see `timeToLive()`.\n     *\n     * Returns the maximum age (freshness lifetime) of the response in seconds.\n     * @returns {number} The max-age value in seconds.\n     */\n    maxAge() {\n        if (!this.storable() || this._rescc['no-cache']) {\n            return 0;\n        }\n\n        // Shared responses with cookies are cacheable according to the RFC, but IMHO it'd be unwise to do so by default\n        // so this implementation requires explicit opt-in via public header\n        if (\n            this._isShared &&\n            (this._resHeaders['set-cookie'] &&\n                !this._rescc.public &&\n                !this._rescc.immutable)\n        ) {\n            return 0;\n        }\n\n        if (this._resHeaders.vary === '*') {\n            return 0;\n        }\n\n        if (this._isShared) {\n            if (this._rescc['proxy-revalidate']) {\n                return 0;\n            }\n            // if a response includes the s-maxage directive, a shared cache recipient MUST ignore the Expires field.\n            if (this._rescc['s-maxage']) {\n                return toNumberOrZero(this._rescc['s-maxage']);\n            }\n        }\n\n        // If a response includes a Cache-Control field with the max-age directive, a recipient MUST ignore the Expires field.\n        if (this._rescc['max-age']) {\n            return toNumberOrZero(this._rescc['max-age']);\n        }\n\n        const defaultMinTtl = this._rescc.immutable ? this._immutableMinTtl : 0;\n\n        const serverDate = this.date();\n        if (this._resHeaders.expires) {\n            const expires = Date.parse(this._resHeaders.expires);\n            // A cache recipient MUST interpret invalid date formats, especially the value \"0\", as representing a time in the past (i.e., \"already expired\").\n            if (Number.isNaN(expires) || expires < serverDate) {\n                return 0;\n            }\n            return Math.max(defaultMinTtl, (expires - serverDate) / 1000);\n        }\n\n        if (this._resHeaders['last-modified']) {\n            const lastModified = Date.parse(this._resHeaders['last-modified']);\n            if (isFinite(lastModified) && serverDate > lastModified) {\n                return Math.max(\n                    defaultMinTtl,\n                    ((serverDate - lastModified) / 1000) * this._cacheHeuristic\n                );\n            }\n        }\n\n        return defaultMinTtl;\n    }\n\n    /**\n     * Remaining time this cache entry may be useful for, in *milliseconds*.\n     * You can use this as an expiration time for your cache storage.\n     *\n     * Prefer this method over `maxAge()`, because it includes other factors like `age` and `stale-while-revalidate`.\n     * @returns {number} Time-to-live in milliseconds.\n     */\n    timeToLive() {\n        const age = this.maxAge() - this.age();\n        const staleIfErrorAge = age + toNumberOrZero(this._rescc['stale-if-error']);\n        const staleWhileRevalidateAge = age + toNumberOrZero(this._rescc['stale-while-revalidate']);\n        return Math.round(Math.max(0, age, staleIfErrorAge, staleWhileRevalidateAge) * 1000);\n    }\n\n    /**\n     * If true, this cache entry is past its expiration date.\n     * Note that stale cache may be useful sometimes, see `evaluateRequest()`.\n     * @returns {boolean} `false` doesn't mean it's fresh nor usable\n     */\n    stale() {\n        return this.maxAge() <= this.age();\n    }\n\n    /**\n     * @returns {boolean} `true` if `stale-if-error` condition allows use of a stale response.\n     */\n    _useStaleIfError() {\n        return this.maxAge() + toNumberOrZero(this._rescc['stale-if-error']) > this.age();\n    }\n\n    /** See `evaluateRequest()` for a more complete solution\n     * @returns {boolean} `true` if `stale-while-revalidate` is currently allowed.\n     */\n    useStaleWhileRevalidate() {\n        const swr = toNumberOrZero(this._rescc['stale-while-revalidate']);\n        return swr > 0 && this.maxAge() + swr > this.age();\n    }\n\n    /**\n     * Creates a `CachePolicy` instance from a serialized object.\n     * @param {Object} obj - The serialized object.\n     * @returns {CachePolicy} A new CachePolicy instance.\n     */\n    static fromObject(obj) {\n        return new this(undefined, undefined, { _fromObject: obj });\n    }\n\n    /**\n     * @param {any} obj - The serialized object.\n     * @throws {Error} If already initialized or if the object is invalid.\n     */\n    _fromObject(obj) {\n        if (this._responseTime) throw Error('Reinitialized');\n        if (!obj || obj.v !== 1) throw Error('Invalid serialization');\n\n        this._responseTime = obj.t;\n        this._isShared = obj.sh;\n        this._cacheHeuristic = obj.ch;\n        this._immutableMinTtl =\n            obj.imm !== undefined ? obj.imm : 24 * 3600 * 1000;\n        this._ignoreCargoCult = !!obj.icc;\n        this._status = obj.st;\n        this._resHeaders = obj.resh;\n        this._rescc = obj.rescc;\n        this._method = obj.m;\n        this._url = obj.u;\n        this._host = obj.h;\n        this._noAuthorization = obj.a;\n        this._reqHeaders = obj.reqh;\n        this._reqcc = obj.reqcc;\n    }\n\n    /**\n     * Serializes the `CachePolicy` instance into a JSON-serializable object.\n     * @returns {Object} The serialized object.\n     */\n    toObject() {\n        return {\n            v: 1,\n            t: this._responseTime,\n            sh: this._isShared,\n            ch: this._cacheHeuristic,\n            imm: this._immutableMinTtl,\n            icc: this._ignoreCargoCult,\n            st: this._status,\n            resh: this._resHeaders,\n            rescc: this._rescc,\n            m: this._method,\n            u: this._url,\n            h: this._host,\n            a: this._noAuthorization,\n            reqh: this._reqHeaders,\n            reqcc: this._reqcc,\n        };\n    }\n\n    /**\n     * Headers for sending to the origin server to revalidate stale response.\n     * Allows server to return 304 to allow reuse of the previous response.\n     *\n     * Hop by hop headers are always stripped.\n     * Revalidation headers may be added or removed, depending on request.\n     * @param {HttpRequest} incomingReq - The incoming HTTP request.\n     * @returns {Record<string, string>} The headers for the revalidation request.\n     */\n    revalidationHeaders(incomingReq) {\n        this._assertRequestHasHeaders(incomingReq);\n        const headers = this._copyWithoutHopByHopHeaders(incomingReq.headers);\n\n        // This implementation does not understand range requests\n        delete headers['if-range'];\n\n        if (!this._requestMatches(incomingReq, true) || !this.storable()) {\n            // revalidation allowed via HEAD\n            // not for the same resource, or wasn't allowed to be cached anyway\n            delete headers['if-none-match'];\n            delete headers['if-modified-since'];\n            return headers;\n        }\n\n        /* MUST send that entity-tag in any cache validation request (using If-Match or If-None-Match) if an entity-tag has been provided by the origin server. */\n        if (this._resHeaders.etag) {\n            headers['if-none-match'] = headers['if-none-match']\n                ? `${headers['if-none-match']}, ${this._resHeaders.etag}`\n                : this._resHeaders.etag;\n        }\n\n        // Clients MAY issue simple (non-subrange) GET requests with either weak validators or strong validators. Clients MUST NOT use weak validators in other forms of request.\n        const forbidsWeakValidators =\n            headers['accept-ranges'] ||\n            headers['if-match'] ||\n            headers['if-unmodified-since'] ||\n            (this._method && this._method != 'GET');\n\n        /* SHOULD send the Last-Modified value in non-subrange cache validation requests (using If-Modified-Since) if only a Last-Modified value has been provided by the origin server.\n        Note: This implementation does not understand partial responses (206) */\n        if (forbidsWeakValidators) {\n            delete headers['if-modified-since'];\n\n            if (headers['if-none-match']) {\n                const etags = headers['if-none-match']\n                    .split(/,/)\n                    .filter(etag => {\n                        return !/^\\s*W\\//.test(etag);\n                    });\n                if (!etags.length) {\n                    delete headers['if-none-match'];\n                } else {\n                    headers['if-none-match'] = etags.join(',').trim();\n                }\n            }\n        } else if (\n            this._resHeaders['last-modified'] &&\n            !headers['if-modified-since']\n        ) {\n            headers['if-modified-since'] = this._resHeaders['last-modified'];\n        }\n\n        return headers;\n    }\n\n    /**\n     * Creates new CachePolicy with information combined from the previews response,\n     * and the new revalidation response.\n     *\n     * Returns {policy, modified} where modified is a boolean indicating\n     * whether the response body has been modified, and old cached body can't be used.\n     *\n     * @param {HttpRequest} request - The latest HTTP request asking for the cached entry.\n     * @param {HttpResponse} response - The latest revalidation HTTP response from the origin server.\n     * @returns {{policy: CachePolicy, modified: boolean, matches: boolean}} The updated policy and modification status.\n     * @throws {Error} If the response headers are missing.\n     */\n    revalidatedPolicy(request, response) {\n        this._assertRequestHasHeaders(request);\n\n        if (this._useStaleIfError() && isErrorResponse(response)) {\n          return {\n              policy: this,\n              modified: false,\n              matches: true,\n          };\n        }\n\n        if (!response || !response.headers) {\n            throw Error('Response headers missing');\n        }\n\n        // These aren't going to be supported exactly, since one CachePolicy object\n        // doesn't know about all the other cached objects.\n        let matches = false;\n        if (response.status !== undefined && response.status != 304) {\n            matches = false;\n        } else if (\n            response.headers.etag &&\n            !/^\\s*W\\//.test(response.headers.etag)\n        ) {\n            // \"All of the stored responses with the same strong validator are selected.\n            // If none of the stored responses contain the same strong validator,\n            // then the cache MUST NOT use the new response to update any stored responses.\"\n            matches =\n                this._resHeaders.etag &&\n                this._resHeaders.etag.replace(/^\\s*W\\//, '') ===\n                    response.headers.etag;\n        } else if (this._resHeaders.etag && response.headers.etag) {\n            // \"If the new response contains a weak validator and that validator corresponds\n            // to one of the cache's stored responses,\n            // then the most recent of those matching stored responses is selected for update.\"\n            matches =\n                this._resHeaders.etag.replace(/^\\s*W\\//, '') ===\n                response.headers.etag.replace(/^\\s*W\\//, '');\n        } else if (this._resHeaders['last-modified']) {\n            matches =\n                this._resHeaders['last-modified'] ===\n                response.headers['last-modified'];\n        } else {\n            // If the new response does not include any form of validator (such as in the case where\n            // a client generates an If-Modified-Since request from a source other than the Last-Modified\n            // response header field), and there is only one stored response, and that stored response also\n            // lacks a validator, then that stored response is selected for update.\n            if (\n                !this._resHeaders.etag &&\n                !this._resHeaders['last-modified'] &&\n                !response.headers.etag &&\n                !response.headers['last-modified']\n            ) {\n                matches = true;\n            }\n        }\n\n        const optionsCopy = {\n            shared: this._isShared,\n            cacheHeuristic: this._cacheHeuristic,\n            immutableMinTimeToLive: this._immutableMinTtl,\n            ignoreCargoCult: this._ignoreCargoCult,\n        };\n\n        if (!matches) {\n            return {\n                policy: new this.constructor(request, response, optionsCopy),\n                // Client receiving 304 without body, even if it's invalid/mismatched has no option\n                // but to reuse a cached body. We don't have a good way to tell clients to do\n                // error recovery in such case.\n                modified: response.status != 304,\n                matches: false,\n            };\n        }\n\n        // use other header fields provided in the 304 (Not Modified) response to replace all instances\n        // of the corresponding header fields in the stored response.\n        const headers = {};\n        for (const k in this._resHeaders) {\n            headers[k] =\n                k in response.headers && !excludedFromRevalidationUpdate[k]\n                    ? response.headers[k]\n                    : this._resHeaders[k];\n        }\n\n        const newResponse = Object.assign({}, response, {\n            status: this._status,\n            method: this._method,\n            headers,\n        });\n        return {\n            policy: new this.constructor(request, newResponse, optionsCopy),\n            modified: false,\n            matches: true,\n        };\n    }\n};\n", "'use strict';\n\nclass QuickLRU {\n\tconstructor(options = {}) {\n\t\tif (!(options.maxSize && options.maxSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tthis.maxSize = options.maxSize;\n\t\tthis.onEviction = options.onEviction;\n\t\tthis.cache = new Map();\n\t\tthis.oldCache = new Map();\n\t\tthis._size = 0;\n\t}\n\n\t_set(key, value) {\n\t\tthis.cache.set(key, value);\n\t\tthis._size++;\n\n\t\tif (this._size >= this.maxSize) {\n\t\t\tthis._size = 0;\n\n\t\t\tif (typeof this.onEviction === 'function') {\n\t\t\t\tfor (const [key, value] of this.oldCache.entries()) {\n\t\t\t\t\tthis.onEviction(key, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.oldCache = this.cache;\n\t\t\tthis.cache = new Map();\n\t\t}\n\t}\n\n\tget(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\tconst value = this.oldCache.get(key);\n\t\t\tthis.oldCache.delete(key);\n\t\t\tthis._set(key, value);\n\t\t\treturn value;\n\t\t}\n\t}\n\n\tset(key, value) {\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.set(key, value);\n\t\t} else {\n\t\t\tthis._set(key, value);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\thas(key) {\n\t\treturn this.cache.has(key) || this.oldCache.has(key);\n\t}\n\n\tpeek(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn this.oldCache.get(key);\n\t\t}\n\t}\n\n\tdelete(key) {\n\t\tconst deleted = this.cache.delete(key);\n\t\tif (deleted) {\n\t\t\tthis._size--;\n\t\t}\n\n\t\treturn this.oldCache.delete(key) || deleted;\n\t}\n\n\tclear() {\n\t\tthis.cache.clear();\n\t\tthis.oldCache.clear();\n\t\tthis._size = 0;\n\t}\n\n\t* keys() {\n\t\tfor (const [key] of this) {\n\t\t\tyield key;\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const [, value] of this) {\n\t\t\tyield value;\n\t\t}\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const item of this.cache) {\n\t\t\tyield item;\n\t\t}\n\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tyield item;\n\t\t\t}\n\t\t}\n\t}\n\n\tget size() {\n\t\tlet oldCacheSize = 0;\n\t\tfor (const key of this.oldCache.keys()) {\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\toldCacheSize++;\n\t\t\t}\n\t\t}\n\n\t\treturn Math.min(this._size + oldCacheSize, this.maxSize);\n\t}\n}\n\nmodule.exports = QuickLRU;\n", "'use strict';\n\nmodule.exports = stream => {\n\tif (stream.listenerCount('error') !== 0) {\n\t\treturn stream;\n\t}\n\n\tstream.__destroy = stream._destroy;\n\tstream._destroy = (...args) => {\n\t\tconst callback = args.pop();\n\n\t\tstream.__destroy(...args, async error => {\n\t\t\tawait Promise.resolve();\n\t\t\tcallback(error);\n\t\t});\n\t};\n\n\tconst onError = error => {\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\tPromise.resolve().then(() => {\n\t\t\tstream.emit('error', error);\n\t\t});\n\t};\n\n\tstream.once('error', onError);\n\n\t// eslint-disable-next-line promise/prefer-await-to-then\n\tPromise.resolve().then(() => {\n\t\tstream.off('error', onError);\n\t});\n\n\treturn stream;\n};\n", "'use strict';\n// See https://github.com/facebook/jest/issues/2549\n// eslint-disable-next-line node/prefer-global/url\nconst {URL} = require('url');\nconst EventEmitter = require('events');\nconst tls = require('tls');\nconst http2 = require('http2');\nconst QuickLRU = require('quick-lru');\nconst delayAsyncDestroy = require('./utils/delay-async-destroy.js');\n\nconst kCurrentStreamCount = Symbol('currentStreamCount');\nconst kRequest = Symbol('request');\nconst kOriginSet = Symbol('cachedOriginSet');\nconst kGracefullyClosing = Symbol('gracefullyClosing');\nconst kLength = Symbol('length');\n\nconst nameKeys = [\n\t// Not an Agent option actually\n\t'createConnection',\n\n\t// `http2.connect()` options\n\t'maxDeflateDynamicTableSize',\n\t'maxSettings',\n\t'maxSessionMemory',\n\t'maxHeaderListPairs',\n\t'maxOutstandingPings',\n\t'maxReservedRemoteStreams',\n\t'maxSendHeaderBlockLength',\n\t'paddingStrategy',\n\t'peerMaxConcurrentStreams',\n\t'settings',\n\n\t// `tls.connect()` source options\n\t'family',\n\t'localAddress',\n\t'rejectUnauthorized',\n\n\t// `tls.connect()` secure context options\n\t'pskCallback',\n\t'minDHSize',\n\n\t// `tls.connect()` destination options\n\t// - `servername` is automatically validated, skip it\n\t// - `host` and `port` just describe the destination server,\n\t'path',\n\t'socket',\n\n\t// `tls.createSecureContext()` options\n\t'ca',\n\t'cert',\n\t'sigalgs',\n\t'ciphers',\n\t'clientCertEngine',\n\t'crl',\n\t'dhparam',\n\t'ecdhCurve',\n\t'honorCipherOrder',\n\t'key',\n\t'privateKeyEngine',\n\t'privateKeyIdentifier',\n\t'maxVersion',\n\t'minVersion',\n\t'pfx',\n\t'secureOptions',\n\t'secureProtocol',\n\t'sessionIdContext',\n\t'ticketKeys'\n];\n\nconst getSortedIndex = (array, value, compare) => {\n\tlet low = 0;\n\tlet high = array.length;\n\n\twhile (low < high) {\n\t\tconst mid = (low + high) >>> 1;\n\n\t\tif (compare(array[mid], value)) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\n\treturn low;\n};\n\nconst compareSessions = (a, b) => a.remoteSettings.maxConcurrentStreams > b.remoteSettings.maxConcurrentStreams;\n\n// See https://tools.ietf.org/html/rfc8336\nconst closeCoveredSessions = (where, session) => {\n\t// Clients SHOULD NOT emit new requests on any connection whose Origin\n\t// Set is a proper subset of another connection's Origin Set, and they\n\t// SHOULD close it once all outstanding requests are satisfied.\n\tfor (let index = 0; index < where.length; index++) {\n\t\tconst coveredSession = where[index];\n\n\t\tif (\n\t\t\t// Unfortunately `.every()` returns true for an empty array\n\t\t\tcoveredSession[kOriginSet].length > 0\n\n\t\t\t// The set is a proper subset when its length is less than the other set.\n\t\t\t&& coveredSession[kOriginSet].length < session[kOriginSet].length\n\n\t\t\t// And the other set includes all elements of the subset.\n\t\t\t&& coveredSession[kOriginSet].every(origin => session[kOriginSet].includes(origin))\n\n\t\t\t// Makes sure that the session can handle all requests from the covered session.\n\t\t\t&& (coveredSession[kCurrentStreamCount] + session[kCurrentStreamCount]) <= session.remoteSettings.maxConcurrentStreams\n\t\t) {\n\t\t\t// This allows pending requests to finish and prevents making new requests.\n\t\t\tgracefullyClose(coveredSession);\n\t\t}\n\t}\n};\n\n// This is basically inverted `closeCoveredSessions(...)`.\nconst closeSessionIfCovered = (where, coveredSession) => {\n\tfor (let index = 0; index < where.length; index++) {\n\t\tconst session = where[index];\n\n\t\tif (\n\t\t\tcoveredSession[kOriginSet].length > 0\n\t\t\t&& coveredSession[kOriginSet].length < session[kOriginSet].length\n\t\t\t&& coveredSession[kOriginSet].every(origin => session[kOriginSet].includes(origin))\n\t\t\t&& (coveredSession[kCurrentStreamCount] + session[kCurrentStreamCount]) <= session.remoteSettings.maxConcurrentStreams\n\t\t) {\n\t\t\tgracefullyClose(coveredSession);\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n};\n\nconst gracefullyClose = session => {\n\tsession[kGracefullyClosing] = true;\n\n\tif (session[kCurrentStreamCount] === 0) {\n\t\tsession.close();\n\t}\n};\n\nclass Agent extends EventEmitter {\n\tconstructor({timeout = 0, maxSessions = Number.POSITIVE_INFINITY, maxEmptySessions = 10, maxCachedTlsSessions = 100} = {}) {\n\t\tsuper();\n\n\t\t// SESSIONS[NORMALIZED_OPTIONS] = [];\n\t\tthis.sessions = {};\n\n\t\t// The queue for creating new sessions. It looks like this:\n\t\t// QUEUE[NORMALIZED_OPTIONS][NORMALIZED_ORIGIN] = ENTRY_FUNCTION\n\t\t//\n\t\t// It's faster when there are many origins. If there's only one, then QUEUE[`${options}:${origin}`] is faster.\n\t\t// I guess object creation / deletion is causing the slowdown.\n\t\t//\n\t\t// The entry function has `listeners`, `completed` and `destroyed` properties.\n\t\t// `listeners` is an array of objects containing `resolve` and `reject` functions.\n\t\t// `completed` is a boolean. It's set to true after ENTRY_FUNCTION is executed.\n\t\t// `destroyed` is a boolean. If it's set to true, the session will be destroyed if hasn't connected yet.\n\t\tthis.queue = {};\n\n\t\t// Each session will use this timeout value.\n\t\tthis.timeout = timeout;\n\n\t\t// Max sessions in total\n\t\tthis.maxSessions = maxSessions;\n\n\t\t// Max empty sessions in total\n\t\tthis.maxEmptySessions = maxEmptySessions;\n\n\t\tthis._emptySessionCount = 0;\n\t\tthis._sessionCount = 0;\n\n\t\t// We don't support push streams by default.\n\t\tthis.settings = {\n\t\t\tenablePush: false,\n\t\t\tinitialWindowSize: 1024 * 1024 * 32 // 32MB, see https://github.com/nodejs/node/issues/38426\n\t\t};\n\n\t\t// Reusing TLS sessions increases performance.\n\t\tthis.tlsSessionCache = new QuickLRU({maxSize: maxCachedTlsSessions});\n\t}\n\n\tget protocol() {\n\t\treturn 'https:';\n\t}\n\n\tnormalizeOptions(options) {\n\t\tlet normalized = '';\n\n\t\tfor (let index = 0; index < nameKeys.length; index++) {\n\t\t\tconst key = nameKeys[index];\n\n\t\t\tnormalized += ':';\n\n\t\t\tif (options && options[key] !== undefined) {\n\t\t\t\tnormalized += options[key];\n\t\t\t}\n\t\t}\n\n\t\treturn normalized;\n\t}\n\n\t_processQueue() {\n\t\tif (this._sessionCount >= this.maxSessions) {\n\t\t\tthis.closeEmptySessions(this.maxSessions - this._sessionCount + 1);\n\t\t\treturn;\n\t\t}\n\n\t\t// eslint-disable-next-line guard-for-in\n\t\tfor (const normalizedOptions in this.queue) {\n\t\t\t// eslint-disable-next-line guard-for-in\n\t\t\tfor (const normalizedOrigin in this.queue[normalizedOptions]) {\n\t\t\t\tconst item = this.queue[normalizedOptions][normalizedOrigin];\n\n\t\t\t\t// The entry function can be run only once.\n\t\t\t\tif (!item.completed) {\n\t\t\t\t\titem.completed = true;\n\n\t\t\t\t\titem();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t_isBetterSession(thisStreamCount, thatStreamCount) {\n\t\treturn thisStreamCount > thatStreamCount;\n\t}\n\n\t_accept(session, listeners, normalizedOrigin, options) {\n\t\tlet index = 0;\n\n\t\twhile (index < listeners.length && session[kCurrentStreamCount] < session.remoteSettings.maxConcurrentStreams) {\n\t\t\t// We assume `resolve(...)` calls `request(...)` *directly*,\n\t\t\t// otherwise the session will get overloaded.\n\t\t\tlisteners[index].resolve(session);\n\n\t\t\tindex++;\n\t\t}\n\n\t\tlisteners.splice(0, index);\n\n\t\tif (listeners.length > 0) {\n\t\t\tthis.getSession(normalizedOrigin, options, listeners);\n\t\t\tlisteners.length = 0;\n\t\t}\n\t}\n\n\tgetSession(origin, options, listeners) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (Array.isArray(listeners) && listeners.length > 0) {\n\t\t\t\tlisteners = [...listeners];\n\n\t\t\t\t// Resolve the current promise ASAP, we're just moving the listeners.\n\t\t\t\t// They will be executed at a different time.\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\tlisteners = [{resolve, reject}];\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\t// Parse origin\n\t\t\t\tif (typeof origin === 'string') {\n\t\t\t\t\torigin = new URL(origin);\n\t\t\t\t} else if (!(origin instanceof URL)) {\n\t\t\t\t\tthrow new TypeError('The `origin` argument needs to be a string or an URL object');\n\t\t\t\t}\n\n\t\t\t\tif (options) {\n\t\t\t\t\t// Validate servername\n\t\t\t\t\tconst {servername} = options;\n\t\t\t\t\tconst {hostname} = origin;\n\t\t\t\t\tif (servername && hostname !== servername) {\n\t\t\t\t\t\tthrow new Error(`Origin ${hostname} differs from servername ${servername}`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst normalizedOptions = this.normalizeOptions(options);\n\t\t\tconst normalizedOrigin = origin.origin;\n\n\t\t\tif (normalizedOptions in this.sessions) {\n\t\t\t\tconst sessions = this.sessions[normalizedOptions];\n\n\t\t\t\tlet maxConcurrentStreams = -1;\n\t\t\t\tlet currentStreamsCount = -1;\n\t\t\t\tlet optimalSession;\n\n\t\t\t\t// We could just do this.sessions[normalizedOptions].find(...) but that isn't optimal.\n\t\t\t\t// Additionally, we are looking for session which has biggest current pending streams count.\n\t\t\t\t//\n\t\t\t\t// |------------| |------------| |------------| |------------|\n\t\t\t\t// | Session: A | | Session: B | | Session: C | | Session: D |\n\t\t\t\t// | Pending: 5 |-| Pending: 8 |-| Pending: 9 |-| Pending: 4 |\n\t\t\t\t// | Max:    10 | | Max:    10 | | Max:     9 | | Max:     5 |\n\t\t\t\t// |------------| |------------| |------------| |------------|\n\t\t\t\t//                     ^\n\t\t\t\t//                     |\n\t\t\t\t//     pick this one  --\n\t\t\t\t//\n\t\t\t\tfor (let index = 0; index < sessions.length; index++) {\n\t\t\t\t\tconst session = sessions[index];\n\n\t\t\t\t\tconst sessionMaxConcurrentStreams = session.remoteSettings.maxConcurrentStreams;\n\n\t\t\t\t\tif (sessionMaxConcurrentStreams < maxConcurrentStreams) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!session[kOriginSet].includes(normalizedOrigin)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst sessionCurrentStreamsCount = session[kCurrentStreamCount];\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tsessionCurrentStreamsCount >= sessionMaxConcurrentStreams\n\t\t\t\t\t\t|| session[kGracefullyClosing]\n\t\t\t\t\t\t// Unfortunately the `close` event isn't called immediately,\n\t\t\t\t\t\t// so `session.destroyed` is `true`, but `session.closed` is `false`.\n\t\t\t\t\t\t|| session.destroyed\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// We only need set this once.\n\t\t\t\t\tif (!optimalSession) {\n\t\t\t\t\t\tmaxConcurrentStreams = sessionMaxConcurrentStreams;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Either get the session which has biggest current stream count or the lowest.\n\t\t\t\t\tif (this._isBetterSession(sessionCurrentStreamsCount, currentStreamsCount)) {\n\t\t\t\t\t\toptimalSession = session;\n\t\t\t\t\t\tcurrentStreamsCount = sessionCurrentStreamsCount;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (optimalSession) {\n\t\t\t\t\tthis._accept(optimalSession, listeners, normalizedOrigin, options);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (normalizedOptions in this.queue) {\n\t\t\t\tif (normalizedOrigin in this.queue[normalizedOptions]) {\n\t\t\t\t\t// There's already an item in the queue, just attach ourselves to it.\n\t\t\t\t\tthis.queue[normalizedOptions][normalizedOrigin].listeners.push(...listeners);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.queue[normalizedOptions] = {\n\t\t\t\t\t[kLength]: 0\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// The entry must be removed from the queue IMMEDIATELY when:\n\t\t\t// 1. the session connects successfully,\n\t\t\t// 2. an error occurs.\n\t\t\tconst removeFromQueue = () => {\n\t\t\t\t// Our entry can be replaced. We cannot remove the new one.\n\t\t\t\tif (normalizedOptions in this.queue && this.queue[normalizedOptions][normalizedOrigin] === entry) {\n\t\t\t\t\tdelete this.queue[normalizedOptions][normalizedOrigin];\n\n\t\t\t\t\tif (--this.queue[normalizedOptions][kLength] === 0) {\n\t\t\t\t\t\tdelete this.queue[normalizedOptions];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// The main logic is here\n\t\t\tconst entry = async () => {\n\t\t\t\tthis._sessionCount++;\n\n\t\t\t\tconst name = `${normalizedOrigin}:${normalizedOptions}`;\n\t\t\t\tlet receivedSettings = false;\n\t\t\t\tlet socket;\n\n\t\t\t\ttry {\n\t\t\t\t\tconst computedOptions = {...options};\n\n\t\t\t\t\tif (computedOptions.settings === undefined) {\n\t\t\t\t\t\tcomputedOptions.settings = this.settings;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (computedOptions.session === undefined) {\n\t\t\t\t\t\tcomputedOptions.session = this.tlsSessionCache.get(name);\n\t\t\t\t\t}\n\n\t\t\t\t\tconst createConnection = computedOptions.createConnection || this.createConnection;\n\n\t\t\t\t\t// A hacky workaround to enable async `createConnection`\n\t\t\t\t\tsocket = await createConnection.call(this, origin, computedOptions);\n\t\t\t\t\tcomputedOptions.createConnection = () => socket;\n\n\t\t\t\t\tconst session = http2.connect(origin, computedOptions);\n\t\t\t\t\tsession[kCurrentStreamCount] = 0;\n\t\t\t\t\tsession[kGracefullyClosing] = false;\n\n\t\t\t\t\t// Node.js return https://false:443 instead of https://1.1.1.1:443\n\t\t\t\t\tconst getOriginSet = () => {\n\t\t\t\t\t\tconst {socket} = session;\n\n\t\t\t\t\t\tlet originSet;\n\t\t\t\t\t\tif (socket.servername === false) {\n\t\t\t\t\t\t\tsocket.servername = socket.remoteAddress;\n\t\t\t\t\t\t\toriginSet = session.originSet;\n\t\t\t\t\t\t\tsocket.servername = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\toriginSet = session.originSet;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn originSet;\n\t\t\t\t\t};\n\n\t\t\t\t\tconst isFree = () => session[kCurrentStreamCount] < session.remoteSettings.maxConcurrentStreams;\n\n\t\t\t\t\tsession.socket.once('session', tlsSession => {\n\t\t\t\t\t\tthis.tlsSessionCache.set(name, tlsSession);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('error', error => {\n\t\t\t\t\t\t// Listeners are empty when the session successfully connected.\n\t\t\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// The connection got broken, purge the cache.\n\t\t\t\t\t\tthis.tlsSessionCache.delete(name);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.setTimeout(this.timeout, () => {\n\t\t\t\t\t\t// Terminates all streams owned by this session.\n\t\t\t\t\t\tsession.destroy();\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('close', () => {\n\t\t\t\t\t\tthis._sessionCount--;\n\n\t\t\t\t\t\tif (receivedSettings) {\n\t\t\t\t\t\t\t// Assumes session `close` is emitted after request `close`\n\t\t\t\t\t\t\tthis._emptySessionCount--;\n\n\t\t\t\t\t\t\t// This cannot be moved to the stream logic,\n\t\t\t\t\t\t\t// because there may be a session that hadn't made a single request.\n\t\t\t\t\t\t\tconst where = this.sessions[normalizedOptions];\n\n\t\t\t\t\t\t\tif (where.length === 1) {\n\t\t\t\t\t\t\t\tdelete this.sessions[normalizedOptions];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twhere.splice(where.indexOf(session), 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Broken connection\n\t\t\t\t\t\t\tremoveFromQueue();\n\n\t\t\t\t\t\t\tconst error = new Error('Session closed without receiving a SETTINGS frame');\n\t\t\t\t\t\t\terror.code = 'HTTP2WRAPPER_NOSETTINGS';\n\n\t\t\t\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// There may be another session awaiting.\n\t\t\t\t\t\tthis._processQueue();\n\t\t\t\t\t});\n\n\t\t\t\t\t// Iterates over the queue and processes listeners.\n\t\t\t\t\tconst processListeners = () => {\n\t\t\t\t\t\tconst queue = this.queue[normalizedOptions];\n\t\t\t\t\t\tif (!queue) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst originSet = session[kOriginSet];\n\n\t\t\t\t\t\tfor (let index = 0; index < originSet.length; index++) {\n\t\t\t\t\t\t\tconst origin = originSet[index];\n\n\t\t\t\t\t\t\tif (origin in queue) {\n\t\t\t\t\t\t\t\tconst {listeners, completed} = queue[origin];\n\n\t\t\t\t\t\t\t\tlet index = 0;\n\n\t\t\t\t\t\t\t\t// Prevents session overloading.\n\t\t\t\t\t\t\t\twhile (index < listeners.length && isFree()) {\n\t\t\t\t\t\t\t\t\t// We assume `resolve(...)` calls `request(...)` *directly*,\n\t\t\t\t\t\t\t\t\t// otherwise the session will get overloaded.\n\t\t\t\t\t\t\t\t\tlisteners[index].resolve(session);\n\n\t\t\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tqueue[origin].listeners.splice(0, index);\n\n\t\t\t\t\t\t\t\tif (queue[origin].listeners.length === 0 && !completed) {\n\t\t\t\t\t\t\t\t\tdelete queue[origin];\n\n\t\t\t\t\t\t\t\t\tif (--queue[kLength] === 0) {\n\t\t\t\t\t\t\t\t\t\tdelete this.queue[normalizedOptions];\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// We're no longer free, no point in continuing.\n\t\t\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t// The Origin Set cannot shrink. No need to check if it suddenly became covered by another one.\n\t\t\t\t\tsession.on('origin', () => {\n\t\t\t\t\t\tsession[kOriginSet] = getOriginSet() || [];\n\t\t\t\t\t\tsession[kGracefullyClosing] = false;\n\t\t\t\t\t\tcloseSessionIfCovered(this.sessions[normalizedOptions], session);\n\n\t\t\t\t\t\tif (session[kGracefullyClosing] || !isFree()) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tprocessListeners();\n\n\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Close covered sessions (if possible).\n\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('remoteSettings', () => {\n\t\t\t\t\t\t// The Agent could have been destroyed already.\n\t\t\t\t\t\tif (entry.destroyed) {\n\t\t\t\t\t\t\tconst error = new Error('Agent has been destroyed');\n\n\t\t\t\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsession.destroy();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// See https://github.com/nodejs/node/issues/38426\n\t\t\t\t\t\tif (session.setLocalWindowSize) {\n\t\t\t\t\t\t\tsession.setLocalWindowSize(1024 * 1024 * 4); // 4 MB\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsession[kOriginSet] = getOriginSet() || [];\n\n\t\t\t\t\t\tif (session.socket.encrypted) {\n\t\t\t\t\t\t\tconst mainOrigin = session[kOriginSet][0];\n\t\t\t\t\t\t\tif (mainOrigin !== normalizedOrigin) {\n\t\t\t\t\t\t\t\tconst error = new Error(`Requested origin ${normalizedOrigin} does not match server ${mainOrigin}`);\n\n\t\t\t\t\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tsession.destroy();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tremoveFromQueue();\n\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst where = this.sessions;\n\n\t\t\t\t\t\t\tif (normalizedOptions in where) {\n\t\t\t\t\t\t\t\tconst sessions = where[normalizedOptions];\n\t\t\t\t\t\t\t\tsessions.splice(getSortedIndex(sessions, session, compareSessions), 0, session);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twhere[normalizedOptions] = [session];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treceivedSettings = true;\n\t\t\t\t\t\tthis._emptySessionCount++;\n\n\t\t\t\t\t\tthis.emit('session', session);\n\t\t\t\t\t\tthis._accept(session, listeners, normalizedOrigin, options);\n\n\t\t\t\t\t\tif (session[kCurrentStreamCount] === 0 && this._emptySessionCount > this.maxEmptySessions) {\n\t\t\t\t\t\t\tthis.closeEmptySessions(this._emptySessionCount - this.maxEmptySessions);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// `session.remoteSettings.maxConcurrentStreams` might get increased\n\t\t\t\t\t\tsession.on('remoteSettings', () => {\n\t\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tprocessListeners();\n\n\t\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// In case the Origin Set changes\n\t\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\t// Shim `session.request()` in order to catch all streams\n\t\t\t\t\tsession[kRequest] = session.request;\n\t\t\t\t\tsession.request = (headers, streamOptions) => {\n\t\t\t\t\t\tif (session[kGracefullyClosing]) {\n\t\t\t\t\t\t\tthrow new Error('The session is gracefully closing. No new streams are allowed.');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst stream = session[kRequest](headers, streamOptions);\n\n\t\t\t\t\t\t// The process won't exit until the session is closed or all requests are gone.\n\t\t\t\t\t\tsession.ref();\n\n\t\t\t\t\t\tif (session[kCurrentStreamCount]++ === 0) {\n\t\t\t\t\t\t\tthis._emptySessionCount--;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstream.once('close', () => {\n\t\t\t\t\t\t\tif (--session[kCurrentStreamCount] === 0) {\n\t\t\t\t\t\t\t\tthis._emptySessionCount++;\n\t\t\t\t\t\t\t\tsession.unref();\n\n\t\t\t\t\t\t\t\tif (this._emptySessionCount > this.maxEmptySessions || session[kGracefullyClosing]) {\n\t\t\t\t\t\t\t\t\tsession.close();\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (session.destroyed || session.closed) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (isFree() && !closeSessionIfCovered(this.sessions[normalizedOptions], session)) {\n\t\t\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t\t\t\tprocessListeners();\n\n\t\t\t\t\t\t\t\tif (session[kCurrentStreamCount] === 0) {\n\t\t\t\t\t\t\t\t\tthis._processQueue();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn stream;\n\t\t\t\t\t};\n\t\t\t\t} catch (error) {\n\t\t\t\t\tremoveFromQueue();\n\t\t\t\t\tthis._sessionCount--;\n\n\t\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tentry.listeners = listeners;\n\t\t\tentry.completed = false;\n\t\t\tentry.destroyed = false;\n\n\t\t\tthis.queue[normalizedOptions][normalizedOrigin] = entry;\n\t\t\tthis.queue[normalizedOptions][kLength]++;\n\t\t\tthis._processQueue();\n\t\t});\n\t}\n\n\trequest(origin, options, headers, streamOptions) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.getSession(origin, options, [{\n\t\t\t\treject,\n\t\t\t\tresolve: session => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst stream = session.request(headers, streamOptions);\n\n\t\t\t\t\t\t// Do not throw before `request(...)` has been awaited\n\t\t\t\t\t\tdelayAsyncDestroy(stream);\n\n\t\t\t\t\t\tresolve(stream);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}]);\n\t\t});\n\t}\n\n\tasync createConnection(origin, options) {\n\t\treturn Agent.connect(origin, options);\n\t}\n\n\tstatic connect(origin, options) {\n\t\toptions.ALPNProtocols = ['h2'];\n\n\t\tconst port = origin.port || 443;\n\t\tconst host = origin.hostname;\n\n\t\tif (typeof options.servername === 'undefined') {\n\t\t\toptions.servername = host;\n\t\t}\n\n\t\tconst socket = tls.connect(port, host, options);\n\n\t\tif (options.socket) {\n\t\t\tsocket._peername = {\n\t\t\t\tfamily: undefined,\n\t\t\t\taddress: undefined,\n\t\t\t\tport\n\t\t\t};\n\t\t}\n\n\t\treturn socket;\n\t}\n\n\tcloseEmptySessions(maxCount = Number.POSITIVE_INFINITY) {\n\t\tlet closedCount = 0;\n\n\t\tconst {sessions} = this;\n\n\t\t// eslint-disable-next-line guard-for-in\n\t\tfor (const key in sessions) {\n\t\t\tconst thisSessions = sessions[key];\n\n\t\t\tfor (let index = 0; index < thisSessions.length; index++) {\n\t\t\t\tconst session = thisSessions[index];\n\n\t\t\t\tif (session[kCurrentStreamCount] === 0) {\n\t\t\t\t\tclosedCount++;\n\t\t\t\t\tsession.close();\n\n\t\t\t\t\tif (closedCount >= maxCount) {\n\t\t\t\t\t\treturn closedCount;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn closedCount;\n\t}\n\n\tdestroy(reason) {\n\t\tconst {sessions, queue} = this;\n\n\t\t// eslint-disable-next-line guard-for-in\n\t\tfor (const key in sessions) {\n\t\t\tconst thisSessions = sessions[key];\n\n\t\t\tfor (let index = 0; index < thisSessions.length; index++) {\n\t\t\t\tthisSessions[index].destroy(reason);\n\t\t\t}\n\t\t}\n\n\t\t// eslint-disable-next-line guard-for-in\n\t\tfor (const normalizedOptions in queue) {\n\t\t\tconst entries = queue[normalizedOptions];\n\n\t\t\t// eslint-disable-next-line guard-for-in\n\t\t\tfor (const normalizedOrigin in entries) {\n\t\t\t\tentries[normalizedOrigin].destroyed = true;\n\t\t\t}\n\t\t}\n\n\t\t// New requests should NOT attach to destroyed sessions\n\t\tthis.queue = {};\n\t\tthis.tlsSessionCache.clear();\n\t}\n\n\tget emptySessionCount() {\n\t\treturn this._emptySessionCount;\n\t}\n\n\tget pendingSessionCount() {\n\t\treturn this._sessionCount - this._emptySessionCount;\n\t}\n\n\tget sessionCount() {\n\t\treturn this._sessionCount;\n\t}\n}\n\nAgent.kCurrentStreamCount = kCurrentStreamCount;\nAgent.kGracefullyClosing = kGracefullyClosing;\n\nmodule.exports = {\n\tAgent,\n\tglobalAgent: new Agent()\n};\n", "'use strict';\nconst {Readable} = require('stream');\n\nclass IncomingMessage extends Readable {\n\tconstructor(socket, highWaterMark) {\n\t\tsuper({\n\t\t\temitClose: false,\n\t\t\tautoDestroy: true,\n\t\t\thighWaterMark\n\t\t});\n\n\t\tthis.statusCode = null;\n\t\tthis.statusMessage = '';\n\t\tthis.httpVersion = '2.0';\n\t\tthis.httpVersionMajor = 2;\n\t\tthis.httpVersionMinor = 0;\n\t\tthis.headers = {};\n\t\tthis.trailers = {};\n\t\tthis.req = null;\n\n\t\tthis.aborted = false;\n\t\tthis.complete = false;\n\t\tthis.upgrade = null;\n\n\t\tthis.rawHeaders = [];\n\t\tthis.rawTrailers = [];\n\n\t\tthis.socket = socket;\n\n\t\tthis._dumped = false;\n\t}\n\n\tget connection() {\n\t\treturn this.socket;\n\t}\n\n\tset connection(value) {\n\t\tthis.socket = value;\n\t}\n\n\t_destroy(error, callback) {\n\t\tif (!this.readableEnded) {\n\t\t\tthis.aborted = true;\n\t\t}\n\n\t\t// See https://github.com/nodejs/node/issues/35303\n\t\tcallback();\n\n\t\tthis.req._request.destroy(error);\n\t}\n\n\tsetTimeout(ms, callback) {\n\t\tthis.req.setTimeout(ms, callback);\n\t\treturn this;\n\t}\n\n\t_dump() {\n\t\tif (!this._dumped) {\n\t\t\tthis._dumped = true;\n\n\t\t\tthis.removeAllListeners('data');\n\t\t\tthis.resume();\n\t\t}\n\t}\n\n\t_read() {\n\t\tif (this.req) {\n\t\t\tthis.req._request.resume();\n\t\t}\n\t}\n}\n\nmodule.exports = IncomingMessage;\n", "'use strict';\n\nmodule.exports = (from, to, events) => {\n\tfor (const event of events) {\n\t\tfrom.on(event, (...args) => to.emit(event, ...args));\n\t}\n};\n", "'use strict';\n/* istanbul ignore file: https://github.com/nodejs/node/blob/master/lib/internal/errors.js */\n\nconst makeError = (Base, key, getMessage) => {\n\tmodule.exports[key] = class NodeError extends Base {\n\t\tconstructor(...args) {\n\t\t\tsuper(typeof getMessage === 'string' ? getMessage : getMessage(args));\n\t\t\tthis.name = `${super.name} [${key}]`;\n\t\t\tthis.code = key;\n\t\t}\n\t};\n};\n\nmakeError(TypeError, 'ERR_INVALID_ARG_TYPE', args => {\n\tconst type = args[0].includes('.') ? 'property' : 'argument';\n\n\tlet valid = args[1];\n\tconst isManyTypes = Array.isArray(valid);\n\n\tif (isManyTypes) {\n\t\tvalid = `${valid.slice(0, -1).join(', ')} or ${valid.slice(-1)}`;\n\t}\n\n\treturn `The \"${args[0]}\" ${type} must be ${isManyTypes ? 'one of' : 'of'} type ${valid}. Received ${typeof args[2]}`;\n});\n\nmakeError(TypeError, 'ERR_INVALID_PROTOCOL', args =>\n\t`Protocol \"${args[0]}\" not supported. Expected \"${args[1]}\"`\n);\n\nmakeError(Error, 'ERR_HTTP_HEADERS_SENT', args =>\n\t`Cannot ${args[0]} headers after they are sent to the client`\n);\n\nmakeError(TypeError, 'ERR_INVALID_HTTP_TOKEN', args =>\n\t`${args[0]} must be a valid HTTP token [${args[1]}]`\n);\n\nmakeError(TypeError, 'ERR_HTTP_INVALID_HEADER_VALUE', args =>\n\t`Invalid value \"${args[0]} for header \"${args[1]}\"`\n);\n\nmakeError(TypeError, 'ERR_INVALID_CHAR', args =>\n\t`Invalid character in ${args[0]} [${args[1]}]`\n);\n\nmakeError(\n\tError,\n\t'ERR_HTTP2_NO_SOCKET_MANIPULATION',\n\t'HTTP/2 sockets should not be directly manipulated (e.g. read and written)'\n);\n", "'use strict';\n\nmodule.exports = header => {\n\tswitch (header) {\n\t\tcase ':method':\n\t\tcase ':scheme':\n\t\tcase ':authority':\n\t\tcase ':path':\n\t\t\treturn true;\n\t\tdefault:\n\t\t\treturn false;\n\t}\n};\n", "'use strict';\nconst {ERR_INVALID_HTTP_TOKEN} = require('./errors.js');\nconst isRequestPseudoHeader = require('./is-request-pseudo-header.js');\n\nconst isValidHttpToken = /^[\\^`\\-\\w!#$%&*+.|~]+$/;\n\nmodule.exports = name => {\n\tif (typeof name !== 'string' || (!isValidHttpToken.test(name) && !isRequestPseudoHeader(name))) {\n\t\tthrow new ERR_INVALID_HTTP_TOKEN('Header name', name);\n\t}\n};\n", "'use strict';\nconst {\n\tERR_HTTP_INVALID_HEADER_VALUE,\n\tERR_INVALID_CHAR\n} = require('./errors.js');\n\nconst isInvalidHeaderValue = /[^\\t\\u0020-\\u007E\\u0080-\\u00FF]/;\n\nmodule.exports = (name, value) => {\n\tif (typeof value === 'undefined') {\n\t\tthrow new ERR_HTTP_INVALID_HEADER_VALUE(value, name);\n\t}\n\n\tif (isInvalidHeaderValue.test(value)) {\n\t\tthrow new ERR_INVALID_CHAR('header content', name);\n\t}\n};\n", "'use strict';\nconst {ERR_HTTP2_NO_SOCKET_MANIPULATION} = require('./errors.js');\n\n/* istanbul ignore file */\n/* https://github.com/nodejs/node/blob/6eec858f34a40ffa489c1ec54bb24da72a28c781/lib/internal/http2/compat.js#L195-L272 */\n\nconst proxySocketHandler = {\n\thas(stream, property) {\n\t\t// Replaced [kSocket] with .socket\n\t\tconst reference = stream.session === undefined ? stream : stream.session.socket;\n\t\treturn (property in stream) || (property in reference);\n\t},\n\n\tget(stream, property) {\n\t\tswitch (property) {\n\t\t\tcase 'on':\n\t\t\tcase 'once':\n\t\t\tcase 'end':\n\t\t\tcase 'emit':\n\t\t\tcase 'destroy':\n\t\t\t\treturn stream[property].bind(stream);\n\t\t\tcase 'writable':\n\t\t\tcase 'destroyed':\n\t\t\t\treturn stream[property];\n\t\t\tcase 'readable':\n\t\t\t\tif (stream.destroyed) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn stream.readable;\n\t\t\tcase 'setTimeout': {\n\t\t\t\tconst {session} = stream;\n\t\t\t\tif (session !== undefined) {\n\t\t\t\t\treturn session.setTimeout.bind(session);\n\t\t\t\t}\n\n\t\t\t\treturn stream.setTimeout.bind(stream);\n\t\t\t}\n\n\t\t\tcase 'write':\n\t\t\tcase 'read':\n\t\t\tcase 'pause':\n\t\t\tcase 'resume':\n\t\t\t\tthrow new ERR_HTTP2_NO_SOCKET_MANIPULATION();\n\t\t\tdefault: {\n\t\t\t\t// Replaced [kSocket] with .socket\n\t\t\t\tconst reference = stream.session === undefined ? stream : stream.session.socket;\n\t\t\t\tconst value = reference[property];\n\n\t\t\t\treturn typeof value === 'function' ? value.bind(reference) : value;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetPrototypeOf(stream) {\n\t\tif (stream.session !== undefined) {\n\t\t\t// Replaced [kSocket] with .socket\n\t\t\treturn Reflect.getPrototypeOf(stream.session.socket);\n\t\t}\n\n\t\treturn Reflect.getPrototypeOf(stream);\n\t},\n\n\tset(stream, property, value) {\n\t\tswitch (property) {\n\t\t\tcase 'writable':\n\t\t\tcase 'readable':\n\t\t\tcase 'destroyed':\n\t\t\tcase 'on':\n\t\t\tcase 'once':\n\t\t\tcase 'end':\n\t\t\tcase 'emit':\n\t\t\tcase 'destroy':\n\t\t\t\tstream[property] = value;\n\t\t\t\treturn true;\n\t\t\tcase 'setTimeout': {\n\t\t\t\tconst {session} = stream;\n\t\t\t\tif (session === undefined) {\n\t\t\t\t\tstream.setTimeout = value;\n\t\t\t\t} else {\n\t\t\t\t\tsession.setTimeout = value;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tcase 'write':\n\t\t\tcase 'read':\n\t\t\tcase 'pause':\n\t\t\tcase 'resume':\n\t\t\t\tthrow new ERR_HTTP2_NO_SOCKET_MANIPULATION();\n\t\t\tdefault: {\n\t\t\t\t// Replaced [kSocket] with .socket\n\t\t\t\tconst reference = stream.session === undefined ? stream : stream.session.socket;\n\t\t\t\treference[property] = value;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n};\n\nmodule.exports = proxySocketHandler;\n", "'use strict';\n// See https://github.com/facebook/jest/issues/2549\n// eslint-disable-next-line node/prefer-global/url\nconst {URL, urlToHttpOptions} = require('url');\nconst http2 = require('http2');\nconst {Writable} = require('stream');\nconst {Agent, globalAgent} = require('./agent.js');\nconst IncomingMessage = require('./incoming-message.js');\nconst proxyEvents = require('./utils/proxy-events.js');\nconst {\n\tERR_INVALID_ARG_TYPE,\n\tERR_INVALID_PROTOCOL,\n\tERR_HTTP_HEADERS_SENT\n} = require('./utils/errors.js');\nconst validateHeaderName = require('./utils/validate-header-name.js');\nconst validateHeaderValue = require('./utils/validate-header-value.js');\nconst proxySocketHandler = require('./utils/proxy-socket-handler.js');\n\nconst {\n\tHTTP2_HEADER_STATUS,\n\tHTTP2_HEADER_METHOD,\n\tHTTP2_HEADER_PATH,\n\tHTTP2_HEADER_AUTHORITY,\n\tHTTP2_METHOD_CONNECT\n} = http2.constants;\n\nconst kHeaders = Symbol('headers');\nconst kOrigin = Symbol('origin');\nconst kSession = Symbol('session');\nconst kOptions = Symbol('options');\nconst kFlushedHeaders = Symbol('flushedHeaders');\nconst kJobs = Symbol('jobs');\nconst kPendingAgentPromise = Symbol('pendingAgentPromise');\n\nclass ClientRequest extends Writable {\n\tconstructor(input, options, callback) {\n\t\tsuper({\n\t\t\tautoDestroy: false,\n\t\t\temitClose: false\n\t\t});\n\n\t\tif (typeof input === 'string') {\n\t\t\tinput = urlToHttpOptions(new URL(input));\n\t\t} else if (input instanceof URL) {\n\t\t\tinput = urlToHttpOptions(input);\n\t\t} else {\n\t\t\tinput = {...input};\n\t\t}\n\n\t\tif (typeof options === 'function' || options === undefined) {\n\t\t\t// (options, callback)\n\t\t\tcallback = options;\n\t\t\toptions = input;\n\t\t} else {\n\t\t\t// (input, options, callback)\n\t\t\toptions = Object.assign(input, options);\n\t\t}\n\n\t\tif (options.h2session) {\n\t\t\tthis[kSession] = options.h2session;\n\n\t\t\tif (this[kSession].destroyed) {\n\t\t\t\tthrow new Error('The session has been closed already');\n\t\t\t}\n\n\t\t\tthis.protocol = this[kSession].socket.encrypted ? 'https:' : 'http:';\n\t\t} else if (options.agent === false) {\n\t\t\tthis.agent = new Agent({maxEmptySessions: 0});\n\t\t} else if (typeof options.agent === 'undefined' || options.agent === null) {\n\t\t\tthis.agent = globalAgent;\n\t\t} else if (typeof options.agent.request === 'function') {\n\t\t\tthis.agent = options.agent;\n\t\t} else {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('options.agent', ['http2wrapper.Agent-like Object', 'undefined', 'false'], options.agent);\n\t\t}\n\n\t\tif (this.agent) {\n\t\t\tthis.protocol = this.agent.protocol;\n\t\t}\n\n\t\tif (options.protocol && options.protocol !== this.protocol) {\n\t\t\tthrow new ERR_INVALID_PROTOCOL(options.protocol, this.protocol);\n\t\t}\n\n\t\tif (!options.port) {\n\t\t\toptions.port = options.defaultPort || (this.agent && this.agent.defaultPort) || 443;\n\t\t}\n\n\t\toptions.host = options.hostname || options.host || 'localhost';\n\n\t\t// Unused\n\t\tdelete options.hostname;\n\n\t\tconst {timeout} = options;\n\t\toptions.timeout = undefined;\n\n\t\tthis[kHeaders] = Object.create(null);\n\t\tthis[kJobs] = [];\n\n\t\tthis[kPendingAgentPromise] = undefined;\n\n\t\tthis.socket = null;\n\t\tthis.connection = null;\n\n\t\tthis.method = options.method || 'GET';\n\n\t\tif (!(this.method === 'CONNECT' && (options.path === '/' || options.path === undefined))) {\n\t\t\tthis.path = options.path;\n\t\t}\n\n\t\tthis.res = null;\n\t\tthis.aborted = false;\n\t\tthis.reusedSocket = false;\n\n\t\tconst {headers} = options;\n\t\tif (headers) {\n\t\t\t// eslint-disable-next-line guard-for-in\n\t\t\tfor (const header in headers) {\n\t\t\t\tthis.setHeader(header, headers[header]);\n\t\t\t}\n\t\t}\n\n\t\tif (options.auth && !('authorization' in this[kHeaders])) {\n\t\t\tthis[kHeaders].authorization = 'Basic ' + Buffer.from(options.auth).toString('base64');\n\t\t}\n\n\t\toptions.session = options.tlsSession;\n\t\toptions.path = options.socketPath;\n\n\t\tthis[kOptions] = options;\n\n\t\t// Clients that generate HTTP/2 requests directly SHOULD use the :authority pseudo-header field instead of the Host header field.\n\t\tthis[kOrigin] = new URL(`${this.protocol}//${options.servername || options.host}:${options.port}`);\n\n\t\t// A socket is being reused\n\t\tconst reuseSocket = options._reuseSocket;\n\t\tif (reuseSocket) {\n\t\t\toptions.createConnection = (...args) => {\n\t\t\t\tif (reuseSocket.destroyed) {\n\t\t\t\t\treturn this.agent.createConnection(...args);\n\t\t\t\t}\n\n\t\t\t\treturn reuseSocket;\n\t\t\t};\n\n\t\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\t\tthis.agent.getSession(this[kOrigin], this[kOptions]).catch(() => {});\n\t\t}\n\n\t\tif (timeout) {\n\t\t\tthis.setTimeout(timeout);\n\t\t}\n\n\t\tif (callback) {\n\t\t\tthis.once('response', callback);\n\t\t}\n\n\t\tthis[kFlushedHeaders] = false;\n\t}\n\n\tget method() {\n\t\treturn this[kHeaders][HTTP2_HEADER_METHOD];\n\t}\n\n\tset method(value) {\n\t\tif (value) {\n\t\t\tthis[kHeaders][HTTP2_HEADER_METHOD] = value.toUpperCase();\n\t\t}\n\t}\n\n\tget path() {\n\t\tconst header = this.method === 'CONNECT' ? HTTP2_HEADER_AUTHORITY : HTTP2_HEADER_PATH;\n\n\t\treturn this[kHeaders][header];\n\t}\n\n\tset path(value) {\n\t\tif (value) {\n\t\t\tconst header = this.method === 'CONNECT' ? HTTP2_HEADER_AUTHORITY : HTTP2_HEADER_PATH;\n\n\t\t\tthis[kHeaders][header] = value;\n\t\t}\n\t}\n\n\tget host() {\n\t\treturn this[kOrigin].hostname;\n\t}\n\n\tset host(_value) {\n\t\t// Do nothing as this is read only.\n\t}\n\n\tget _mustNotHaveABody() {\n\t\treturn this.method === 'GET' || this.method === 'HEAD' || this.method === 'DELETE';\n\t}\n\n\t_write(chunk, encoding, callback) {\n\t\t// https://github.com/nodejs/node/blob/654df09ae0c5e17d1b52a900a545f0664d8c7627/lib/internal/http2/util.js#L148-L156\n\t\tif (this._mustNotHaveABody) {\n\t\t\tcallback(new Error('The GET, HEAD and DELETE methods must NOT have a body'));\n\t\t\t/* istanbul ignore next: Node.js 12 throws directly */\n\t\t\treturn;\n\t\t}\n\n\t\tthis.flushHeaders();\n\n\t\tconst callWrite = () => this._request.write(chunk, encoding, callback);\n\t\tif (this._request) {\n\t\t\tcallWrite();\n\t\t} else {\n\t\t\tthis[kJobs].push(callWrite);\n\t\t}\n\t}\n\n\t_final(callback) {\n\t\tthis.flushHeaders();\n\n\t\tconst callEnd = () => {\n\t\t\t// For GET, HEAD and DELETE and CONNECT\n\t\t\tif (this._mustNotHaveABody || this.method === 'CONNECT') {\n\t\t\t\tcallback();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._request.end(callback);\n\t\t};\n\n\t\tif (this._request) {\n\t\t\tcallEnd();\n\t\t} else {\n\t\t\tthis[kJobs].push(callEnd);\n\t\t}\n\t}\n\n\tabort() {\n\t\tif (this.res && this.res.complete) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.aborted) {\n\t\t\tprocess.nextTick(() => this.emit('abort'));\n\t\t}\n\n\t\tthis.aborted = true;\n\n\t\tthis.destroy();\n\t}\n\n\tasync _destroy(error, callback) {\n\t\tif (this.res) {\n\t\t\tthis.res._dump();\n\t\t}\n\n\t\tif (this._request) {\n\t\t\tthis._request.destroy();\n\t\t} else {\n\t\t\tprocess.nextTick(() => {\n\t\t\t\tthis.emit('close');\n\t\t\t});\n\t\t}\n\n\t\ttry {\n\t\t\tawait this[kPendingAgentPromise];\n\t\t} catch (internalError) {\n\t\t\tif (this.aborted) {\n\t\t\t\terror = internalError;\n\t\t\t}\n\t\t}\n\n\t\tcallback(error);\n\t}\n\n\tasync flushHeaders() {\n\t\tif (this[kFlushedHeaders] || this.destroyed) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis[kFlushedHeaders] = true;\n\n\t\tconst isConnectMethod = this.method === HTTP2_METHOD_CONNECT;\n\n\t\t// The real magic is here\n\t\tconst onStream = stream => {\n\t\t\tthis._request = stream;\n\n\t\t\tif (this.destroyed) {\n\t\t\t\tstream.destroy();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Forwards `timeout`, `continue`, `close` and `error` events to this instance.\n\t\t\tif (!isConnectMethod) {\n\t\t\t\t// TODO: Should we proxy `close` here?\n\t\t\t\tproxyEvents(stream, this, ['timeout', 'continue']);\n\t\t\t}\n\n\t\t\tstream.once('error', error => {\n\t\t\t\tthis.destroy(error);\n\t\t\t});\n\n\t\t\tstream.once('aborted', () => {\n\t\t\t\tconst {res} = this;\n\t\t\t\tif (res) {\n\t\t\t\t\tres.aborted = true;\n\t\t\t\t\tres.emit('aborted');\n\t\t\t\t\tres.destroy();\n\t\t\t\t} else {\n\t\t\t\t\tthis.destroy(new Error('The server aborted the HTTP/2 stream'));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst onResponse = (headers, flags, rawHeaders) => {\n\t\t\t\t// If we were to emit raw request stream, it would be as fast as the native approach.\n\t\t\t\t// Note that wrapping the raw stream in a Proxy instance won't improve the performance (already tested it).\n\t\t\t\tconst response = new IncomingMessage(this.socket, stream.readableHighWaterMark);\n\t\t\t\tthis.res = response;\n\n\t\t\t\t// Undocumented, but it is used by `cacheable-request`\n\t\t\t\tresponse.url = `${this[kOrigin].origin}${this.path}`;\n\n\t\t\t\tresponse.req = this;\n\t\t\t\tresponse.statusCode = headers[HTTP2_HEADER_STATUS];\n\t\t\t\tresponse.headers = headers;\n\t\t\t\tresponse.rawHeaders = rawHeaders;\n\n\t\t\t\tresponse.once('end', () => {\n\t\t\t\t\tresponse.complete = true;\n\n\t\t\t\t\t// Has no effect, just be consistent with the Node.js behavior\n\t\t\t\t\tresponse.socket = null;\n\t\t\t\t\tresponse.connection = null;\n\t\t\t\t});\n\n\t\t\t\tif (isConnectMethod) {\n\t\t\t\t\tresponse.upgrade = true;\n\n\t\t\t\t\t// The HTTP1 API says the socket is detached here,\n\t\t\t\t\t// but we can't do that so we pass the original HTTP2 request.\n\t\t\t\t\tif (this.emit('connect', response, stream, Buffer.alloc(0))) {\n\t\t\t\t\t\tthis.emit('close');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// No listeners attached, destroy the original request.\n\t\t\t\t\t\tstream.destroy();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Forwards data\n\t\t\t\t\tstream.on('data', chunk => {\n\t\t\t\t\t\tif (!response._dumped && !response.push(chunk)) {\n\t\t\t\t\t\t\tstream.pause();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tstream.once('end', () => {\n\t\t\t\t\t\tif (!this.aborted) {\n\t\t\t\t\t\t\tresponse.push(null);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!this.emit('response', response)) {\n\t\t\t\t\t\t// No listeners attached, dump the response.\n\t\t\t\t\t\tresponse._dump();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// This event tells we are ready to listen for the data.\n\t\t\tstream.once('response', onResponse);\n\n\t\t\t// Emits `information` event\n\t\t\tstream.once('headers', headers => this.emit('information', {statusCode: headers[HTTP2_HEADER_STATUS]}));\n\n\t\t\tstream.once('trailers', (trailers, flags, rawTrailers) => {\n\t\t\t\tconst {res} = this;\n\n\t\t\t\t// https://github.com/nodejs/node/issues/41251\n\t\t\t\tif (res === null) {\n\t\t\t\t\tonResponse(trailers, flags, rawTrailers);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Assigns trailers to the response object.\n\t\t\t\tres.trailers = trailers;\n\t\t\t\tres.rawTrailers = rawTrailers;\n\t\t\t});\n\n\t\t\tstream.once('close', () => {\n\t\t\t\tconst {aborted, res} = this;\n\t\t\t\tif (res) {\n\t\t\t\t\tif (aborted) {\n\t\t\t\t\t\tres.aborted = true;\n\t\t\t\t\t\tres.emit('aborted');\n\t\t\t\t\t\tres.destroy();\n\t\t\t\t\t}\n\n\t\t\t\t\tconst finish = () => {\n\t\t\t\t\t\tres.emit('close');\n\n\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t\tthis.emit('close');\n\t\t\t\t\t};\n\n\t\t\t\t\tif (res.readable) {\n\t\t\t\t\t\tres.once('end', finish);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfinish();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!this.destroyed) {\n\t\t\t\t\tthis.destroy(new Error('The HTTP/2 stream has been early terminated'));\n\t\t\t\t\tthis.emit('close');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.destroy();\n\t\t\t\tthis.emit('close');\n\t\t\t});\n\n\t\t\tthis.socket = new Proxy(stream, proxySocketHandler);\n\n\t\t\tfor (const job of this[kJobs]) {\n\t\t\t\tjob();\n\t\t\t}\n\n\t\t\tthis[kJobs].length = 0;\n\n\t\t\tthis.emit('socket', this.socket);\n\t\t};\n\n\t\tif (!(HTTP2_HEADER_AUTHORITY in this[kHeaders]) && !isConnectMethod) {\n\t\t\tthis[kHeaders][HTTP2_HEADER_AUTHORITY] = this[kOrigin].host;\n\t\t}\n\n\t\t// Makes a HTTP2 request\n\t\tif (this[kSession]) {\n\t\t\ttry {\n\t\t\t\tonStream(this[kSession].request(this[kHeaders]));\n\t\t\t} catch (error) {\n\t\t\t\tthis.destroy(error);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.reusedSocket = true;\n\n\t\t\ttry {\n\t\t\t\tconst promise = this.agent.request(this[kOrigin], this[kOptions], this[kHeaders]);\n\t\t\t\tthis[kPendingAgentPromise] = promise;\n\n\t\t\t\tonStream(await promise);\n\n\t\t\t\tthis[kPendingAgentPromise] = false;\n\t\t\t} catch (error) {\n\t\t\t\tthis[kPendingAgentPromise] = false;\n\n\t\t\t\tthis.destroy(error);\n\t\t\t}\n\t\t}\n\t}\n\n\tget connection() {\n\t\treturn this.socket;\n\t}\n\n\tset connection(value) {\n\t\tthis.socket = value;\n\t}\n\n\tgetHeaderNames() {\n\t\treturn Object.keys(this[kHeaders]);\n\t}\n\n\thasHeader(name) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('name', 'string', name);\n\t\t}\n\n\t\treturn Boolean(this[kHeaders][name.toLowerCase()]);\n\t}\n\n\tgetHeader(name) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('name', 'string', name);\n\t\t}\n\n\t\treturn this[kHeaders][name.toLowerCase()];\n\t}\n\n\tget headersSent() {\n\t\treturn this[kFlushedHeaders];\n\t}\n\n\tremoveHeader(name) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('name', 'string', name);\n\t\t}\n\n\t\tif (this.headersSent) {\n\t\t\tthrow new ERR_HTTP_HEADERS_SENT('remove');\n\t\t}\n\n\t\tdelete this[kHeaders][name.toLowerCase()];\n\t}\n\n\tsetHeader(name, value) {\n\t\tif (this.headersSent) {\n\t\t\tthrow new ERR_HTTP_HEADERS_SENT('set');\n\t\t}\n\n\t\tvalidateHeaderName(name);\n\t\tvalidateHeaderValue(name, value);\n\n\t\tconst lowercased = name.toLowerCase();\n\n\t\tif (lowercased === 'connection') {\n\t\t\tif (value.toLowerCase() === 'keep-alive') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthrow new Error(`Invalid 'connection' header: ${value}`);\n\t\t}\n\n\t\tif (lowercased === 'host' && this.method === 'CONNECT') {\n\t\t\tthis[kHeaders][HTTP2_HEADER_AUTHORITY] = value;\n\t\t} else {\n\t\t\tthis[kHeaders][lowercased] = value;\n\t\t}\n\t}\n\n\tsetNoDelay() {\n\t\t// HTTP2 sockets cannot be malformed, do nothing.\n\t}\n\n\tsetSocketKeepAlive() {\n\t\t// HTTP2 sockets cannot be malformed, do nothing.\n\t}\n\n\tsetTimeout(ms, callback) {\n\t\tconst applyTimeout = () => this._request.setTimeout(ms, callback);\n\n\t\tif (this._request) {\n\t\t\tapplyTimeout();\n\t\t} else {\n\t\t\tthis[kJobs].push(applyTimeout);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tget maxHeadersCount() {\n\t\tif (!this.destroyed && this._request) {\n\t\t\treturn this._request.session.localSettings.maxHeaderListSize;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tset maxHeadersCount(_value) {\n\t\t// Updating HTTP2 settings would affect all requests, do nothing.\n\t}\n}\n\nmodule.exports = ClientRequest;\n", "'use strict';\nconst tls = require('tls');\n\nmodule.exports = (options = {}, connect = tls.connect) => new Promise((resolve, reject) => {\n\tlet timeout = false;\n\n\tlet socket;\n\n\tconst callback = async () => {\n\t\tawait socketPromise;\n\n\t\tsocket.off('timeout', onTimeout);\n\t\tsocket.off('error', reject);\n\n\t\tif (options.resolveSocket) {\n\t\t\tresolve({alpnProtocol: socket.alpnProtocol, socket, timeout});\n\n\t\t\tif (timeout) {\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tsocket.emit('timeout');\n\t\t\t}\n\t\t} else {\n\t\t\tsocket.destroy();\n\t\t\tresolve({alpnProtocol: socket.alpnProtocol, timeout});\n\t\t}\n\t};\n\n\tconst onTimeout = async () => {\n\t\ttimeout = true;\n\t\tcallback();\n\t};\n\n\tconst socketPromise = (async () => {\n\t\ttry {\n\t\t\tsocket = await connect(options, callback);\n\n\t\t\tsocket.on('error', reject);\n\t\t\tsocket.once('timeout', onTimeout);\n\t\t} catch (error) {\n\t\t\treject(error);\n\t\t}\n\t})();\n});\n", "'use strict';\nconst {isIP} = require('net');\nconst assert = require('assert');\n\nconst getHost = host => {\n\tif (host[0] === '[') {\n\t\tconst idx = host.indexOf(']');\n\n\t\tassert(idx !== -1);\n\t\treturn host.slice(1, idx);\n\t}\n\n\tconst idx = host.indexOf(':');\n\tif (idx === -1) {\n\t\treturn host;\n\t}\n\n\treturn host.slice(0, idx);\n};\n\nmodule.exports = host => {\n\tconst servername = getHost(host);\n\n\tif (isIP(servername)) {\n\t\treturn '';\n\t}\n\n\treturn servername;\n};\n", "'use strict';\n// See https://github.com/facebook/jest/issues/2549\n// eslint-disable-next-line node/prefer-global/url\nconst {URL, urlToHttpOptions} = require('url');\nconst http = require('http');\nconst https = require('https');\nconst resolveALPN = require('resolve-alpn');\nconst QuickLRU = require('quick-lru');\nconst {Agent, globalAgent} = require('./agent.js');\nconst Http2ClientRequest = require('./client-request.js');\nconst calculateServerName = require('./utils/calculate-server-name.js');\nconst delayAsyncDestroy = require('./utils/delay-async-destroy.js');\n\nconst cache = new QuickLRU({maxSize: 100});\nconst queue = new Map();\n\nconst installSocket = (agent, socket, options) => {\n\tsocket._httpMessage = {shouldKeepAlive: true};\n\n\tconst onFree = () => {\n\t\tagent.emit('free', socket, options);\n\t};\n\n\tsocket.on('free', onFree);\n\n\tconst onClose = () => {\n\t\tagent.removeSocket(socket, options);\n\t};\n\n\tsocket.on('close', onClose);\n\n\tconst onTimeout = () => {\n\t\tconst {freeSockets} = agent;\n\n\t\tfor (const sockets of Object.values(freeSockets)) {\n\t\t\tif (sockets.includes(socket)) {\n\t\t\t\tsocket.destroy();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t};\n\n\tsocket.on('timeout', onTimeout);\n\n\tconst onRemove = () => {\n\t\tagent.removeSocket(socket, options);\n\t\tsocket.off('close', onClose);\n\t\tsocket.off('free', onFree);\n\t\tsocket.off('timeout', onTimeout);\n\t\tsocket.off('agentRemove', onRemove);\n\t};\n\n\tsocket.on('agentRemove', onRemove);\n\n\tagent.emit('free', socket, options);\n};\n\nconst createResolveProtocol = (cache, queue = new Map(), connect = undefined) => {\n\treturn async options => {\n\t\tconst name = `${options.host}:${options.port}:${options.ALPNProtocols.sort()}`;\n\n\t\tif (!cache.has(name)) {\n\t\t\tif (queue.has(name)) {\n\t\t\t\tconst result = await queue.get(name);\n\t\t\t\treturn {alpnProtocol: result.alpnProtocol};\n\t\t\t}\n\n\t\t\tconst {path} = options;\n\t\t\toptions.path = options.socketPath;\n\n\t\t\tconst resultPromise = resolveALPN(options, connect);\n\t\t\tqueue.set(name, resultPromise);\n\n\t\t\ttry {\n\t\t\t\tconst result = await resultPromise;\n\n\t\t\t\tcache.set(name, result.alpnProtocol);\n\t\t\t\tqueue.delete(name);\n\n\t\t\t\toptions.path = path;\n\n\t\t\t\treturn result;\n\t\t\t} catch (error) {\n\t\t\t\tqueue.delete(name);\n\n\t\t\t\toptions.path = path;\n\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\n\t\treturn {alpnProtocol: cache.get(name)};\n\t};\n};\n\nconst defaultResolveProtocol = createResolveProtocol(cache, queue);\n\nmodule.exports = async (input, options, callback) => {\n\tif (typeof input === 'string') {\n\t\tinput = urlToHttpOptions(new URL(input));\n\t} else if (input instanceof URL) {\n\t\tinput = urlToHttpOptions(input);\n\t} else {\n\t\tinput = {...input};\n\t}\n\n\tif (typeof options === 'function' || options === undefined) {\n\t\t// (options, callback)\n\t\tcallback = options;\n\t\toptions = input;\n\t} else {\n\t\t// (input, options, callback)\n\t\toptions = Object.assign(input, options);\n\t}\n\n\toptions.ALPNProtocols = options.ALPNProtocols || ['h2', 'http/1.1'];\n\n\tif (!Array.isArray(options.ALPNProtocols) || options.ALPNProtocols.length === 0) {\n\t\tthrow new Error('The `ALPNProtocols` option must be an Array with at least one entry');\n\t}\n\n\toptions.protocol = options.protocol || 'https:';\n\tconst isHttps = options.protocol === 'https:';\n\n\toptions.host = options.hostname || options.host || 'localhost';\n\toptions.session = options.tlsSession;\n\toptions.servername = options.servername || calculateServerName((options.headers && options.headers.host) || options.host);\n\toptions.port = options.port || (isHttps ? 443 : 80);\n\toptions._defaultAgent = isHttps ? https.globalAgent : http.globalAgent;\n\n\tconst resolveProtocol = options.resolveProtocol || defaultResolveProtocol;\n\n\t// Note: We don't support `h2session` here\n\n\tlet {agent} = options;\n\tif (agent !== undefined && agent !== false && agent.constructor.name !== 'Object') {\n\t\tthrow new Error('The `options.agent` can be only an object `http`, `https` or `http2` properties');\n\t}\n\n\tif (isHttps) {\n\t\toptions.resolveSocket = true;\n\n\t\tlet {socket, alpnProtocol, timeout} = await resolveProtocol(options);\n\n\t\tif (timeout) {\n\t\t\tif (socket) {\n\t\t\t\tsocket.destroy();\n\t\t\t}\n\n\t\t\tconst error = new Error(`Timed out resolving ALPN: ${options.timeout} ms`);\n\t\t\terror.code = 'ETIMEDOUT';\n\t\t\terror.ms = options.timeout;\n\n\t\t\tthrow error;\n\t\t}\n\n\t\t// We can't accept custom `createConnection` because the API is different for HTTP/2\n\t\tif (socket && options.createConnection) {\n\t\t\tsocket.destroy();\n\t\t\tsocket = undefined;\n\t\t}\n\n\t\tdelete options.resolveSocket;\n\n\t\tconst isHttp2 = alpnProtocol === 'h2';\n\n\t\tif (agent) {\n\t\t\tagent = isHttp2 ? agent.http2 : agent.https;\n\t\t\toptions.agent = agent;\n\t\t}\n\n\t\tif (agent === undefined) {\n\t\t\tagent = isHttp2 ? globalAgent : https.globalAgent;\n\t\t}\n\n\t\tif (socket) {\n\t\t\tif (agent === false) {\n\t\t\t\tsocket.destroy();\n\t\t\t} else {\n\t\t\t\tconst defaultCreateConnection = (isHttp2 ? Agent : https.Agent).prototype.createConnection;\n\n\t\t\t\tif (agent.createConnection === defaultCreateConnection) {\n\t\t\t\t\tif (isHttp2) {\n\t\t\t\t\t\toptions._reuseSocket = socket;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinstallSocket(agent, socket, options);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsocket.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (isHttp2) {\n\t\t\treturn delayAsyncDestroy(new Http2ClientRequest(options, callback));\n\t\t}\n\t} else if (agent) {\n\t\toptions.agent = agent.http;\n\t}\n\n\t// If we're sending HTTP/1.1, handle any explicitly set H2 headers in the options:\n\tif (options.headers) {\n\t\toptions.headers = {...options.headers};\n\n\t\t// :authority is equivalent to the HTTP/1.1 host header\n\t\tif (options.headers[':authority']) {\n\t\t\tif (!options.headers.host) {\n\t\t\t\toptions.headers.host = options.headers[':authority'];\n\t\t\t}\n\n\t\t\tdelete options.headers[':authority'];\n\t\t}\n\n\t\t// Remove other HTTP/2 headers as they have their counterparts in the options\n\t\tdelete options.headers[':method'];\n\t\tdelete options.headers[':scheme'];\n\t\tdelete options.headers[':path'];\n\t}\n\n\treturn delayAsyncDestroy(http.request(options, callback));\n};\n\nmodule.exports.protocolCache = cache;\nmodule.exports.resolveProtocol = defaultResolveProtocol;\nmodule.exports.createResolveProtocol = createResolveProtocol;\n", "'use strict';\nconst stream = require('stream');\nconst tls = require('tls');\n\n// Really awesome hack.\nconst JSStreamSocket = (new tls.TLSSocket(new stream.PassThrough()))._handle._parentWrap.constructor;\n\nmodule.exports = JSStreamSocket;\n", "'use strict';\n\nclass UnexpectedStatusCodeError extends Error {\n\tconstructor(statusCode, statusMessage = '') {\n\t\tsuper(`The proxy server rejected the request with status code ${statusCode} (${statusMessage || 'empty status message'})`);\n\t\tthis.statusCode = statusCode;\n\t\tthis.statusMessage = statusMessage;\n\t}\n}\n\nmodule.exports = UnexpectedStatusCodeError;\n", "'use strict';\n\nconst checkType = (name, value, types) => {\n\tconst valid = types.some(type => {\n\t\tconst typeofType = typeof type;\n\t\tif (typeofType === 'string') {\n\t\t\treturn typeof value === type;\n\t\t}\n\n\t\treturn value instanceof type;\n\t});\n\n\tif (!valid) {\n\t\tconst names = types.map(type => typeof type === 'string' ? type : type.name);\n\n\t\tthrow new TypeError(`Expected '${name}' to be a type of ${names.join(' or ')}, got ${typeof value}`);\n\t}\n};\n\nmodule.exports = checkType;\n", "'use strict';\n// See https://github.com/facebook/jest/issues/2549\n// eslint-disable-next-line node/prefer-global/url\nconst {URL} = require('url');\nconst checkType = require('../utils/check-type.js');\n\nmodule.exports = (self, proxyOptions) => {\n\tcheckType('proxyOptions', proxyOptions, ['object']);\n\tcheckType('proxyOptions.headers', proxyOptions.headers, ['object', 'undefined']);\n\tcheckType('proxyOptions.raw', proxyOptions.raw, ['boolean', 'undefined']);\n\tcheckType('proxyOptions.url', proxyOptions.url, [URL, 'string']);\n\n\tconst url = new URL(proxyOptions.url);\n\n\tself.proxyOptions = {\n\t\traw: true,\n\t\t...proxyOptions,\n\t\theaders: {...proxyOptions.headers},\n\t\turl\n\t};\n};\n", "'use strict';\n\nmodule.exports = self => {\n\tconst {username, password} = self.proxyOptions.url;\n\n\tif (username || password) {\n\t\tconst data = `${username}:${password}`;\n\t\tconst authorization = `Basic ${Buffer.from(data).toString('base64')}`;\n\n\t\treturn {\n\t\t\t'proxy-authorization': authorization,\n\t\t\tauthorization\n\t\t};\n\t}\n\n\treturn {};\n};\n", "'use strict';\nconst tls = require('tls');\nconst http = require('http');\nconst https = require('https');\nconst JSStreamSocket = require('../utils/js-stream-socket.js');\nconst {globalAgent} = require('../agent.js');\nconst UnexpectedStatusCodeError = require('./unexpected-status-code-error.js');\nconst initialize = require('./initialize.js');\nconst getAuthorizationHeaders = require('./get-auth-headers.js');\n\nconst createConnection = (self, options, callback) => {\n\t(async () => {\n\t\ttry {\n\t\t\tconst {proxyOptions} = self;\n\t\t\tconst {url, headers, raw} = proxyOptions;\n\n\t\t\tconst stream = await globalAgent.request(url, proxyOptions, {\n\t\t\t\t...getAuthorizationHeaders(self),\n\t\t\t\t...headers,\n\t\t\t\t':method': 'CONNECT',\n\t\t\t\t':authority': `${options.host}:${options.port}`\n\t\t\t});\n\n\t\t\tstream.once('error', callback);\n\t\t\tstream.once('response', headers => {\n\t\t\t\tconst statusCode = headers[':status'];\n\n\t\t\t\tif (statusCode !== 200) {\n\t\t\t\t\tcallback(new UnexpectedStatusCodeError(statusCode, ''));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst encrypted = self instanceof https.Agent;\n\n\t\t\t\tif (raw && encrypted) {\n\t\t\t\t\toptions.socket = stream;\n\t\t\t\t\tconst secureStream = tls.connect(options);\n\n\t\t\t\t\tsecureStream.once('close', () => {\n\t\t\t\t\t\tstream.destroy();\n\t\t\t\t\t});\n\n\t\t\t\t\tcallback(null, secureStream);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst socket = new JSStreamSocket(stream);\n\t\t\t\tsocket.encrypted = false;\n\t\t\t\tsocket._handle.getpeername = out => {\n\t\t\t\t\tout.family = undefined;\n\t\t\t\t\tout.address = undefined;\n\t\t\t\t\tout.port = undefined;\n\t\t\t\t};\n\n\t\t\t\tcallback(null, socket);\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tcallback(error);\n\t\t}\n\t})();\n};\n\nclass HttpOverHttp2 extends http.Agent {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tinitialize(this, options.proxyOptions);\n\t}\n\n\tcreateConnection(options, callback) {\n\t\tcreateConnection(this, options, callback);\n\t}\n}\n\nclass HttpsOverHttp2 extends https.Agent {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tinitialize(this, options.proxyOptions);\n\t}\n\n\tcreateConnection(options, callback) {\n\t\tcreateConnection(this, options, callback);\n\t}\n}\n\nmodule.exports = {\n\tHttpOverHttp2,\n\tHttpsOverHttp2\n};\n", "'use strict';\nconst {Agent} = require('../agent.js');\nconst JSStreamSocket = require('../utils/js-stream-socket.js');\nconst UnexpectedStatusCodeError = require('./unexpected-status-code-error.js');\nconst initialize = require('./initialize.js');\n\nclass Http2OverHttpX extends Agent {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tinitialize(this, options.proxyOptions);\n\t}\n\n\tasync createConnection(origin, options) {\n\t\tconst authority = `${origin.hostname}:${origin.port || 443}`;\n\n\t\tconst [stream, statusCode, statusMessage] = await this._getProxyStream(authority);\n\t\tif (statusCode !== 200) {\n\t\t\tthrow new UnexpectedStatusCodeError(statusCode, statusMessage);\n\t\t}\n\n\t\tif (this.proxyOptions.raw) {\n\t\t\toptions.socket = stream;\n\t\t} else {\n\t\t\tconst socket = new JSStreamSocket(stream);\n\t\t\tsocket.encrypted = false;\n\t\t\tsocket._handle.getpeername = out => {\n\t\t\t\tout.family = undefined;\n\t\t\t\tout.address = undefined;\n\t\t\t\tout.port = undefined;\n\t\t\t};\n\n\t\t\treturn socket;\n\t\t}\n\n\t\treturn super.createConnection(origin, options);\n\t}\n}\n\nmodule.exports = Http2OverHttpX;\n", "'use strict';\nconst {globalAgent} = require('../agent.js');\nconst Http2OverHttpX = require('./h2-over-hx.js');\nconst getAuthorizationHeaders = require('./get-auth-headers.js');\n\nconst getStatusCode = stream => new Promise((resolve, reject) => {\n\tstream.once('error', reject);\n\tstream.once('response', headers => {\n\t\tstream.off('error', reject);\n\t\tresolve(headers[':status']);\n\t});\n});\n\nclass Http2OverHttp2 extends Http2OverHttpX {\n\tasync _getProxyStream(authority) {\n\t\tconst {proxyOptions} = this;\n\n\t\tconst headers = {\n\t\t\t...getAuthorizationHeaders(this),\n\t\t\t...proxyOptions.headers,\n\t\t\t':method': 'CONNECT',\n\t\t\t':authority': authority\n\t\t};\n\n\t\tconst stream = await globalAgent.request(proxyOptions.url, proxyOptions, headers);\n\t\tconst statusCode = await getStatusCode(stream);\n\n\t\treturn [stream, statusCode, ''];\n\t}\n}\n\nmodule.exports = Http2OverHttp2;\n", "'use strict';\nconst http = require('http');\nconst https = require('https');\nconst Http2OverHttpX = require('./h2-over-hx.js');\nconst getAuthorizationHeaders = require('./get-auth-headers.js');\n\nconst getStream = request => new Promise((resolve, reject) => {\n\tconst onConnect = (response, socket, head) => {\n\t\tsocket.unshift(head);\n\n\t\trequest.off('error', reject);\n\t\tresolve([socket, response.statusCode, response.statusMessage]);\n\t};\n\n\trequest.once('error', reject);\n\trequest.once('connect', onConnect);\n});\n\nclass Http2OverHttp extends Http2OverHttpX {\n\tasync _getProxyStream(authority) {\n\t\tconst {proxyOptions} = this;\n\t\tconst {url, headers} = this.proxyOptions;\n\n\t\tconst network = url.protocol === 'https:' ? https : http;\n\n\t\t// `new URL('https://localhost/httpbin.org:443')` results in\n\t\t// a `/httpbin.org:443` path, which has an invalid leading slash.\n\t\tconst request = network.request({\n\t\t\t...proxyOptions,\n\t\t\thostname: url.hostname,\n\t\t\tport: url.port,\n\t\t\tpath: authority,\n\t\t\theaders: {\n\t\t\t\t...getAuthorizationHeaders(this),\n\t\t\t\t...headers,\n\t\t\t\thost: authority\n\t\t\t},\n\t\t\tmethod: 'CONNECT'\n\t\t}).end();\n\n\t\treturn getStream(request);\n\t}\n}\n\nmodule.exports = {\n\tHttp2OverHttp,\n\tHttp2OverHttps: Http2OverHttp\n};\n", "'use strict';\nconst http2 = require('http2');\nconst {\n\tAgent,\n\tglobalAgent\n} = require('./agent.js');\nconst ClientRequest = require('./client-request.js');\nconst IncomingMessage = require('./incoming-message.js');\nconst auto = require('./auto.js');\nconst {\n\tHttpOverHttp2,\n\tHttpsOverHttp2\n} = require('./proxies/h1-over-h2.js');\nconst Http2OverHttp2 = require('./proxies/h2-over-h2.js');\nconst {\n\tHttp2OverHttp,\n\tHttp2OverHttps\n} = require('./proxies/h2-over-h1.js');\nconst validateHeaderName = require('./utils/validate-header-name.js');\nconst validateHeaderValue = require('./utils/validate-header-value.js');\n\nconst request = (url, options, callback) => new ClientRequest(url, options, callback);\n\nconst get = (url, options, callback) => {\n\t// eslint-disable-next-line unicorn/prevent-abbreviations\n\tconst req = new ClientRequest(url, options, callback);\n\treq.end();\n\n\treturn req;\n};\n\nmodule.exports = {\n\t...http2,\n\tClientRequest,\n\tIncomingMessage,\n\tAgent,\n\tglobalAgent,\n\trequest,\n\tget,\n\tauto,\n\tproxies: {\n\t\tHttpOverHttp2,\n\t\tHttpsOverHttp2,\n\t\tHttp2OverHttp2,\n\t\tHttp2OverHttp,\n\t\tHttp2OverHttps\n\t},\n\tvalidateHeaderName,\n\tvalidateHeaderValue\n};\n", "\"use strict\";\n// Exporting constants directly to maintain compatability with v1\n// These are deprecated. Please don't add any new codes here.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.USE_PROXY = exports.UNSUPPORTED_MEDIA_TYPE = exports.UNPROCESSABLE_ENTITY = exports.UNAUTHORIZED = exports.TOO_MANY_REQUESTS = exports.TEMPORARY_REDIRECT = exports.SWITCHING_PROTOCOLS = exports.SERVICE_UNAVAILABLE = exports.SEE_OTHER = exports.RESET_CONTENT = exports.REQUESTED_RANGE_NOT_SATISFIABLE = exports.REQUEST_URI_TOO_LONG = exports.REQUEST_TOO_LONG = exports.REQUEST_TIMEOUT = exports.REQUEST_HEADER_FIELDS_TOO_LARGE = exports.PROXY_AUTHENTICATION_REQUIRED = exports.PROCESSING = exports.PRECONDITION_REQUIRED = exports.PRECONDITION_FAILED = exports.PERMANENT_REDIRECT = exports.PAYMENT_REQUIRED = exports.PARTIAL_CONTENT = exports.OK = exports.NOT_MODIFIED = exports.NOT_IMPLEMENTED = exports.NOT_FOUND = exports.NOT_ACCEPTABLE = exports.NON_AUTHORITATIVE_INFORMATION = exports.NO_CONTENT = exports.NETWORK_AUTHENTICATION_REQUIRED = exports.MULTIPLE_CHOICES = exports.MULTI_STATUS = exports.MOVED_TEMPORARILY = exports.MOVED_PERMANENTLY = exports.METHOD_NOT_ALLOWED = exports.METHOD_FAILURE = exports.LOCKED = exports.LENGTH_REQUIRED = exports.INTERNAL_SERVER_ERROR = exports.INSUFFICIENT_STORAGE = exports.INSUFFICIENT_SPACE_ON_RESOURCE = exports.IM_A_TEAPOT = exports.HTTP_VERSION_NOT_SUPPORTED = exports.GONE = exports.GATEWAY_TIMEOUT = exports.FORBIDDEN = exports.FAILED_DEPENDENCY = exports.EXPECTATION_FAILED = exports.CREATED = exports.CONTINUE = exports.CONFLICT = exports.BAD_REQUEST = exports.BAD_GATEWAY = exports.ACCEPTED = void 0;\n/**\n * @deprecated Please use StatusCodes.ACCEPTED\n *\n * */\nexports.ACCEPTED = 202;\n/**\n * @deprecated Please use StatusCodes.BAD_GATEWAY\n *\n * */\nexports.BAD_GATEWAY = 502;\n/**\n * @deprecated Please use StatusCodes.BAD_REQUEST\n *\n * */\nexports.BAD_REQUEST = 400;\n/**\n * @deprecated Please use StatusCodes.CONFLICT\n *\n * */\nexports.CONFLICT = 409;\n/**\n * @deprecated Please use StatusCodes.CONTINUE\n *\n * */\nexports.CONTINUE = 100;\n/**\n * @deprecated Please use StatusCodes.CREATED\n *\n * */\nexports.CREATED = 201;\n/**\n * @deprecated Please use StatusCodes.EXPECTATION_FAILED\n *\n * */\nexports.EXPECTATION_FAILED = 417;\n/**\n * @deprecated Please use StatusCodes.FAILED_DEPENDENCY\n *\n * */\nexports.FAILED_DEPENDENCY = 424;\n/**\n * @deprecated Please use StatusCodes.FORBIDDEN\n *\n * */\nexports.FORBIDDEN = 403;\n/**\n * @deprecated Please use StatusCodes.GATEWAY_TIMEOUT\n *\n * */\nexports.GATEWAY_TIMEOUT = 504;\n/**\n * @deprecated Please use StatusCodes.GONE\n *\n * */\nexports.GONE = 410;\n/**\n * @deprecated Please use StatusCodes.HTTP_VERSION_NOT_SUPPORTED\n *\n * */\nexports.HTTP_VERSION_NOT_SUPPORTED = 505;\n/**\n * @deprecated Please use StatusCodes.IM_A_TEAPOT\n *\n * */\nexports.IM_A_TEAPOT = 418;\n/**\n * @deprecated Please use StatusCodes.INSUFFICIENT_SPACE_ON_RESOURCE\n *\n * */\nexports.INSUFFICIENT_SPACE_ON_RESOURCE = 419;\n/**\n * @deprecated Please use StatusCodes.INSUFFICIENT_STORAGE\n *\n * */\nexports.INSUFFICIENT_STORAGE = 507;\n/**\n * @deprecated Please use StatusCodes.INTERNAL_SERVER_ERROR\n *\n * */\nexports.INTERNAL_SERVER_ERROR = 500;\n/**\n * @deprecated Please use StatusCodes.LENGTH_REQUIRED\n *\n * */\nexports.LENGTH_REQUIRED = 411;\n/**\n * @deprecated Please use StatusCodes.LOCKED\n *\n * */\nexports.LOCKED = 423;\n/**\n * @deprecated Please use StatusCodes.METHOD_FAILURE\n *\n * */\nexports.METHOD_FAILURE = 420;\n/**\n * @deprecated Please use StatusCodes.METHOD_NOT_ALLOWED\n *\n * */\nexports.METHOD_NOT_ALLOWED = 405;\n/**\n * @deprecated Please use StatusCodes.MOVED_PERMANENTLY\n *\n * */\nexports.MOVED_PERMANENTLY = 301;\n/**\n * @deprecated Please use StatusCodes.MOVED_TEMPORARILY\n *\n * */\nexports.MOVED_TEMPORARILY = 302;\n/**\n * @deprecated Please use StatusCodes.MULTI_STATUS\n *\n * */\nexports.MULTI_STATUS = 207;\n/**\n * @deprecated Please use StatusCodes.MULTIPLE_CHOICES\n *\n * */\nexports.MULTIPLE_CHOICES = 300;\n/**\n * @deprecated Please use StatusCodes.NETWORK_AUTHENTICATION_REQUIRED\n *\n * */\nexports.NETWORK_AUTHENTICATION_REQUIRED = 511;\n/**\n * @deprecated Please use StatusCodes.NO_CONTENT\n *\n * */\nexports.NO_CONTENT = 204;\n/**\n * @deprecated Please use StatusCodes.NON_AUTHORITATIVE_INFORMATION\n *\n * */\nexports.NON_AUTHORITATIVE_INFORMATION = 203;\n/**\n * @deprecated Please use StatusCodes.NOT_ACCEPTABLE\n *\n * */\nexports.NOT_ACCEPTABLE = 406;\n/**\n * @deprecated Please use StatusCodes.NOT_FOUND\n *\n * */\nexports.NOT_FOUND = 404;\n/**\n * @deprecated Please use StatusCodes.NOT_IMPLEMENTED\n *\n * */\nexports.NOT_IMPLEMENTED = 501;\n/**\n * @deprecated Please use StatusCodes.NOT_MODIFIED\n *\n * */\nexports.NOT_MODIFIED = 304;\n/**\n * @deprecated Please use StatusCodes.OK\n *\n * */\nexports.OK = 200;\n/**\n * @deprecated Please use StatusCodes.PARTIAL_CONTENT\n *\n * */\nexports.PARTIAL_CONTENT = 206;\n/**\n * @deprecated Please use StatusCodes.PAYMENT_REQUIRED\n *\n * */\nexports.PAYMENT_REQUIRED = 402;\n/**\n * @deprecated Please use StatusCodes.PERMANENT_REDIRECT\n *\n * */\nexports.PERMANENT_REDIRECT = 308;\n/**\n * @deprecated Please use StatusCodes.PRECONDITION_FAILED\n *\n * */\nexports.PRECONDITION_FAILED = 412;\n/**\n * @deprecated Please use StatusCodes.PRECONDITION_REQUIRED\n *\n * */\nexports.PRECONDITION_REQUIRED = 428;\n/**\n * @deprecated Please use StatusCodes.PROCESSING\n *\n * */\nexports.PROCESSING = 102;\n/**\n * @deprecated Please use StatusCodes.PROXY_AUTHENTICATION_REQUIRED\n *\n * */\nexports.PROXY_AUTHENTICATION_REQUIRED = 407;\n/**\n * @deprecated Please use StatusCodes.REQUEST_HEADER_FIELDS_TOO_LARGE\n *\n * */\nexports.REQUEST_HEADER_FIELDS_TOO_LARGE = 431;\n/**\n * @deprecated Please use StatusCodes.REQUEST_TIMEOUT\n *\n * */\nexports.REQUEST_TIMEOUT = 408;\n/**\n * @deprecated Please use StatusCodes.REQUEST_TOO_LONG\n *\n * */\nexports.REQUEST_TOO_LONG = 413;\n/**\n * @deprecated Please use StatusCodes.REQUEST_URI_TOO_LONG\n *\n * */\nexports.REQUEST_URI_TOO_LONG = 414;\n/**\n * @deprecated Please use StatusCodes.REQUESTED_RANGE_NOT_SATISFIABLE\n *\n * */\nexports.REQUESTED_RANGE_NOT_SATISFIABLE = 416;\n/**\n * @deprecated Please use StatusCodes.RESET_CONTENT\n *\n * */\nexports.RESET_CONTENT = 205;\n/**\n * @deprecated Please use StatusCodes.SEE_OTHER\n *\n * */\nexports.SEE_OTHER = 303;\n/**\n * @deprecated Please use StatusCodes.SERVICE_UNAVAILABLE\n *\n * */\nexports.SERVICE_UNAVAILABLE = 503;\n/**\n * @deprecated Please use StatusCodes.SWITCHING_PROTOCOLS\n *\n * */\nexports.SWITCHING_PROTOCOLS = 101;\n/**\n * @deprecated Please use StatusCodes.TEMPORARY_REDIRECT\n *\n * */\nexports.TEMPORARY_REDIRECT = 307;\n/**\n * @deprecated Please use StatusCodes.TOO_MANY_REQUESTS\n *\n * */\nexports.TOO_MANY_REQUESTS = 429;\n/**\n * @deprecated Please use StatusCodes.UNAUTHORIZED\n *\n * */\nexports.UNAUTHORIZED = 401;\n/**\n * @deprecated Please use StatusCodes.UNPROCESSABLE_ENTITY\n *\n * */\nexports.UNPROCESSABLE_ENTITY = 422;\n/**\n * @deprecated Please use StatusCodes.UNSUPPORTED_MEDIA_TYPE\n *\n * */\nexports.UNSUPPORTED_MEDIA_TYPE = 415;\n/**\n * @deprecated Please use StatusCodes.USE_PROXY\n *\n * */\nexports.USE_PROXY = 305;\nexports.default = {\n    ACCEPTED: exports.ACCEPTED,\n    BAD_GATEWAY: exports.BAD_GATEWAY,\n    BAD_REQUEST: exports.BAD_REQUEST,\n    CONFLICT: exports.CONFLICT,\n    CONTINUE: exports.CONTINUE,\n    CREATED: exports.CREATED,\n    EXPECTATION_FAILED: exports.EXPECTATION_FAILED,\n    FORBIDDEN: exports.FORBIDDEN,\n    GATEWAY_TIMEOUT: exports.GATEWAY_TIMEOUT,\n    GONE: exports.GONE,\n    HTTP_VERSION_NOT_SUPPORTED: exports.HTTP_VERSION_NOT_SUPPORTED,\n    IM_A_TEAPOT: exports.IM_A_TEAPOT,\n    INSUFFICIENT_SPACE_ON_RESOURCE: exports.INSUFFICIENT_SPACE_ON_RESOURCE,\n    INSUFFICIENT_STORAGE: exports.INSUFFICIENT_STORAGE,\n    INTERNAL_SERVER_ERROR: exports.INTERNAL_SERVER_ERROR,\n    LENGTH_REQUIRED: exports.LENGTH_REQUIRED,\n    LOCKED: exports.LOCKED,\n    METHOD_FAILURE: exports.METHOD_FAILURE,\n    METHOD_NOT_ALLOWED: exports.METHOD_NOT_ALLOWED,\n    MOVED_PERMANENTLY: exports.MOVED_PERMANENTLY,\n    MOVED_TEMPORARILY: exports.MOVED_TEMPORARILY,\n    MULTI_STATUS: exports.MULTI_STATUS,\n    MULTIPLE_CHOICES: exports.MULTIPLE_CHOICES,\n    NETWORK_AUTHENTICATION_REQUIRED: exports.NETWORK_AUTHENTICATION_REQUIRED,\n    NO_CONTENT: exports.NO_CONTENT,\n    NON_AUTHORITATIVE_INFORMATION: exports.NON_AUTHORITATIVE_INFORMATION,\n    NOT_ACCEPTABLE: exports.NOT_ACCEPTABLE,\n    NOT_FOUND: exports.NOT_FOUND,\n    NOT_IMPLEMENTED: exports.NOT_IMPLEMENTED,\n    NOT_MODIFIED: exports.NOT_MODIFIED,\n    OK: exports.OK,\n    PARTIAL_CONTENT: exports.PARTIAL_CONTENT,\n    PAYMENT_REQUIRED: exports.PAYMENT_REQUIRED,\n    PERMANENT_REDIRECT: exports.PERMANENT_REDIRECT,\n    PRECONDITION_FAILED: exports.PRECONDITION_FAILED,\n    PRECONDITION_REQUIRED: exports.PRECONDITION_REQUIRED,\n    PROCESSING: exports.PROCESSING,\n    PROXY_AUTHENTICATION_REQUIRED: exports.PROXY_AUTHENTICATION_REQUIRED,\n    REQUEST_HEADER_FIELDS_TOO_LARGE: exports.REQUEST_HEADER_FIELDS_TOO_LARGE,\n    REQUEST_TIMEOUT: exports.REQUEST_TIMEOUT,\n    REQUEST_TOO_LONG: exports.REQUEST_TOO_LONG,\n    REQUEST_URI_TOO_LONG: exports.REQUEST_URI_TOO_LONG,\n    REQUESTED_RANGE_NOT_SATISFIABLE: exports.REQUESTED_RANGE_NOT_SATISFIABLE,\n    RESET_CONTENT: exports.RESET_CONTENT,\n    SEE_OTHER: exports.SEE_OTHER,\n    SERVICE_UNAVAILABLE: exports.SERVICE_UNAVAILABLE,\n    SWITCHING_PROTOCOLS: exports.SWITCHING_PROTOCOLS,\n    TEMPORARY_REDIRECT: exports.TEMPORARY_REDIRECT,\n    TOO_MANY_REQUESTS: exports.TOO_MANY_REQUESTS,\n    UNAUTHORIZED: exports.UNAUTHORIZED,\n    UNPROCESSABLE_ENTITY: exports.UNPROCESSABLE_ENTITY,\n    UNSUPPORTED_MEDIA_TYPE: exports.UNSUPPORTED_MEDIA_TYPE,\n    USE_PROXY: exports.USE_PROXY,\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reasonPhraseToStatusCode = exports.statusCodeToReasonPhrase = void 0;\n// Generated file. Do not edit\nexports.statusCodeToReasonPhrase = {\n    \"202\": \"Accepted\",\n    \"502\": \"Bad Gateway\",\n    \"400\": \"Bad Request\",\n    \"409\": \"Conflict\",\n    \"100\": \"Continue\",\n    \"201\": \"Created\",\n    \"417\": \"Expectation Failed\",\n    \"424\": \"Failed Dependency\",\n    \"403\": \"Forbidden\",\n    \"504\": \"Gateway Timeout\",\n    \"410\": \"Gone\",\n    \"505\": \"HTTP Version Not Supported\",\n    \"418\": \"I'm a teapot\",\n    \"419\": \"Insufficient Space on Resource\",\n    \"507\": \"Insufficient Storage\",\n    \"500\": \"Internal Server Error\",\n    \"411\": \"Length Required\",\n    \"423\": \"Locked\",\n    \"420\": \"Method Failure\",\n    \"405\": \"Method Not Allowed\",\n    \"301\": \"Moved Permanently\",\n    \"302\": \"Moved Temporarily\",\n    \"207\": \"Multi-Status\",\n    \"300\": \"Multiple Choices\",\n    \"511\": \"Network Authentication Required\",\n    \"204\": \"No Content\",\n    \"203\": \"Non Authoritative Information\",\n    \"406\": \"Not Acceptable\",\n    \"404\": \"Not Found\",\n    \"501\": \"Not Implemented\",\n    \"304\": \"Not Modified\",\n    \"200\": \"OK\",\n    \"206\": \"Partial Content\",\n    \"402\": \"Payment Required\",\n    \"308\": \"Permanent Redirect\",\n    \"412\": \"Precondition Failed\",\n    \"428\": \"Precondition Required\",\n    \"102\": \"Processing\",\n    \"103\": \"Early Hints\",\n    \"426\": \"Upgrade Required\",\n    \"407\": \"Proxy Authentication Required\",\n    \"431\": \"Request Header Fields Too Large\",\n    \"408\": \"Request Timeout\",\n    \"413\": \"Request Entity Too Large\",\n    \"414\": \"Request-URI Too Long\",\n    \"416\": \"Requested Range Not Satisfiable\",\n    \"205\": \"Reset Content\",\n    \"303\": \"See Other\",\n    \"503\": \"Service Unavailable\",\n    \"101\": \"Switching Protocols\",\n    \"307\": \"Temporary Redirect\",\n    \"429\": \"Too Many Requests\",\n    \"401\": \"Unauthorized\",\n    \"451\": \"Unavailable For Legal Reasons\",\n    \"422\": \"Unprocessable Entity\",\n    \"415\": \"Unsupported Media Type\",\n    \"305\": \"Use Proxy\",\n    \"421\": \"Misdirected Request\"\n};\nexports.reasonPhraseToStatusCode = {\n    \"Accepted\": 202,\n    \"Bad Gateway\": 502,\n    \"Bad Request\": 400,\n    \"Conflict\": 409,\n    \"Continue\": 100,\n    \"Created\": 201,\n    \"Expectation Failed\": 417,\n    \"Failed Dependency\": 424,\n    \"Forbidden\": 403,\n    \"Gateway Timeout\": 504,\n    \"Gone\": 410,\n    \"HTTP Version Not Supported\": 505,\n    \"I'm a teapot\": 418,\n    \"Insufficient Space on Resource\": 419,\n    \"Insufficient Storage\": 507,\n    \"Internal Server Error\": 500,\n    \"Length Required\": 411,\n    \"Locked\": 423,\n    \"Method Failure\": 420,\n    \"Method Not Allowed\": 405,\n    \"Moved Permanently\": 301,\n    \"Moved Temporarily\": 302,\n    \"Multi-Status\": 207,\n    \"Multiple Choices\": 300,\n    \"Network Authentication Required\": 511,\n    \"No Content\": 204,\n    \"Non Authoritative Information\": 203,\n    \"Not Acceptable\": 406,\n    \"Not Found\": 404,\n    \"Not Implemented\": 501,\n    \"Not Modified\": 304,\n    \"OK\": 200,\n    \"Partial Content\": 206,\n    \"Payment Required\": 402,\n    \"Permanent Redirect\": 308,\n    \"Precondition Failed\": 412,\n    \"Precondition Required\": 428,\n    \"Processing\": 102,\n    \"Early Hints\": 103,\n    \"Upgrade Required\": 426,\n    \"Proxy Authentication Required\": 407,\n    \"Request Header Fields Too Large\": 431,\n    \"Request Timeout\": 408,\n    \"Request Entity Too Large\": 413,\n    \"Request-URI Too Long\": 414,\n    \"Requested Range Not Satisfiable\": 416,\n    \"Reset Content\": 205,\n    \"See Other\": 303,\n    \"Service Unavailable\": 503,\n    \"Switching Protocols\": 101,\n    \"Temporary Redirect\": 307,\n    \"Too Many Requests\": 429,\n    \"Unauthorized\": 401,\n    \"Unavailable For Legal Reasons\": 451,\n    \"Unprocessable Entity\": 422,\n    \"Unsupported Media Type\": 415,\n    \"Use Proxy\": 305,\n    \"Misdirected Request\": 421\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getStatusText = exports.getStatusCode = exports.getReasonPhrase = void 0;\nvar utils_1 = require(\"./utils\");\n/**\n * Returns the reason phrase for the given status code.\n * If the given status code does not exist, an error is thrown.\n *\n * @param {number|string} statusCode The HTTP status code\n * @returns {string} The associated reason phrase (e.g. \"Bad Request\", \"OK\")\n * */\nfunction getReasonPhrase(statusCode) {\n    var result = utils_1.statusCodeToReasonPhrase[statusCode.toString()];\n    if (!result) {\n        throw new Error(\"Status code does not exist: \" + statusCode);\n    }\n    return result;\n}\nexports.getReasonPhrase = getReasonPhrase;\n/**\n * Returns the status code for the given reason phrase.\n * If the given reason phrase does not exist, undefined is returned.\n *\n * @param {string} reasonPhrase The HTTP reason phrase (e.g. \"Bad Request\", \"OK\")\n * @returns {string} The associated status code\n * */\nfunction getStatusCode(reasonPhrase) {\n    var result = utils_1.reasonPhraseToStatusCode[reasonPhrase];\n    if (!result) {\n        throw new Error(\"Reason phrase does not exist: \" + reasonPhrase);\n    }\n    return result;\n}\nexports.getStatusCode = getStatusCode;\n/**\n * @deprecated\n *\n * Returns the reason phrase for the given status code.\n * If the given status code does not exist, undefined is returned.\n *\n * Deprecated in favor of getReasonPhrase\n *\n * @param {number|string} statusCode The HTTP status code\n * @returns {string|undefined} The associated reason phrase (e.g. \"Bad Request\", \"OK\")\n * */\nexports.getStatusText = getReasonPhrase;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StatusCodes = void 0;\n// Generated file. Do not edit\nvar StatusCodes;\n(function (StatusCodes) {\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.2.1\n     *\n     * This interim response indicates that everything so far is OK and that the client should continue with the request or ignore it if it is already finished.\n     */\n    StatusCodes[StatusCodes[\"CONTINUE\"] = 100] = \"CONTINUE\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.2.2\n     *\n     * This code is sent in response to an Upgrade request header by the client, and indicates the protocol the server is switching too.\n     */\n    StatusCodes[StatusCodes[\"SWITCHING_PROTOCOLS\"] = 101] = \"SWITCHING_PROTOCOLS\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc2518#section-10.1\n     *\n     * This code indicates that the server has received and is processing the request, but no response is available yet.\n     */\n    StatusCodes[StatusCodes[\"PROCESSING\"] = 102] = \"PROCESSING\";\n    /**\n     * Official Documentation @ https://www.rfc-editor.org/rfc/rfc8297#page-3\n     *\n     * This code indicates to the client that the server is likely to send a final response with the header fields included in the informational response.\n     */\n    StatusCodes[StatusCodes[\"EARLY_HINTS\"] = 103] = \"EARLY_HINTS\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.3.1\n     *\n     * The request has succeeded. The meaning of a success varies depending on the HTTP method:\n     * GET: The resource has been fetched and is transmitted in the message body.\n     * HEAD: The entity headers are in the message body.\n     * POST: The resource describing the result of the action is transmitted in the message body.\n     * TRACE: The message body contains the request message as received by the server\n     */\n    StatusCodes[StatusCodes[\"OK\"] = 200] = \"OK\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.3.2\n     *\n     * The request has succeeded and a new resource has been created as a result of it. This is typically the response sent after a PUT request.\n     */\n    StatusCodes[StatusCodes[\"CREATED\"] = 201] = \"CREATED\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.3.3\n     *\n     * The request has been received but not yet acted upon. It is non-committal, meaning that there is no way in HTTP to later send an asynchronous response indicating the outcome of processing the request. It is intended for cases where another process or server handles the request, or for batch processing.\n     */\n    StatusCodes[StatusCodes[\"ACCEPTED\"] = 202] = \"ACCEPTED\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.3.4\n     *\n     * This response code means returned meta-information set is not exact set as available from the origin server, but collected from a local or a third party copy. Except this condition, 200 OK response should be preferred instead of this response.\n     */\n    StatusCodes[StatusCodes[\"NON_AUTHORITATIVE_INFORMATION\"] = 203] = \"NON_AUTHORITATIVE_INFORMATION\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.3.5\n     *\n     * There is no content to send for this request, but the headers may be useful. The user-agent may update its cached headers for this resource with the new ones.\n     */\n    StatusCodes[StatusCodes[\"NO_CONTENT\"] = 204] = \"NO_CONTENT\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.3.6\n     *\n     * This response code is sent after accomplishing request to tell user agent reset document view which sent this request.\n     */\n    StatusCodes[StatusCodes[\"RESET_CONTENT\"] = 205] = \"RESET_CONTENT\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7233#section-4.1\n     *\n     * This response code is used because of range header sent by the client to separate download into multiple streams.\n     */\n    StatusCodes[StatusCodes[\"PARTIAL_CONTENT\"] = 206] = \"PARTIAL_CONTENT\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc2518#section-10.2\n     *\n     * A Multi-Status response conveys information about multiple resources in situations where multiple status codes might be appropriate.\n     */\n    StatusCodes[StatusCodes[\"MULTI_STATUS\"] = 207] = \"MULTI_STATUS\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.4.1\n     *\n     * The request has more than one possible responses. User-agent or user should choose one of them. There is no standardized way to choose one of the responses.\n     */\n    StatusCodes[StatusCodes[\"MULTIPLE_CHOICES\"] = 300] = \"MULTIPLE_CHOICES\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.4.2\n     *\n     * This response code means that URI of requested resource has been changed. Probably, new URI would be given in the response.\n     */\n    StatusCodes[StatusCodes[\"MOVED_PERMANENTLY\"] = 301] = \"MOVED_PERMANENTLY\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.4.3\n     *\n     * This response code means that URI of requested resource has been changed temporarily. New changes in the URI might be made in the future. Therefore, this same URI should be used by the client in future requests.\n     */\n    StatusCodes[StatusCodes[\"MOVED_TEMPORARILY\"] = 302] = \"MOVED_TEMPORARILY\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.4.4\n     *\n     * Server sent this response to directing client to get requested resource to another URI with an GET request.\n     */\n    StatusCodes[StatusCodes[\"SEE_OTHER\"] = 303] = \"SEE_OTHER\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7232#section-4.1\n     *\n     * This is used for caching purposes. It is telling to client that response has not been modified. So, client can continue to use same cached version of response.\n     */\n    StatusCodes[StatusCodes[\"NOT_MODIFIED\"] = 304] = \"NOT_MODIFIED\";\n    /**\n     * @deprecated\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.4.6\n     *\n     * Was defined in a previous version of the HTTP specification to indicate that a requested response must be accessed by a proxy. It has been deprecated due to security concerns regarding in-band configuration of a proxy.\n     */\n    StatusCodes[StatusCodes[\"USE_PROXY\"] = 305] = \"USE_PROXY\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.4.7\n     *\n     * Server sent this response to directing client to get requested resource to another URI with same method that used prior request. This has the same semantic than the 302 Found HTTP response code, with the exception that the user agent must not change the HTTP method used: if a POST was used in the first request, a POST must be used in the second request.\n     */\n    StatusCodes[StatusCodes[\"TEMPORARY_REDIRECT\"] = 307] = \"TEMPORARY_REDIRECT\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7538#section-3\n     *\n     * This means that the resource is now permanently located at another URI, specified by the Location: HTTP Response header. This has the same semantics as the 301 Moved Permanently HTTP response code, with the exception that the user agent must not change the HTTP method used: if a POST was used in the first request, a POST must be used in the second request.\n     */\n    StatusCodes[StatusCodes[\"PERMANENT_REDIRECT\"] = 308] = \"PERMANENT_REDIRECT\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.1\n     *\n     * This response means that server could not understand the request due to invalid syntax.\n     */\n    StatusCodes[StatusCodes[\"BAD_REQUEST\"] = 400] = \"BAD_REQUEST\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7235#section-3.1\n     *\n     * Although the HTTP standard specifies \"unauthorized\", semantically this response means \"unauthenticated\". That is, the client must authenticate itself to get the requested response.\n     */\n    StatusCodes[StatusCodes[\"UNAUTHORIZED\"] = 401] = \"UNAUTHORIZED\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.2\n     *\n     * This response code is reserved for future use. Initial aim for creating this code was using it for digital payment systems however this is not used currently.\n     */\n    StatusCodes[StatusCodes[\"PAYMENT_REQUIRED\"] = 402] = \"PAYMENT_REQUIRED\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.3\n     *\n     * The client does not have access rights to the content, i.e. they are unauthorized, so server is rejecting to give proper response. Unlike 401, the client's identity is known to the server.\n     */\n    StatusCodes[StatusCodes[\"FORBIDDEN\"] = 403] = \"FORBIDDEN\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.4\n     *\n     * The server can not find requested resource. In the browser, this means the URL is not recognized. In an API, this can also mean that the endpoint is valid but the resource itself does not exist. Servers may also send this response instead of 403 to hide the existence of a resource from an unauthorized client. This response code is probably the most famous one due to its frequent occurence on the web.\n     */\n    StatusCodes[StatusCodes[\"NOT_FOUND\"] = 404] = \"NOT_FOUND\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.5\n     *\n     * The request method is known by the server but has been disabled and cannot be used. For example, an API may forbid DELETE-ing a resource. The two mandatory methods, GET and HEAD, must never be disabled and should not return this error code.\n     */\n    StatusCodes[StatusCodes[\"METHOD_NOT_ALLOWED\"] = 405] = \"METHOD_NOT_ALLOWED\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.6\n     *\n     * This response is sent when the web server, after performing server-driven content negotiation, doesn't find any content following the criteria given by the user agent.\n     */\n    StatusCodes[StatusCodes[\"NOT_ACCEPTABLE\"] = 406] = \"NOT_ACCEPTABLE\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7235#section-3.2\n     *\n     * This is similar to 401 but authentication is needed to be done by a proxy.\n     */\n    StatusCodes[StatusCodes[\"PROXY_AUTHENTICATION_REQUIRED\"] = 407] = \"PROXY_AUTHENTICATION_REQUIRED\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.7\n     *\n     * This response is sent on an idle connection by some servers, even without any previous request by the client. It means that the server would like to shut down this unused connection. This response is used much more since some browsers, like Chrome, Firefox 27+, or IE9, use HTTP pre-connection mechanisms to speed up surfing. Also note that some servers merely shut down the connection without sending this message.\n     */\n    StatusCodes[StatusCodes[\"REQUEST_TIMEOUT\"] = 408] = \"REQUEST_TIMEOUT\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.8\n     *\n     * This response is sent when a request conflicts with the current state of the server.\n     */\n    StatusCodes[StatusCodes[\"CONFLICT\"] = 409] = \"CONFLICT\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.9\n     *\n     * This response would be sent when the requested content has been permenantly deleted from server, with no forwarding address. Clients are expected to remove their caches and links to the resource. The HTTP specification intends this status code to be used for \"limited-time, promotional services\". APIs should not feel compelled to indicate resources that have been deleted with this status code.\n     */\n    StatusCodes[StatusCodes[\"GONE\"] = 410] = \"GONE\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.10\n     *\n     * The server rejected the request because the Content-Length header field is not defined and the server requires it.\n     */\n    StatusCodes[StatusCodes[\"LENGTH_REQUIRED\"] = 411] = \"LENGTH_REQUIRED\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7232#section-4.2\n     *\n     * The client has indicated preconditions in its headers which the server does not meet.\n     */\n    StatusCodes[StatusCodes[\"PRECONDITION_FAILED\"] = 412] = \"PRECONDITION_FAILED\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.11\n     *\n     * Request entity is larger than limits defined by server; the server might close the connection or return an Retry-After header field.\n     */\n    StatusCodes[StatusCodes[\"REQUEST_TOO_LONG\"] = 413] = \"REQUEST_TOO_LONG\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.12\n     *\n     * The URI requested by the client is longer than the server is willing to interpret.\n     */\n    StatusCodes[StatusCodes[\"REQUEST_URI_TOO_LONG\"] = 414] = \"REQUEST_URI_TOO_LONG\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.13\n     *\n     * The media format of the requested data is not supported by the server, so the server is rejecting the request.\n     */\n    StatusCodes[StatusCodes[\"UNSUPPORTED_MEDIA_TYPE\"] = 415] = \"UNSUPPORTED_MEDIA_TYPE\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7233#section-4.4\n     *\n     * The range specified by the Range header field in the request can't be fulfilled; it's possible that the range is outside the size of the target URI's data.\n     */\n    StatusCodes[StatusCodes[\"REQUESTED_RANGE_NOT_SATISFIABLE\"] = 416] = \"REQUESTED_RANGE_NOT_SATISFIABLE\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.14\n     *\n     * This response code means the expectation indicated by the Expect request header field can't be met by the server.\n     */\n    StatusCodes[StatusCodes[\"EXPECTATION_FAILED\"] = 417] = \"EXPECTATION_FAILED\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc2324#section-2.3.2\n     *\n     * Any attempt to brew coffee with a teapot should result in the error code \"418 I'm a teapot\". The resulting entity body MAY be short and stout.\n     */\n    StatusCodes[StatusCodes[\"IM_A_TEAPOT\"] = 418] = \"IM_A_TEAPOT\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc2518#section-10.6\n     *\n     * The 507 (Insufficient Storage) status code means the method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request. This condition is considered to be temporary. If the request which received this status code was the result of a user action, the request MUST NOT be repeated until it is requested by a separate user action.\n     */\n    StatusCodes[StatusCodes[\"INSUFFICIENT_SPACE_ON_RESOURCE\"] = 419] = \"INSUFFICIENT_SPACE_ON_RESOURCE\";\n    /**\n     * @deprecated\n     * Official Documentation @ https://tools.ietf.org/rfcdiff?difftype=--hwdiff&url2=draft-ietf-webdav-protocol-06.txt\n     *\n     * A deprecated response used by the Spring Framework when a method has failed.\n     */\n    StatusCodes[StatusCodes[\"METHOD_FAILURE\"] = 420] = \"METHOD_FAILURE\";\n    /**\n     * Official Documentation @ https://datatracker.ietf.org/doc/html/rfc7540#section-9.1.2\n     *\n     * Defined in the specification of HTTP/2 to indicate that a server is not able to produce a response for the combination of scheme and authority that are included in the request URI.\n     */\n    StatusCodes[StatusCodes[\"MISDIRECTED_REQUEST\"] = 421] = \"MISDIRECTED_REQUEST\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc2518#section-10.3\n     *\n     * The request was well-formed but was unable to be followed due to semantic errors.\n     */\n    StatusCodes[StatusCodes[\"UNPROCESSABLE_ENTITY\"] = 422] = \"UNPROCESSABLE_ENTITY\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc2518#section-10.4\n     *\n     * The resource that is being accessed is locked.\n     */\n    StatusCodes[StatusCodes[\"LOCKED\"] = 423] = \"LOCKED\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc2518#section-10.5\n     *\n     * The request failed due to failure of a previous request.\n     */\n    StatusCodes[StatusCodes[\"FAILED_DEPENDENCY\"] = 424] = \"FAILED_DEPENDENCY\";\n    /**\n     * Official Documentation @ https://datatracker.ietf.org/doc/html/rfc7231#section-6.5.15\n     *\n     * The server refuses to perform the request using the current protocol but might be willing to do so after the client upgrades to a different protocol.\n     */\n    StatusCodes[StatusCodes[\"UPGRADE_REQUIRED\"] = 426] = \"UPGRADE_REQUIRED\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc6585#section-3\n     *\n     * The origin server requires the request to be conditional. Intended to prevent the 'lost update' problem, where a client GETs a resource's state, modifies it, and PUTs it back to the server, when meanwhile a third party has modified the state on the server, leading to a conflict.\n     */\n    StatusCodes[StatusCodes[\"PRECONDITION_REQUIRED\"] = 428] = \"PRECONDITION_REQUIRED\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc6585#section-4\n     *\n     * The user has sent too many requests in a given amount of time (\"rate limiting\").\n     */\n    StatusCodes[StatusCodes[\"TOO_MANY_REQUESTS\"] = 429] = \"TOO_MANY_REQUESTS\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc6585#section-5\n     *\n     * The server is unwilling to process the request because its header fields are too large. The request MAY be resubmitted after reducing the size of the request header fields.\n     */\n    StatusCodes[StatusCodes[\"REQUEST_HEADER_FIELDS_TOO_LARGE\"] = 431] = \"REQUEST_HEADER_FIELDS_TOO_LARGE\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7725\n     *\n     * The user-agent requested a resource that cannot legally be provided, such as a web page censored by a government.\n     */\n    StatusCodes[StatusCodes[\"UNAVAILABLE_FOR_LEGAL_REASONS\"] = 451] = \"UNAVAILABLE_FOR_LEGAL_REASONS\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.6.1\n     *\n     * The server encountered an unexpected condition that prevented it from fulfilling the request.\n     */\n    StatusCodes[StatusCodes[\"INTERNAL_SERVER_ERROR\"] = 500] = \"INTERNAL_SERVER_ERROR\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.6.2\n     *\n     * The request method is not supported by the server and cannot be handled. The only methods that servers are required to support (and therefore that must not return this code) are GET and HEAD.\n     */\n    StatusCodes[StatusCodes[\"NOT_IMPLEMENTED\"] = 501] = \"NOT_IMPLEMENTED\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.6.3\n     *\n     * This error response means that the server, while working as a gateway to get a response needed to handle the request, got an invalid response.\n     */\n    StatusCodes[StatusCodes[\"BAD_GATEWAY\"] = 502] = \"BAD_GATEWAY\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.6.4\n     *\n     * The server is not ready to handle the request. Common causes are a server that is down for maintenance or that is overloaded. Note that together with this response, a user-friendly page explaining the problem should be sent. This responses should be used for temporary conditions and the Retry-After: HTTP header should, if possible, contain the estimated time before the recovery of the service. The webmaster must also take care about the caching-related headers that are sent along with this response, as these temporary condition responses should usually not be cached.\n     */\n    StatusCodes[StatusCodes[\"SERVICE_UNAVAILABLE\"] = 503] = \"SERVICE_UNAVAILABLE\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.6.5\n     *\n     * This error response is given when the server is acting as a gateway and cannot get a response in time.\n     */\n    StatusCodes[StatusCodes[\"GATEWAY_TIMEOUT\"] = 504] = \"GATEWAY_TIMEOUT\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.6.6\n     *\n     * The HTTP version used in the request is not supported by the server.\n     */\n    StatusCodes[StatusCodes[\"HTTP_VERSION_NOT_SUPPORTED\"] = 505] = \"HTTP_VERSION_NOT_SUPPORTED\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc2518#section-10.6\n     *\n     * The server has an internal configuration error: the chosen variant resource is configured to engage in transparent content negotiation itself, and is therefore not a proper end point in the negotiation process.\n     */\n    StatusCodes[StatusCodes[\"INSUFFICIENT_STORAGE\"] = 507] = \"INSUFFICIENT_STORAGE\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc6585#section-6\n     *\n     * The 511 status code indicates that the client needs to authenticate to gain network access.\n     */\n    StatusCodes[StatusCodes[\"NETWORK_AUTHENTICATION_REQUIRED\"] = 511] = \"NETWORK_AUTHENTICATION_REQUIRED\";\n})(StatusCodes = exports.StatusCodes || (exports.StatusCodes = {}));\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReasonPhrases = void 0;\n// Generated file. Do not edit\nvar ReasonPhrases;\n(function (ReasonPhrases) {\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.3.3\n     *\n     * The request has been received but not yet acted upon. It is non-committal, meaning that there is no way in HTTP to later send an asynchronous response indicating the outcome of processing the request. It is intended for cases where another process or server handles the request, or for batch processing.\n     */\n    ReasonPhrases[\"ACCEPTED\"] = \"Accepted\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.6.3\n     *\n     * This error response means that the server, while working as a gateway to get a response needed to handle the request, got an invalid response.\n     */\n    ReasonPhrases[\"BAD_GATEWAY\"] = \"Bad Gateway\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.1\n     *\n     * This response means that server could not understand the request due to invalid syntax.\n     */\n    ReasonPhrases[\"BAD_REQUEST\"] = \"Bad Request\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.8\n     *\n     * This response is sent when a request conflicts with the current state of the server.\n     */\n    ReasonPhrases[\"CONFLICT\"] = \"Conflict\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.2.1\n     *\n     * This interim response indicates that everything so far is OK and that the client should continue with the request or ignore it if it is already finished.\n     */\n    ReasonPhrases[\"CONTINUE\"] = \"Continue\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.3.2\n     *\n     * The request has succeeded and a new resource has been created as a result of it. This is typically the response sent after a PUT request.\n     */\n    ReasonPhrases[\"CREATED\"] = \"Created\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.14\n     *\n     * This response code means the expectation indicated by the Expect request header field can't be met by the server.\n     */\n    ReasonPhrases[\"EXPECTATION_FAILED\"] = \"Expectation Failed\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc2518#section-10.5\n     *\n     * The request failed due to failure of a previous request.\n     */\n    ReasonPhrases[\"FAILED_DEPENDENCY\"] = \"Failed Dependency\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.3\n     *\n     * The client does not have access rights to the content, i.e. they are unauthorized, so server is rejecting to give proper response. Unlike 401, the client's identity is known to the server.\n     */\n    ReasonPhrases[\"FORBIDDEN\"] = \"Forbidden\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.6.5\n     *\n     * This error response is given when the server is acting as a gateway and cannot get a response in time.\n     */\n    ReasonPhrases[\"GATEWAY_TIMEOUT\"] = \"Gateway Timeout\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.9\n     *\n     * This response would be sent when the requested content has been permenantly deleted from server, with no forwarding address. Clients are expected to remove their caches and links to the resource. The HTTP specification intends this status code to be used for \"limited-time, promotional services\". APIs should not feel compelled to indicate resources that have been deleted with this status code.\n     */\n    ReasonPhrases[\"GONE\"] = \"Gone\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.6.6\n     *\n     * The HTTP version used in the request is not supported by the server.\n     */\n    ReasonPhrases[\"HTTP_VERSION_NOT_SUPPORTED\"] = \"HTTP Version Not Supported\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc2324#section-2.3.2\n     *\n     * Any attempt to brew coffee with a teapot should result in the error code \"418 I'm a teapot\". The resulting entity body MAY be short and stout.\n     */\n    ReasonPhrases[\"IM_A_TEAPOT\"] = \"I'm a teapot\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc2518#section-10.6\n     *\n     * The 507 (Insufficient Storage) status code means the method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request. This condition is considered to be temporary. If the request which received this status code was the result of a user action, the request MUST NOT be repeated until it is requested by a separate user action.\n     */\n    ReasonPhrases[\"INSUFFICIENT_SPACE_ON_RESOURCE\"] = \"Insufficient Space on Resource\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc2518#section-10.6\n     *\n     * The server has an internal configuration error: the chosen variant resource is configured to engage in transparent content negotiation itself, and is therefore not a proper end point in the negotiation process.\n     */\n    ReasonPhrases[\"INSUFFICIENT_STORAGE\"] = \"Insufficient Storage\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.6.1\n     *\n     * The server encountered an unexpected condition that prevented it from fulfilling the request.\n     */\n    ReasonPhrases[\"INTERNAL_SERVER_ERROR\"] = \"Internal Server Error\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.10\n     *\n     * The server rejected the request because the Content-Length header field is not defined and the server requires it.\n     */\n    ReasonPhrases[\"LENGTH_REQUIRED\"] = \"Length Required\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc2518#section-10.4\n     *\n     * The resource that is being accessed is locked.\n     */\n    ReasonPhrases[\"LOCKED\"] = \"Locked\";\n    /**\n     * @deprecated\n     * Official Documentation @ https://tools.ietf.org/rfcdiff?difftype=--hwdiff&url2=draft-ietf-webdav-protocol-06.txt\n     *\n     * A deprecated response used by the Spring Framework when a method has failed.\n     */\n    ReasonPhrases[\"METHOD_FAILURE\"] = \"Method Failure\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.5\n     *\n     * The request method is known by the server but has been disabled and cannot be used. For example, an API may forbid DELETE-ing a resource. The two mandatory methods, GET and HEAD, must never be disabled and should not return this error code.\n     */\n    ReasonPhrases[\"METHOD_NOT_ALLOWED\"] = \"Method Not Allowed\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.4.2\n     *\n     * This response code means that URI of requested resource has been changed. Probably, new URI would be given in the response.\n     */\n    ReasonPhrases[\"MOVED_PERMANENTLY\"] = \"Moved Permanently\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.4.3\n     *\n     * This response code means that URI of requested resource has been changed temporarily. New changes in the URI might be made in the future. Therefore, this same URI should be used by the client in future requests.\n     */\n    ReasonPhrases[\"MOVED_TEMPORARILY\"] = \"Moved Temporarily\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc2518#section-10.2\n     *\n     * A Multi-Status response conveys information about multiple resources in situations where multiple status codes might be appropriate.\n     */\n    ReasonPhrases[\"MULTI_STATUS\"] = \"Multi-Status\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.4.1\n     *\n     * The request has more than one possible responses. User-agent or user should choose one of them. There is no standardized way to choose one of the responses.\n     */\n    ReasonPhrases[\"MULTIPLE_CHOICES\"] = \"Multiple Choices\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc6585#section-6\n     *\n     * The 511 status code indicates that the client needs to authenticate to gain network access.\n     */\n    ReasonPhrases[\"NETWORK_AUTHENTICATION_REQUIRED\"] = \"Network Authentication Required\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.3.5\n     *\n     * There is no content to send for this request, but the headers may be useful. The user-agent may update its cached headers for this resource with the new ones.\n     */\n    ReasonPhrases[\"NO_CONTENT\"] = \"No Content\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.3.4\n     *\n     * This response code means returned meta-information set is not exact set as available from the origin server, but collected from a local or a third party copy. Except this condition, 200 OK response should be preferred instead of this response.\n     */\n    ReasonPhrases[\"NON_AUTHORITATIVE_INFORMATION\"] = \"Non Authoritative Information\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.6\n     *\n     * This response is sent when the web server, after performing server-driven content negotiation, doesn't find any content following the criteria given by the user agent.\n     */\n    ReasonPhrases[\"NOT_ACCEPTABLE\"] = \"Not Acceptable\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.4\n     *\n     * The server can not find requested resource. In the browser, this means the URL is not recognized. In an API, this can also mean that the endpoint is valid but the resource itself does not exist. Servers may also send this response instead of 403 to hide the existence of a resource from an unauthorized client. This response code is probably the most famous one due to its frequent occurence on the web.\n     */\n    ReasonPhrases[\"NOT_FOUND\"] = \"Not Found\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.6.2\n     *\n     * The request method is not supported by the server and cannot be handled. The only methods that servers are required to support (and therefore that must not return this code) are GET and HEAD.\n     */\n    ReasonPhrases[\"NOT_IMPLEMENTED\"] = \"Not Implemented\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7232#section-4.1\n     *\n     * This is used for caching purposes. It is telling to client that response has not been modified. So, client can continue to use same cached version of response.\n     */\n    ReasonPhrases[\"NOT_MODIFIED\"] = \"Not Modified\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.3.1\n     *\n     * The request has succeeded. The meaning of a success varies depending on the HTTP method:\n     * GET: The resource has been fetched and is transmitted in the message body.\n     * HEAD: The entity headers are in the message body.\n     * POST: The resource describing the result of the action is transmitted in the message body.\n     * TRACE: The message body contains the request message as received by the server\n     */\n    ReasonPhrases[\"OK\"] = \"OK\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7233#section-4.1\n     *\n     * This response code is used because of range header sent by the client to separate download into multiple streams.\n     */\n    ReasonPhrases[\"PARTIAL_CONTENT\"] = \"Partial Content\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.2\n     *\n     * This response code is reserved for future use. Initial aim for creating this code was using it for digital payment systems however this is not used currently.\n     */\n    ReasonPhrases[\"PAYMENT_REQUIRED\"] = \"Payment Required\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7538#section-3\n     *\n     * This means that the resource is now permanently located at another URI, specified by the Location: HTTP Response header. This has the same semantics as the 301 Moved Permanently HTTP response code, with the exception that the user agent must not change the HTTP method used: if a POST was used in the first request, a POST must be used in the second request.\n     */\n    ReasonPhrases[\"PERMANENT_REDIRECT\"] = \"Permanent Redirect\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7232#section-4.2\n     *\n     * The client has indicated preconditions in its headers which the server does not meet.\n     */\n    ReasonPhrases[\"PRECONDITION_FAILED\"] = \"Precondition Failed\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc6585#section-3\n     *\n     * The origin server requires the request to be conditional. Intended to prevent the 'lost update' problem, where a client GETs a resource's state, modifies it, and PUTs it back to the server, when meanwhile a third party has modified the state on the server, leading to a conflict.\n     */\n    ReasonPhrases[\"PRECONDITION_REQUIRED\"] = \"Precondition Required\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc2518#section-10.1\n     *\n     * This code indicates that the server has received and is processing the request, but no response is available yet.\n     */\n    ReasonPhrases[\"PROCESSING\"] = \"Processing\";\n    /**\n     * Official Documentation @ https://www.rfc-editor.org/rfc/rfc8297#page-3\n     *\n     * This code indicates to the client that the server is likely to send a final response with the header fields included in the informational response.\n     */\n    ReasonPhrases[\"EARLY_HINTS\"] = \"Early Hints\";\n    /**\n     * Official Documentation @ https://datatracker.ietf.org/doc/html/rfc7231#section-6.5.15\n     *\n     * The server refuses to perform the request using the current protocol but might be willing to do so after the client upgrades to a different protocol.\n     */\n    ReasonPhrases[\"UPGRADE_REQUIRED\"] = \"Upgrade Required\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7235#section-3.2\n     *\n     * This is similar to 401 but authentication is needed to be done by a proxy.\n     */\n    ReasonPhrases[\"PROXY_AUTHENTICATION_REQUIRED\"] = \"Proxy Authentication Required\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc6585#section-5\n     *\n     * The server is unwilling to process the request because its header fields are too large. The request MAY be resubmitted after reducing the size of the request header fields.\n     */\n    ReasonPhrases[\"REQUEST_HEADER_FIELDS_TOO_LARGE\"] = \"Request Header Fields Too Large\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.7\n     *\n     * This response is sent on an idle connection by some servers, even without any previous request by the client. It means that the server would like to shut down this unused connection. This response is used much more since some browsers, like Chrome, Firefox 27+, or IE9, use HTTP pre-connection mechanisms to speed up surfing. Also note that some servers merely shut down the connection without sending this message.\n     */\n    ReasonPhrases[\"REQUEST_TIMEOUT\"] = \"Request Timeout\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.11\n     *\n     * Request entity is larger than limits defined by server; the server might close the connection or return an Retry-After header field.\n     */\n    ReasonPhrases[\"REQUEST_TOO_LONG\"] = \"Request Entity Too Large\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.12\n     *\n     * The URI requested by the client is longer than the server is willing to interpret.\n     */\n    ReasonPhrases[\"REQUEST_URI_TOO_LONG\"] = \"Request-URI Too Long\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7233#section-4.4\n     *\n     * The range specified by the Range header field in the request can't be fulfilled; it's possible that the range is outside the size of the target URI's data.\n     */\n    ReasonPhrases[\"REQUESTED_RANGE_NOT_SATISFIABLE\"] = \"Requested Range Not Satisfiable\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.3.6\n     *\n     * This response code is sent after accomplishing request to tell user agent reset document view which sent this request.\n     */\n    ReasonPhrases[\"RESET_CONTENT\"] = \"Reset Content\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.4.4\n     *\n     * Server sent this response to directing client to get requested resource to another URI with an GET request.\n     */\n    ReasonPhrases[\"SEE_OTHER\"] = \"See Other\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.6.4\n     *\n     * The server is not ready to handle the request. Common causes are a server that is down for maintenance or that is overloaded. Note that together with this response, a user-friendly page explaining the problem should be sent. This responses should be used for temporary conditions and the Retry-After: HTTP header should, if possible, contain the estimated time before the recovery of the service. The webmaster must also take care about the caching-related headers that are sent along with this response, as these temporary condition responses should usually not be cached.\n     */\n    ReasonPhrases[\"SERVICE_UNAVAILABLE\"] = \"Service Unavailable\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.2.2\n     *\n     * This code is sent in response to an Upgrade request header by the client, and indicates the protocol the server is switching too.\n     */\n    ReasonPhrases[\"SWITCHING_PROTOCOLS\"] = \"Switching Protocols\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.4.7\n     *\n     * Server sent this response to directing client to get requested resource to another URI with same method that used prior request. This has the same semantic than the 302 Found HTTP response code, with the exception that the user agent must not change the HTTP method used: if a POST was used in the first request, a POST must be used in the second request.\n     */\n    ReasonPhrases[\"TEMPORARY_REDIRECT\"] = \"Temporary Redirect\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc6585#section-4\n     *\n     * The user has sent too many requests in a given amount of time (\"rate limiting\").\n     */\n    ReasonPhrases[\"TOO_MANY_REQUESTS\"] = \"Too Many Requests\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7235#section-3.1\n     *\n     * Although the HTTP standard specifies \"unauthorized\", semantically this response means \"unauthenticated\". That is, the client must authenticate itself to get the requested response.\n     */\n    ReasonPhrases[\"UNAUTHORIZED\"] = \"Unauthorized\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7725\n     *\n     * The user-agent requested a resource that cannot legally be provided, such as a web page censored by a government.\n     */\n    ReasonPhrases[\"UNAVAILABLE_FOR_LEGAL_REASONS\"] = \"Unavailable For Legal Reasons\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc2518#section-10.3\n     *\n     * The request was well-formed but was unable to be followed due to semantic errors.\n     */\n    ReasonPhrases[\"UNPROCESSABLE_ENTITY\"] = \"Unprocessable Entity\";\n    /**\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.5.13\n     *\n     * The media format of the requested data is not supported by the server, so the server is rejecting the request.\n     */\n    ReasonPhrases[\"UNSUPPORTED_MEDIA_TYPE\"] = \"Unsupported Media Type\";\n    /**\n     * @deprecated\n     * Official Documentation @ https://tools.ietf.org/html/rfc7231#section-6.4.6\n     *\n     * Was defined in a previous version of the HTTP specification to indicate that a requested response must be accessed by a proxy. It has been deprecated due to security concerns regarding in-band configuration of a proxy.\n     */\n    ReasonPhrases[\"USE_PROXY\"] = \"Use Proxy\";\n    /**\n     * Official Documentation @ https://datatracker.ietf.org/doc/html/rfc7540#section-9.1.2\n     *\n     * Defined in the specification of HTTP/2 to indicate that a server is not able to produce a response for the combination of scheme and authority that are included in the request URI.\n     */\n    ReasonPhrases[\"MISDIRECTED_REQUEST\"] = \"Misdirected Request\";\n})(ReasonPhrases = exports.ReasonPhrases || (exports.ReasonPhrases = {}));\n", "\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar legacy_1 = __importDefault(require(\"./legacy\"));\nvar utils_functions_1 = require(\"./utils-functions\");\nvar utils_functions_2 = require(\"./utils-functions\");\nObject.defineProperty(exports, \"getStatusCode\", { enumerable: true, get: function () { return utils_functions_2.getStatusCode; } });\nObject.defineProperty(exports, \"getReasonPhrase\", { enumerable: true, get: function () { return utils_functions_2.getReasonPhrase; } });\nObject.defineProperty(exports, \"getStatusText\", { enumerable: true, get: function () { return utils_functions_2.getStatusText; } });\nvar status_codes_1 = require(\"./status-codes\");\nObject.defineProperty(exports, \"StatusCodes\", { enumerable: true, get: function () { return status_codes_1.StatusCodes; } });\nvar reason_phrases_1 = require(\"./reason-phrases\");\nObject.defineProperty(exports, \"ReasonPhrases\", { enumerable: true, get: function () { return reason_phrases_1.ReasonPhrases; } });\n__exportStar(require(\"./legacy\"), exports);\nexports.default = __assign(__assign({}, legacy_1.default), { getStatusCode: utils_functions_1.getStatusCode,\n    getStatusText: utils_functions_1.getStatusText });\n", "import { LaunchProps } from \"@raycast/api\";\nimport { translate } from \"./utils\";\n\nexport default async function Slovenian(props: LaunchProps<{ arguments?: Arguments.Slovenian }>) {\n  await translate(\"SL\", props.arguments?.text ?? props.fallbackText);\n}\n", "import {\n  getSelectedText,\n  Clipboard,\n  Toast,\n  showToast,\n  getPreferenceValues,\n  launchCommand,\n  LaunchType,\n  closeMainWindow,\n  popToRoot,\n} from \"@raycast/api\";\nimport got, { HTTPError, RequestError } from \"got\";\nimport { StatusCodes, getReasonPhrase } from \"http-status-codes\";\n\nconst { returnToRootState } = getPreferenceValues<Preferences>();\nfunction isPro(key: string) {\n  return !key.endsWith(\":fx\");\n}\n\nconst DEEPL_QUOTA_EXCEEDED = 456;\n\n/**\n * Delays and closes Raycast window if the preference is enabled\n * @param closeRaycastAfterTranslation - Whether to close Raycast\n * @param delay - Delay in milliseconds before closing (default: 1000ms)\n */\nexport async function delayedCloseWindow(closeRaycastAfterTranslation: boolean, delay: number = 1000): Promise<void> {\n  if (!closeRaycastAfterTranslation) {\n    if (returnToRootState) {\n      await popToRoot();\n    }\n    return;\n  }\n\n  return new Promise((resolve) => {\n    setTimeout(async () => {\n      try {\n        if (returnToRootState) {\n          await popToRoot();\n        }\n        await closeMainWindow();\n        resolve();\n      } catch (error) {\n        console.error(\"Failed to close window:\", error);\n        resolve(); // Don't throw, just log the error\n      }\n    }, delay);\n  });\n}\n\nfunction gotErrorToString(error: unknown) {\n  console.log(error);\n  // response received\n  if (error instanceof HTTPError) {\n    const { statusCode } = error.response;\n    if (statusCode === StatusCodes.FORBIDDEN) return \"Invalid DeepL API key\";\n    if (statusCode === StatusCodes.TOO_MANY_REQUESTS) return \"Too many requests to DeepL API\";\n    if (statusCode === DEEPL_QUOTA_EXCEEDED)\n      return \"DeepL API quota exceeded. The translation limit of your account has been reached. Consider upgrading your subscription.\";\n    if (statusCode.toString().startsWith(\"5\")) return \"DeepL API is temporary unavailable. Please try again later.\";\n\n    return `DeepL API returned ${statusCode} ${getReasonPhrase(statusCode)}`;\n  }\n\n  // request failed\n  if (error instanceof RequestError) {\n    return `Something went wrong when sending a request to the DeepL API. If you\u2019re having issues, open an issue on GitHub and include following text: ${error.code} ${error.message}`;\n  }\n  return \"Unknown error\";\n}\n\nexport async function getSelection() {\n  try {\n    return await getSelectedText();\n  } catch {\n    return \"\";\n  }\n}\n\n// Get the text, matching preferences.\n// If selected text is the preferred source, it will try selected text but fallback to clipboard.\n// If clipboard is the preferred source, it will try clipboard but fallback to selected text.\nexport async function readContent() {\n  const preferredSource = getPreferenceValues<Preferences>().source;\n  const clipboard = await Clipboard.readText();\n  const selected = await getSelection();\n\n  if (preferredSource === \"clipboard\") {\n    return clipboard || selected;\n  } else {\n    return selected || clipboard;\n  }\n}\n\nexport async function sendTranslateRequest({\n  text: initialText,\n  sourceLanguage,\n  targetLanguage,\n  onTranslateAction,\n  formality,\n}: {\n  text?: string;\n  sourceLanguage?: SourceLanguage;\n  targetLanguage: TargetLanguage;\n  onTranslateAction?: Preferences[\"onTranslateAction\"] | \"none\";\n  formality: Formality;\n}) {\n  try {\n    const prefs = getPreferenceValues<Preferences>();\n    const { key, closeRaycastAfterTranslation } = prefs;\n    onTranslateAction ??= prefs.onTranslateAction;\n\n    const text = initialText || (await readContent());\n\n    const toast = await showToast(Toast.Style.Animated, \"Fetching translation...\");\n    try {\n      const {\n        translations: [{ text: translation, detected_source_language: detectedSourceLanguage }],\n      } = await got\n        .post(`https://api${isPro(key) ? \"\" : \"-free\"}.deepl.com/v2/translate`, {\n          headers: {\n            Authorization: `DeepL-Auth-Key ${key}`,\n          },\n          json: {\n            text: [text],\n            source_lang: sourceLanguage,\n            target_lang: targetLanguage,\n            formality,\n          },\n        })\n        .json<{ translations: { text: string; detected_source_language: SourceLanguage }[] }>();\n      switch (onTranslateAction) {\n        case \"clipboard\":\n          await Clipboard.copy(translation);\n          await showToast(Toast.Style.Success, \"The translation was copied to your clipboard.\");\n          await delayedCloseWindow(closeRaycastAfterTranslation);\n          break;\n        case \"view\":\n          try {\n            await launchCommand({\n              name: \"index\",\n              type: LaunchType.UserInitiated,\n              context: {\n                translation,\n                sourceLanguage: detectedSourceLanguage,\n              },\n            });\n          } catch {\n            await showToast({\n              style: Toast.Style.Failure,\n              title: \"Failed to display translated text.\",\n              message: \"The main Translate command must be enabled.\",\n            });\n          }\n          await delayedCloseWindow(closeRaycastAfterTranslation);\n          break;\n        case \"paste\":\n          await closeMainWindow();\n          await Clipboard.paste(translation);\n          break;\n        default:\n          toast.hide();\n          await delayedCloseWindow(closeRaycastAfterTranslation, 500);\n          break;\n      }\n      return { translation, detectedSourceLanguage };\n    } catch (error) {\n      await showToast(Toast.Style.Failure, \"Something went wrong\", gotErrorToString(error));\n    }\n  } catch {\n    await showToast(Toast.Style.Failure, \"Please select the text to be translated\");\n  }\n}\n\nexport async function translate(target: TargetLanguage, text?: string, formality?: Formality) {\n  const prefs = getPreferenceValues<Preferences>();\n  const defaultFormality = prefs.defaultFormality ?? \"default\";\n  await sendTranslateRequest({ targetLanguage: target, text: text, formality: formality ?? defaultFormality });\n}\n\nexport const source_languages = {\n  AR: \"Arabic\",\n  BG: \"Bulgarian\",\n  ZH: \"Chinese\",\n  CS: \"Czech\",\n  DA: \"Danish\",\n  NL: \"Dutch\",\n  EN: \"English\",\n  ET: \"Estonian\",\n  FI: \"Finnish\",\n  FR: \"French\",\n  DE: \"German\",\n  EL: \"Greek\",\n  HU: \"Hungarian\",\n  IT: \"Italian\",\n  JA: \"Japanese\",\n  LV: \"Latvian\",\n  LT: \"Lithuanian\",\n  PL: \"Polish\",\n  PT: \"Portuguese\",\n  RO: \"Romanian\",\n  RU: \"Russian\",\n  SK: \"Slovak\",\n  SL: \"Slovenian\",\n  ES: \"Spanish\",\n  SV: \"Swedish\",\n  UK: \"Ukrainian\",\n  ID: \"Indonesian\",\n  KO: \"Korean\",\n  NB: \"Norwegian (Bokm\u00E5l)\",\n  TR: \"Turkish\",\n};\nexport type SourceLanguage = keyof typeof source_languages;\n\nexport const target_languages = {\n  AR: \"Arabic\",\n  BG: \"Bulgarian\",\n  ZH: \"Chinese\",\n  CS: \"Czech\",\n  DA: \"Danish\",\n  NL: \"Dutch\",\n  \"EN-GB\": \"English (UK)\",\n  \"EN-US\": \"English (US)\",\n  ET: \"Estonian\",\n  FI: \"Finnish\",\n  FR: \"French\",\n  DE: \"German\",\n  EL: \"Greek\",\n  HU: \"Hungarian\",\n  IT: \"Italian\",\n  JA: \"Japanese\",\n  LV: \"Latvian\",\n  LT: \"Lithuanian\",\n  PL: \"Polish\",\n  \"PT-PT\": \"Portuguese\",\n  \"PT-BR\": \"Portuguese (Brazil)\",\n  RO: \"Romanian\",\n  RU: \"Russian\",\n  SK: \"Slovak\",\n  SL: \"Slovenian\",\n  ES: \"Spanish\",\n  SV: \"Swedish\",\n  UK: \"Ukrainian\",\n  ID: \"Indonesian\",\n  KO: \"Korean\",\n  NB: \"Norwegian (Bokm\u00E5l)\",\n  TR: \"Turkish\",\n};\nexport type TargetLanguage = keyof typeof target_languages;\n\nexport type Formality = \"default\" | \"prefer_more\" | \"prefer_less\";\n\nexport const SUPPORTED_FORMALITY_LANGUAGES = [\"DE\", \"FR\", \"IT\", \"JA\", \"PL\", \"PT-PT\", \"PT-BR\", \"RU\", \"ES\"];\n", "import { setTimeout as delay } from 'node:timers/promises';\nimport is, { assert } from '@sindresorhus/is';\nimport asPromise from './as-promise/index.js';\nimport Request from './core/index.js';\nimport Options from './core/options.js';\nconst isGotInstance = (value) => is.function(value);\nconst aliases = [\n    'get',\n    'post',\n    'put',\n    'patch',\n    'head',\n    'delete',\n];\nconst create = (defaults) => {\n    defaults = {\n        options: new Options(undefined, undefined, defaults.options),\n        handlers: [...defaults.handlers],\n        mutableDefaults: defaults.mutableDefaults,\n    };\n    Object.defineProperty(defaults, 'mutableDefaults', {\n        enumerable: true,\n        configurable: false,\n        writable: false,\n    });\n    // Got interface\n    const got = ((url, options, defaultOptions = defaults.options) => {\n        const request = new Request(url, options, defaultOptions);\n        let promise;\n        const lastHandler = (normalized) => {\n            // Note: `options` is `undefined` when `new Options(...)` fails\n            request.options = normalized;\n            request._noPipe = !normalized?.isStream;\n            void request.flush();\n            if (normalized?.isStream) {\n                return request;\n            }\n            promise ||= asPromise(request);\n            return promise;\n        };\n        let iteration = 0;\n        const iterateHandlers = (newOptions) => {\n            const handler = defaults.handlers[iteration++] ?? lastHandler;\n            const result = handler(newOptions, iterateHandlers);\n            if (is.promise(result) && !request.options?.isStream) {\n                promise ||= asPromise(request);\n                if (result !== promise) {\n                    const descriptors = Object.getOwnPropertyDescriptors(promise);\n                    for (const key in descriptors) {\n                        if (key in result) {\n                            // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n                            delete descriptors[key];\n                        }\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                    Object.defineProperties(result, descriptors);\n                    result.cancel = promise.cancel;\n                }\n            }\n            return result;\n        };\n        return iterateHandlers(request.options);\n    });\n    got.extend = (...instancesOrOptions) => {\n        const options = new Options(undefined, undefined, defaults.options);\n        const handlers = [...defaults.handlers];\n        let mutableDefaults;\n        for (const value of instancesOrOptions) {\n            if (isGotInstance(value)) {\n                options.merge(value.defaults.options);\n                handlers.push(...value.defaults.handlers);\n                mutableDefaults = value.defaults.mutableDefaults;\n            }\n            else {\n                options.merge(value);\n                if (value.handlers) {\n                    handlers.push(...value.handlers);\n                }\n                mutableDefaults = value.mutableDefaults;\n            }\n        }\n        return create({\n            options,\n            handlers,\n            mutableDefaults: Boolean(mutableDefaults),\n        });\n    };\n    // Pagination\n    const paginateEach = (async function* (url, options) {\n        let normalizedOptions = new Options(url, options, defaults.options);\n        normalizedOptions.resolveBodyOnly = false;\n        const { pagination } = normalizedOptions;\n        assert.function(pagination.transform);\n        assert.function(pagination.shouldContinue);\n        assert.function(pagination.filter);\n        assert.function(pagination.paginate);\n        assert.number(pagination.countLimit);\n        assert.number(pagination.requestLimit);\n        assert.number(pagination.backoff);\n        const allItems = [];\n        let { countLimit } = pagination;\n        let numberOfRequests = 0;\n        while (numberOfRequests < pagination.requestLimit) {\n            if (numberOfRequests !== 0) {\n                // eslint-disable-next-line no-await-in-loop\n                await delay(pagination.backoff);\n            }\n            // eslint-disable-next-line no-await-in-loop\n            const response = (await got(undefined, undefined, normalizedOptions));\n            // eslint-disable-next-line no-await-in-loop\n            const parsed = await pagination.transform(response);\n            const currentItems = [];\n            assert.array(parsed);\n            for (const item of parsed) {\n                if (pagination.filter({ item, currentItems, allItems })) {\n                    if (!pagination.shouldContinue({ item, currentItems, allItems })) {\n                        return;\n                    }\n                    yield item;\n                    if (pagination.stackAllItems) {\n                        allItems.push(item);\n                    }\n                    currentItems.push(item);\n                    if (--countLimit <= 0) {\n                        return;\n                    }\n                }\n            }\n            const optionsToMerge = pagination.paginate({\n                response,\n                currentItems,\n                allItems,\n            });\n            if (optionsToMerge === false) {\n                return;\n            }\n            if (optionsToMerge === response.request.options) {\n                normalizedOptions = response.request.options;\n            }\n            else {\n                normalizedOptions.merge(optionsToMerge);\n                try {\n                    assert.any([is.urlInstance, is.undefined], optionsToMerge.url);\n                }\n                catch (error) {\n                    if (error instanceof Error) {\n                        error.message = `Option 'pagination.paginate.url': ${error.message}`;\n                    }\n                    throw error;\n                }\n                if (optionsToMerge.url !== undefined) {\n                    normalizedOptions.prefixUrl = '';\n                    normalizedOptions.url = optionsToMerge.url;\n                }\n            }\n            numberOfRequests++;\n        }\n    });\n    got.paginate = paginateEach;\n    got.paginate.all = (async (url, options) => {\n        const results = [];\n        for await (const item of paginateEach(url, options)) {\n            results.push(item);\n        }\n        return results;\n    });\n    // For those who like very descriptive names\n    got.paginate.each = paginateEach;\n    // Stream API\n    got.stream = ((url, options) => got(url, { ...options, isStream: true }));\n    // Shortcuts\n    for (const method of aliases) {\n        got[method] = ((url, options) => got(url, { ...options, method }));\n        got.stream[method] = ((url, options) => got(url, { ...options, method, isStream: true }));\n    }\n    if (!defaults.mutableDefaults) {\n        Object.freeze(defaults.handlers);\n        defaults.options.freeze();\n    }\n    Object.defineProperty(got, 'defaults', {\n        value: defaults,\n        writable: false,\n        configurable: false,\n        enumerable: true,\n    });\n    return got;\n};\nexport default create;\n", "export function keysOf(value) {\n    return Object.keys(value);\n}\n", "import { keysOf } from './utilities.js';\nconst typedArrayTypeNames = [\n    'Int8Array',\n    'Uint8Array',\n    'Uint8ClampedArray',\n    'Int16Array',\n    'Uint16Array',\n    'Int32Array',\n    'Uint32Array',\n    'Float32Array',\n    'Float64Array',\n    'BigInt64Array',\n    'BigUint64Array',\n];\nfunction isTypedArrayName(name) {\n    return typedArrayTypeNames.includes(name);\n}\nconst objectTypeNames = [\n    'Function',\n    'Generator',\n    'AsyncGenerator',\n    'GeneratorFunction',\n    'AsyncGeneratorFunction',\n    'AsyncFunction',\n    'Observable',\n    'Array',\n    'Buffer',\n    'Blob',\n    'Object',\n    'RegExp',\n    'Date',\n    'Error',\n    'Map',\n    'Set',\n    'WeakMap',\n    'WeakSet',\n    'WeakRef',\n    'ArrayBuffer',\n    'SharedArrayBuffer',\n    'DataView',\n    'Promise',\n    'URL',\n    'FormData',\n    'URLSearchParams',\n    'HTMLElement',\n    'NaN',\n    ...typedArrayTypeNames,\n];\nfunction isObjectTypeName(name) {\n    return objectTypeNames.includes(name);\n}\nconst primitiveTypeNames = [\n    'null',\n    'undefined',\n    'string',\n    'number',\n    'bigint',\n    'boolean',\n    'symbol',\n];\nfunction isPrimitiveTypeName(name) {\n    return primitiveTypeNames.includes(name);\n}\nconst assertionTypeDescriptions = [\n    'positive number',\n    'negative number',\n    'Class',\n    'string with a number',\n    'null or undefined',\n    'Iterable',\n    'AsyncIterable',\n    'native Promise',\n    'EnumCase',\n    'string with a URL',\n    'truthy',\n    'falsy',\n    'primitive',\n    'integer',\n    'plain object',\n    'TypedArray',\n    'array-like',\n    'tuple-like',\n    'Node.js Stream',\n    'infinite number',\n    'empty array',\n    'non-empty array',\n    'empty string',\n    'empty string or whitespace',\n    'non-empty string',\n    'non-empty string and not whitespace',\n    'empty object',\n    'non-empty object',\n    'empty set',\n    'non-empty set',\n    'empty map',\n    'non-empty map',\n    'PropertyKey',\n    'even integer',\n    'odd integer',\n    'T',\n    'in range',\n    'predicate returns truthy for any value',\n    'predicate returns truthy for all values',\n    'valid Date',\n    'valid length',\n    'whitespace string',\n    ...objectTypeNames,\n    ...primitiveTypeNames,\n];\nconst getObjectType = (value) => {\n    const objectTypeName = Object.prototype.toString.call(value).slice(8, -1);\n    if (/HTML\\w+Element/.test(objectTypeName) && isHtmlElement(value)) {\n        return 'HTMLElement';\n    }\n    if (isObjectTypeName(objectTypeName)) {\n        return objectTypeName;\n    }\n    return undefined;\n};\nfunction detect(value) {\n    if (value === null) {\n        return 'null';\n    }\n    switch (typeof value) {\n        case 'undefined': {\n            return 'undefined';\n        }\n        case 'string': {\n            return 'string';\n        }\n        case 'number': {\n            return Number.isNaN(value) ? 'NaN' : 'number';\n        }\n        case 'boolean': {\n            return 'boolean';\n        }\n        case 'function': {\n            return 'Function';\n        }\n        case 'bigint': {\n            return 'bigint';\n        }\n        case 'symbol': {\n            return 'symbol';\n        }\n        default:\n    }\n    if (isObservable(value)) {\n        return 'Observable';\n    }\n    if (isArray(value)) {\n        return 'Array';\n    }\n    if (isBuffer(value)) {\n        return 'Buffer';\n    }\n    const tagType = getObjectType(value);\n    if (tagType && tagType !== 'Object') {\n        return tagType;\n    }\n    if (hasPromiseApi(value)) {\n        return 'Promise';\n    }\n    if (value instanceof String || value instanceof Boolean || value instanceof Number) {\n        throw new TypeError('Please don\\'t use object wrappers for primitive types');\n    }\n    return 'Object';\n}\nfunction hasPromiseApi(value) {\n    return isFunction(value?.then) && isFunction(value?.catch);\n}\nconst is = Object.assign(detect, {\n    all: isAll,\n    any: isAny,\n    array: isArray,\n    arrayBuffer: isArrayBuffer,\n    arrayLike: isArrayLike,\n    asyncFunction: isAsyncFunction,\n    asyncGenerator: isAsyncGenerator,\n    asyncGeneratorFunction: isAsyncGeneratorFunction,\n    asyncIterable: isAsyncIterable,\n    bigint: isBigint,\n    bigInt64Array: isBigInt64Array,\n    bigUint64Array: isBigUint64Array,\n    blob: isBlob,\n    boolean: isBoolean,\n    boundFunction: isBoundFunction,\n    buffer: isBuffer,\n    class: isClass,\n    dataView: isDataView,\n    date: isDate,\n    detect,\n    directInstanceOf: isDirectInstanceOf,\n    emptyArray: isEmptyArray,\n    emptyMap: isEmptyMap,\n    emptyObject: isEmptyObject,\n    emptySet: isEmptySet,\n    emptyString: isEmptyString,\n    emptyStringOrWhitespace: isEmptyStringOrWhitespace,\n    enumCase: isEnumCase,\n    error: isError,\n    evenInteger: isEvenInteger,\n    falsy: isFalsy,\n    float32Array: isFloat32Array,\n    float64Array: isFloat64Array,\n    formData: isFormData,\n    function: isFunction,\n    generator: isGenerator,\n    generatorFunction: isGeneratorFunction,\n    htmlElement: isHtmlElement,\n    infinite: isInfinite,\n    inRange: isInRange,\n    int16Array: isInt16Array,\n    int32Array: isInt32Array,\n    int8Array: isInt8Array,\n    integer: isInteger,\n    iterable: isIterable,\n    map: isMap,\n    nan: isNan,\n    nativePromise: isNativePromise,\n    negativeNumber: isNegativeNumber,\n    nodeStream: isNodeStream,\n    nonEmptyArray: isNonEmptyArray,\n    nonEmptyMap: isNonEmptyMap,\n    nonEmptyObject: isNonEmptyObject,\n    nonEmptySet: isNonEmptySet,\n    nonEmptyString: isNonEmptyString,\n    nonEmptyStringAndNotWhitespace: isNonEmptyStringAndNotWhitespace,\n    null: isNull,\n    nullOrUndefined: isNullOrUndefined,\n    number: isNumber,\n    numericString: isNumericString,\n    object: isObject,\n    observable: isObservable,\n    oddInteger: isOddInteger,\n    plainObject: isPlainObject,\n    positiveNumber: isPositiveNumber,\n    primitive: isPrimitive,\n    promise: isPromise,\n    propertyKey: isPropertyKey,\n    regExp: isRegExp,\n    safeInteger: isSafeInteger,\n    set: isSet,\n    sharedArrayBuffer: isSharedArrayBuffer,\n    string: isString,\n    symbol: isSymbol,\n    truthy: isTruthy,\n    tupleLike: isTupleLike,\n    typedArray: isTypedArray,\n    uint16Array: isUint16Array,\n    uint32Array: isUint32Array,\n    uint8Array: isUint8Array,\n    uint8ClampedArray: isUint8ClampedArray,\n    undefined: isUndefined,\n    urlInstance: isUrlInstance,\n    urlSearchParams: isUrlSearchParams,\n    urlString: isUrlString,\n    optional: isOptional,\n    validDate: isValidDate,\n    validLength: isValidLength,\n    weakMap: isWeakMap,\n    weakRef: isWeakRef,\n    weakSet: isWeakSet,\n    whitespaceString: isWhitespaceString,\n});\nfunction isAbsoluteModule2(remainder) {\n    return (value) => isInteger(value) && Math.abs(value % 2) === remainder;\n}\nexport function isAll(predicate, ...values) {\n    return predicateOnArray(Array.prototype.every, predicate, values);\n}\nexport function isAny(predicate, ...values) {\n    const predicates = isArray(predicate) ? predicate : [predicate];\n    return predicates.some(singlePredicate => predicateOnArray(Array.prototype.some, singlePredicate, values));\n}\nexport function isOptional(value, predicate) {\n    return isUndefined(value) || predicate(value);\n}\nexport function isArray(value, assertion) {\n    if (!Array.isArray(value)) {\n        return false;\n    }\n    if (!isFunction(assertion)) {\n        return true;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    return value.every(element => assertion(element));\n}\nexport function isArrayBuffer(value) {\n    return getObjectType(value) === 'ArrayBuffer';\n}\nexport function isArrayLike(value) {\n    return !isNullOrUndefined(value) && !isFunction(value) && isValidLength(value.length);\n}\nexport function isAsyncFunction(value) {\n    return getObjectType(value) === 'AsyncFunction';\n}\nexport function isAsyncGenerator(value) {\n    return isAsyncIterable(value) && isFunction(value.next) && isFunction(value.throw);\n}\nexport function isAsyncGeneratorFunction(value) {\n    return getObjectType(value) === 'AsyncGeneratorFunction';\n}\nexport function isAsyncIterable(value) {\n    return isFunction(value?.[Symbol.asyncIterator]);\n}\nexport function isBigint(value) {\n    return typeof value === 'bigint';\n}\nexport function isBigInt64Array(value) {\n    return getObjectType(value) === 'BigInt64Array';\n}\nexport function isBigUint64Array(value) {\n    return getObjectType(value) === 'BigUint64Array';\n}\nexport function isBlob(value) {\n    return getObjectType(value) === 'Blob';\n}\nexport function isBoolean(value) {\n    return value === true || value === false;\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function isBoundFunction(value) {\n    return isFunction(value) && !Object.hasOwn(value, 'prototype');\n}\n/**\nNote: [Prefer using `Uint8Array` instead of `Buffer`.](https://sindresorhus.com/blog/goodbye-nodejs-buffer)\n*/\nexport function isBuffer(value) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return, @typescript-eslint/no-unsafe-call\n    return value?.constructor?.isBuffer?.(value) ?? false;\n}\nexport function isClass(value) {\n    return isFunction(value) && /^class(\\s+|{)/.test(value.toString());\n}\nexport function isDataView(value) {\n    return getObjectType(value) === 'DataView';\n}\nexport function isDate(value) {\n    return getObjectType(value) === 'Date';\n}\nexport function isDirectInstanceOf(instance, class_) {\n    if (instance === undefined || instance === null) {\n        return false;\n    }\n    return Object.getPrototypeOf(instance) === class_.prototype;\n}\nexport function isEmptyArray(value) {\n    return isArray(value) && value.length === 0;\n}\nexport function isEmptyMap(value) {\n    return isMap(value) && value.size === 0;\n}\nexport function isEmptyObject(value) {\n    return isObject(value) && !isMap(value) && !isSet(value) && Object.keys(value).length === 0;\n}\nexport function isEmptySet(value) {\n    return isSet(value) && value.size === 0;\n}\nexport function isEmptyString(value) {\n    return isString(value) && value.length === 0;\n}\nexport function isEmptyStringOrWhitespace(value) {\n    return isEmptyString(value) || isWhitespaceString(value);\n}\nexport function isEnumCase(value, targetEnum) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    return Object.values(targetEnum).includes(value);\n}\nexport function isError(value) {\n    // TODO: Use `Error.isError` when targeting Node.js 24.`\n    return getObjectType(value) === 'Error';\n}\nexport function isEvenInteger(value) {\n    return isAbsoluteModule2(0)(value);\n}\n// Example: `is.falsy = (value: unknown): value is (not true | 0 | '' | undefined | null) => Boolean(value);`\nexport function isFalsy(value) {\n    return !value;\n}\n// TODO: Support detecting Float16Array when targeting Node.js 24.\nexport function isFloat32Array(value) {\n    return getObjectType(value) === 'Float32Array';\n}\nexport function isFloat64Array(value) {\n    return getObjectType(value) === 'Float64Array';\n}\nexport function isFormData(value) {\n    return getObjectType(value) === 'FormData';\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function isFunction(value) {\n    return typeof value === 'function';\n}\nexport function isGenerator(value) {\n    return isIterable(value) && isFunction(value?.next) && isFunction(value?.throw);\n}\nexport function isGeneratorFunction(value) {\n    return getObjectType(value) === 'GeneratorFunction';\n}\n// eslint-disable-next-line @typescript-eslint/naming-convention\nconst NODE_TYPE_ELEMENT = 1;\n// eslint-disable-next-line @typescript-eslint/naming-convention\nconst DOM_PROPERTIES_TO_CHECK = [\n    'innerHTML',\n    'ownerDocument',\n    'style',\n    'attributes',\n    'nodeValue',\n];\nexport function isHtmlElement(value) {\n    return isObject(value)\n        && value.nodeType === NODE_TYPE_ELEMENT\n        && isString(value.nodeName)\n        && !isPlainObject(value)\n        && DOM_PROPERTIES_TO_CHECK.every(property => property in value);\n}\nexport function isInfinite(value) {\n    return value === Number.POSITIVE_INFINITY || value === Number.NEGATIVE_INFINITY;\n}\nexport function isInRange(value, range) {\n    if (isNumber(range)) {\n        return value >= Math.min(0, range) && value <= Math.max(range, 0);\n    }\n    if (isArray(range) && range.length === 2) {\n        return value >= Math.min(...range) && value <= Math.max(...range);\n    }\n    throw new TypeError(`Invalid range: ${JSON.stringify(range)}`);\n}\nexport function isInt16Array(value) {\n    return getObjectType(value) === 'Int16Array';\n}\nexport function isInt32Array(value) {\n    return getObjectType(value) === 'Int32Array';\n}\nexport function isInt8Array(value) {\n    return getObjectType(value) === 'Int8Array';\n}\nexport function isInteger(value) {\n    return Number.isInteger(value);\n}\nexport function isIterable(value) {\n    return isFunction(value?.[Symbol.iterator]);\n}\nexport function isMap(value) {\n    return getObjectType(value) === 'Map';\n}\nexport function isNan(value) {\n    return Number.isNaN(value);\n}\nexport function isNativePromise(value) {\n    return getObjectType(value) === 'Promise';\n}\nexport function isNegativeNumber(value) {\n    return isNumber(value) && value < 0;\n}\nexport function isNodeStream(value) {\n    return isObject(value) && isFunction(value.pipe) && !isObservable(value);\n}\nexport function isNonEmptyArray(value) {\n    return isArray(value) && value.length > 0;\n}\nexport function isNonEmptyMap(value) {\n    return isMap(value) && value.size > 0;\n}\n// TODO: Use `not` operator here to remove `Map` and `Set` from type guard:\n// - https://github.com/Microsoft/TypeScript/pull/29317\nexport function isNonEmptyObject(value) {\n    return isObject(value) && !isMap(value) && !isSet(value) && Object.keys(value).length > 0;\n}\nexport function isNonEmptySet(value) {\n    return isSet(value) && value.size > 0;\n}\n// TODO: Use `not ''` when the `not` operator is available.\nexport function isNonEmptyString(value) {\n    return isString(value) && value.length > 0;\n}\n// TODO: Use `not ''` when the `not` operator is available.\nexport function isNonEmptyStringAndNotWhitespace(value) {\n    return isString(value) && !isEmptyStringOrWhitespace(value);\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function isNull(value) {\n    return value === null;\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function isNullOrUndefined(value) {\n    return isNull(value) || isUndefined(value);\n}\nexport function isNumber(value) {\n    return typeof value === 'number' && !Number.isNaN(value);\n}\nexport function isNumericString(value) {\n    return isString(value) && !isEmptyStringOrWhitespace(value) && !Number.isNaN(Number(value));\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function isObject(value) {\n    return !isNull(value) && (typeof value === 'object' || isFunction(value));\n}\nexport function isObservable(value) {\n    if (!value) {\n        return false;\n    }\n    // eslint-disable-next-line no-use-extend-native/no-use-extend-native, @typescript-eslint/no-unsafe-call\n    if (Symbol.observable !== undefined && value === value[Symbol.observable]?.()) {\n        return true;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n    if (value === value['@@observable']?.()) {\n        return true;\n    }\n    return false;\n}\nexport function isOddInteger(value) {\n    return isAbsoluteModule2(1)(value);\n}\nexport function isPlainObject(value) {\n    // From: https://github.com/sindresorhus/is-plain-obj/blob/main/index.js\n    if (typeof value !== 'object' || value === null) {\n        return false;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const prototype = Object.getPrototypeOf(value);\n    return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in value) && !(Symbol.iterator in value);\n}\nexport function isPositiveNumber(value) {\n    return isNumber(value) && value > 0;\n}\nexport function isPrimitive(value) {\n    return isNull(value) || isPrimitiveTypeName(typeof value);\n}\nexport function isPromise(value) {\n    return isNativePromise(value) || hasPromiseApi(value);\n}\n// `PropertyKey` is any value that can be used as an object key (string, number, or symbol)\nexport function isPropertyKey(value) {\n    return isAny([isString, isNumber, isSymbol], value);\n}\nexport function isRegExp(value) {\n    return getObjectType(value) === 'RegExp';\n}\nexport function isSafeInteger(value) {\n    return Number.isSafeInteger(value);\n}\nexport function isSet(value) {\n    return getObjectType(value) === 'Set';\n}\nexport function isSharedArrayBuffer(value) {\n    return getObjectType(value) === 'SharedArrayBuffer';\n}\nexport function isString(value) {\n    return typeof value === 'string';\n}\nexport function isSymbol(value) {\n    return typeof value === 'symbol';\n}\n// Example: `is.truthy = (value: unknown): value is (not false | not 0 | not '' | not undefined | not null) => Boolean(value);`\n// eslint-disable-next-line unicorn/prefer-native-coercion-functions\nexport function isTruthy(value) {\n    return Boolean(value);\n}\nexport function isTupleLike(value, guards) {\n    if (isArray(guards) && isArray(value) && guards.length === value.length) {\n        return guards.every((guard, index) => guard(value[index]));\n    }\n    return false;\n}\nexport function isTypedArray(value) {\n    return isTypedArrayName(getObjectType(value));\n}\nexport function isUint16Array(value) {\n    return getObjectType(value) === 'Uint16Array';\n}\nexport function isUint32Array(value) {\n    return getObjectType(value) === 'Uint32Array';\n}\nexport function isUint8Array(value) {\n    return getObjectType(value) === 'Uint8Array';\n}\nexport function isUint8ClampedArray(value) {\n    return getObjectType(value) === 'Uint8ClampedArray';\n}\nexport function isUndefined(value) {\n    return value === undefined;\n}\nexport function isUrlInstance(value) {\n    return getObjectType(value) === 'URL';\n}\n// eslint-disable-next-line unicorn/prevent-abbreviations\nexport function isUrlSearchParams(value) {\n    return getObjectType(value) === 'URLSearchParams';\n}\nexport function isUrlString(value) {\n    if (!isString(value)) {\n        return false;\n    }\n    try {\n        new URL(value); // eslint-disable-line no-new\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nexport function isValidDate(value) {\n    return isDate(value) && !isNan(Number(value));\n}\nexport function isValidLength(value) {\n    return isSafeInteger(value) && value >= 0;\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function isWeakMap(value) {\n    return getObjectType(value) === 'WeakMap';\n}\n// eslint-disable-next-line @typescript-eslint/ban-types, unicorn/prevent-abbreviations\nexport function isWeakRef(value) {\n    return getObjectType(value) === 'WeakRef';\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function isWeakSet(value) {\n    return getObjectType(value) === 'WeakSet';\n}\nexport function isWhitespaceString(value) {\n    return isString(value) && /^\\s+$/.test(value);\n}\nfunction predicateOnArray(method, predicate, values) {\n    if (!isFunction(predicate)) {\n        throw new TypeError(`Invalid predicate: ${JSON.stringify(predicate)}`);\n    }\n    if (values.length === 0) {\n        throw new TypeError('Invalid number of values');\n    }\n    return method.call(values, predicate);\n}\nfunction typeErrorMessage(description, value) {\n    return `Expected value which is \\`${description}\\`, received value of type \\`${is(value)}\\`.`;\n}\nfunction unique(values) {\n    // eslint-disable-next-line unicorn/prefer-spread\n    return Array.from(new Set(values));\n}\nconst andFormatter = new Intl.ListFormat('en', { style: 'long', type: 'conjunction' });\nconst orFormatter = new Intl.ListFormat('en', { style: 'long', type: 'disjunction' });\nfunction typeErrorMessageMultipleValues(expectedType, values) {\n    const uniqueExpectedTypes = unique((isArray(expectedType) ? expectedType : [expectedType]).map(value => `\\`${value}\\``));\n    const uniqueValueTypes = unique(values.map(value => `\\`${is(value)}\\``));\n    return `Expected values which are ${orFormatter.format(uniqueExpectedTypes)}. Received values of type${uniqueValueTypes.length > 1 ? 's' : ''} ${andFormatter.format(uniqueValueTypes)}.`;\n}\nexport const assert = {\n    all: assertAll,\n    any: assertAny,\n    optional: assertOptional,\n    array: assertArray,\n    arrayBuffer: assertArrayBuffer,\n    arrayLike: assertArrayLike,\n    asyncFunction: assertAsyncFunction,\n    asyncGenerator: assertAsyncGenerator,\n    asyncGeneratorFunction: assertAsyncGeneratorFunction,\n    asyncIterable: assertAsyncIterable,\n    bigint: assertBigint,\n    bigInt64Array: assertBigInt64Array,\n    bigUint64Array: assertBigUint64Array,\n    blob: assertBlob,\n    boolean: assertBoolean,\n    boundFunction: assertBoundFunction,\n    buffer: assertBuffer,\n    class: assertClass,\n    dataView: assertDataView,\n    date: assertDate,\n    directInstanceOf: assertDirectInstanceOf,\n    emptyArray: assertEmptyArray,\n    emptyMap: assertEmptyMap,\n    emptyObject: assertEmptyObject,\n    emptySet: assertEmptySet,\n    emptyString: assertEmptyString,\n    emptyStringOrWhitespace: assertEmptyStringOrWhitespace,\n    enumCase: assertEnumCase,\n    error: assertError,\n    evenInteger: assertEvenInteger,\n    falsy: assertFalsy,\n    float32Array: assertFloat32Array,\n    float64Array: assertFloat64Array,\n    formData: assertFormData,\n    function: assertFunction,\n    generator: assertGenerator,\n    generatorFunction: assertGeneratorFunction,\n    htmlElement: assertHtmlElement,\n    infinite: assertInfinite,\n    inRange: assertInRange,\n    int16Array: assertInt16Array,\n    int32Array: assertInt32Array,\n    int8Array: assertInt8Array,\n    integer: assertInteger,\n    iterable: assertIterable,\n    map: assertMap,\n    nan: assertNan,\n    nativePromise: assertNativePromise,\n    negativeNumber: assertNegativeNumber,\n    nodeStream: assertNodeStream,\n    nonEmptyArray: assertNonEmptyArray,\n    nonEmptyMap: assertNonEmptyMap,\n    nonEmptyObject: assertNonEmptyObject,\n    nonEmptySet: assertNonEmptySet,\n    nonEmptyString: assertNonEmptyString,\n    nonEmptyStringAndNotWhitespace: assertNonEmptyStringAndNotWhitespace,\n    null: assertNull,\n    nullOrUndefined: assertNullOrUndefined,\n    number: assertNumber,\n    numericString: assertNumericString,\n    object: assertObject,\n    observable: assertObservable,\n    oddInteger: assertOddInteger,\n    plainObject: assertPlainObject,\n    positiveNumber: assertPositiveNumber,\n    primitive: assertPrimitive,\n    promise: assertPromise,\n    propertyKey: assertPropertyKey,\n    regExp: assertRegExp,\n    safeInteger: assertSafeInteger,\n    set: assertSet,\n    sharedArrayBuffer: assertSharedArrayBuffer,\n    string: assertString,\n    symbol: assertSymbol,\n    truthy: assertTruthy,\n    tupleLike: assertTupleLike,\n    typedArray: assertTypedArray,\n    uint16Array: assertUint16Array,\n    uint32Array: assertUint32Array,\n    uint8Array: assertUint8Array,\n    uint8ClampedArray: assertUint8ClampedArray,\n    undefined: assertUndefined,\n    urlInstance: assertUrlInstance,\n    urlSearchParams: assertUrlSearchParams,\n    urlString: assertUrlString,\n    validDate: assertValidDate,\n    validLength: assertValidLength,\n    weakMap: assertWeakMap,\n    weakRef: assertWeakRef,\n    weakSet: assertWeakSet,\n    whitespaceString: assertWhitespaceString,\n};\nconst methodTypeMap = {\n    isArray: 'Array',\n    isArrayBuffer: 'ArrayBuffer',\n    isArrayLike: 'array-like',\n    isAsyncFunction: 'AsyncFunction',\n    isAsyncGenerator: 'AsyncGenerator',\n    isAsyncGeneratorFunction: 'AsyncGeneratorFunction',\n    isAsyncIterable: 'AsyncIterable',\n    isBigint: 'bigint',\n    isBigInt64Array: 'BigInt64Array',\n    isBigUint64Array: 'BigUint64Array',\n    isBlob: 'Blob',\n    isBoolean: 'boolean',\n    isBoundFunction: 'Function',\n    isBuffer: 'Buffer',\n    isClass: 'Class',\n    isDataView: 'DataView',\n    isDate: 'Date',\n    isDirectInstanceOf: 'T',\n    isEmptyArray: 'empty array',\n    isEmptyMap: 'empty map',\n    isEmptyObject: 'empty object',\n    isEmptySet: 'empty set',\n    isEmptyString: 'empty string',\n    isEmptyStringOrWhitespace: 'empty string or whitespace',\n    isEnumCase: 'EnumCase',\n    isError: 'Error',\n    isEvenInteger: 'even integer',\n    isFalsy: 'falsy',\n    isFloat32Array: 'Float32Array',\n    isFloat64Array: 'Float64Array',\n    isFormData: 'FormData',\n    isFunction: 'Function',\n    isGenerator: 'Generator',\n    isGeneratorFunction: 'GeneratorFunction',\n    isHtmlElement: 'HTMLElement',\n    isInfinite: 'infinite number',\n    isInRange: 'in range',\n    isInt16Array: 'Int16Array',\n    isInt32Array: 'Int32Array',\n    isInt8Array: 'Int8Array',\n    isInteger: 'integer',\n    isIterable: 'Iterable',\n    isMap: 'Map',\n    isNan: 'NaN',\n    isNativePromise: 'native Promise',\n    isNegativeNumber: 'negative number',\n    isNodeStream: 'Node.js Stream',\n    isNonEmptyArray: 'non-empty array',\n    isNonEmptyMap: 'non-empty map',\n    isNonEmptyObject: 'non-empty object',\n    isNonEmptySet: 'non-empty set',\n    isNonEmptyString: 'non-empty string',\n    isNonEmptyStringAndNotWhitespace: 'non-empty string and not whitespace',\n    isNull: 'null',\n    isNullOrUndefined: 'null or undefined',\n    isNumber: 'number',\n    isNumericString: 'string with a number',\n    isObject: 'Object',\n    isObservable: 'Observable',\n    isOddInteger: 'odd integer',\n    isPlainObject: 'plain object',\n    isPositiveNumber: 'positive number',\n    isPrimitive: 'primitive',\n    isPromise: 'Promise',\n    isPropertyKey: 'PropertyKey',\n    isRegExp: 'RegExp',\n    isSafeInteger: 'integer',\n    isSet: 'Set',\n    isSharedArrayBuffer: 'SharedArrayBuffer',\n    isString: 'string',\n    isSymbol: 'symbol',\n    isTruthy: 'truthy',\n    isTupleLike: 'tuple-like',\n    isTypedArray: 'TypedArray',\n    isUint16Array: 'Uint16Array',\n    isUint32Array: 'Uint32Array',\n    isUint8Array: 'Uint8Array',\n    isUint8ClampedArray: 'Uint8ClampedArray',\n    isUndefined: 'undefined',\n    isUrlInstance: 'URL',\n    isUrlSearchParams: 'URLSearchParams',\n    isUrlString: 'string with a URL',\n    isValidDate: 'valid Date',\n    isValidLength: 'valid length',\n    isWeakMap: 'WeakMap',\n    isWeakRef: 'WeakRef',\n    isWeakSet: 'WeakSet',\n    isWhitespaceString: 'whitespace string',\n};\nconst isMethodNames = keysOf(methodTypeMap);\nfunction isIsMethodName(value) {\n    return isMethodNames.includes(value);\n}\nexport function assertAll(predicate, ...values) {\n    if (!isAll(predicate, ...values)) {\n        const expectedType = isIsMethodName(predicate.name) ? methodTypeMap[predicate.name] : 'predicate returns truthy for all values';\n        throw new TypeError(typeErrorMessageMultipleValues(expectedType, values));\n    }\n}\nexport function assertAny(predicate, ...values) {\n    if (!isAny(predicate, ...values)) {\n        const predicates = isArray(predicate) ? predicate : [predicate];\n        const expectedTypes = predicates.map(predicate => isIsMethodName(predicate.name) ? methodTypeMap[predicate.name] : 'predicate returns truthy for any value');\n        throw new TypeError(typeErrorMessageMultipleValues(expectedTypes, values));\n    }\n}\nexport function assertOptional(value, assertion, message) {\n    if (!isUndefined(value)) {\n        assertion(value, message);\n    }\n}\nexport function assertArray(value, assertion, message) {\n    if (!isArray(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Array', value));\n    }\n    if (assertion) {\n        for (const element of value) {\n            // @ts-expect-error: \"Assertions require every name in the call target to be declared with an explicit type annotation.\"\n            assertion(element, message);\n        }\n    }\n}\nexport function assertArrayBuffer(value, message) {\n    if (!isArrayBuffer(value)) {\n        throw new TypeError(message ?? typeErrorMessage('ArrayBuffer', value));\n    }\n}\nexport function assertArrayLike(value, message) {\n    if (!isArrayLike(value)) {\n        throw new TypeError(message ?? typeErrorMessage('array-like', value));\n    }\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function assertAsyncFunction(value, message) {\n    if (!isAsyncFunction(value)) {\n        throw new TypeError(message ?? typeErrorMessage('AsyncFunction', value));\n    }\n}\nexport function assertAsyncGenerator(value, message) {\n    if (!isAsyncGenerator(value)) {\n        throw new TypeError(message ?? typeErrorMessage('AsyncGenerator', value));\n    }\n}\nexport function assertAsyncGeneratorFunction(value, message) {\n    if (!isAsyncGeneratorFunction(value)) {\n        throw new TypeError(message ?? typeErrorMessage('AsyncGeneratorFunction', value));\n    }\n}\nexport function assertAsyncIterable(value, message) {\n    if (!isAsyncIterable(value)) {\n        throw new TypeError(message ?? typeErrorMessage('AsyncIterable', value));\n    }\n}\nexport function assertBigint(value, message) {\n    if (!isBigint(value)) {\n        throw new TypeError(message ?? typeErrorMessage('bigint', value));\n    }\n}\nexport function assertBigInt64Array(value, message) {\n    if (!isBigInt64Array(value)) {\n        throw new TypeError(message ?? typeErrorMessage('BigInt64Array', value));\n    }\n}\nexport function assertBigUint64Array(value, message) {\n    if (!isBigUint64Array(value)) {\n        throw new TypeError(message ?? typeErrorMessage('BigUint64Array', value));\n    }\n}\nexport function assertBlob(value, message) {\n    if (!isBlob(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Blob', value));\n    }\n}\nexport function assertBoolean(value, message) {\n    if (!isBoolean(value)) {\n        throw new TypeError(message ?? typeErrorMessage('boolean', value));\n    }\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function assertBoundFunction(value, message) {\n    if (!isBoundFunction(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Function', value));\n    }\n}\n/**\nNote: [Prefer using `Uint8Array` instead of `Buffer`.](https://sindresorhus.com/blog/goodbye-nodejs-buffer)\n*/\nexport function assertBuffer(value, message) {\n    if (!isBuffer(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Buffer', value));\n    }\n}\nexport function assertClass(value, message) {\n    if (!isClass(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Class', value));\n    }\n}\nexport function assertDataView(value, message) {\n    if (!isDataView(value)) {\n        throw new TypeError(message ?? typeErrorMessage('DataView', value));\n    }\n}\nexport function assertDate(value, message) {\n    if (!isDate(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Date', value));\n    }\n}\nexport function assertDirectInstanceOf(instance, class_, message) {\n    if (!isDirectInstanceOf(instance, class_)) {\n        throw new TypeError(message ?? typeErrorMessage('T', instance));\n    }\n}\nexport function assertEmptyArray(value, message) {\n    if (!isEmptyArray(value)) {\n        throw new TypeError(message ?? typeErrorMessage('empty array', value));\n    }\n}\nexport function assertEmptyMap(value, message) {\n    if (!isEmptyMap(value)) {\n        throw new TypeError(message ?? typeErrorMessage('empty map', value));\n    }\n}\nexport function assertEmptyObject(value, message) {\n    if (!isEmptyObject(value)) {\n        throw new TypeError(message ?? typeErrorMessage('empty object', value));\n    }\n}\nexport function assertEmptySet(value, message) {\n    if (!isEmptySet(value)) {\n        throw new TypeError(message ?? typeErrorMessage('empty set', value));\n    }\n}\nexport function assertEmptyString(value, message) {\n    if (!isEmptyString(value)) {\n        throw new TypeError(message ?? typeErrorMessage('empty string', value));\n    }\n}\nexport function assertEmptyStringOrWhitespace(value, message) {\n    if (!isEmptyStringOrWhitespace(value)) {\n        throw new TypeError(message ?? typeErrorMessage('empty string or whitespace', value));\n    }\n}\nexport function assertEnumCase(value, targetEnum, message) {\n    if (!isEnumCase(value, targetEnum)) {\n        throw new TypeError(message ?? typeErrorMessage('EnumCase', value));\n    }\n}\nexport function assertError(value, message) {\n    if (!isError(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Error', value));\n    }\n}\nexport function assertEvenInteger(value, message) {\n    if (!isEvenInteger(value)) {\n        throw new TypeError(message ?? typeErrorMessage('even integer', value));\n    }\n}\nexport function assertFalsy(value, message) {\n    if (!isFalsy(value)) {\n        throw new TypeError(message ?? typeErrorMessage('falsy', value));\n    }\n}\nexport function assertFloat32Array(value, message) {\n    if (!isFloat32Array(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Float32Array', value));\n    }\n}\nexport function assertFloat64Array(value, message) {\n    if (!isFloat64Array(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Float64Array', value));\n    }\n}\nexport function assertFormData(value, message) {\n    if (!isFormData(value)) {\n        throw new TypeError(message ?? typeErrorMessage('FormData', value));\n    }\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function assertFunction(value, message) {\n    if (!isFunction(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Function', value));\n    }\n}\nexport function assertGenerator(value, message) {\n    if (!isGenerator(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Generator', value));\n    }\n}\nexport function assertGeneratorFunction(value, message) {\n    if (!isGeneratorFunction(value)) {\n        throw new TypeError(message ?? typeErrorMessage('GeneratorFunction', value));\n    }\n}\nexport function assertHtmlElement(value, message) {\n    if (!isHtmlElement(value)) {\n        throw new TypeError(message ?? typeErrorMessage('HTMLElement', value));\n    }\n}\nexport function assertInfinite(value, message) {\n    if (!isInfinite(value)) {\n        throw new TypeError(message ?? typeErrorMessage('infinite number', value));\n    }\n}\nexport function assertInRange(value, range, message) {\n    if (!isInRange(value, range)) {\n        throw new TypeError(message ?? typeErrorMessage('in range', value));\n    }\n}\nexport function assertInt16Array(value, message) {\n    if (!isInt16Array(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Int16Array', value));\n    }\n}\nexport function assertInt32Array(value, message) {\n    if (!isInt32Array(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Int32Array', value));\n    }\n}\nexport function assertInt8Array(value, message) {\n    if (!isInt8Array(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Int8Array', value));\n    }\n}\nexport function assertInteger(value, message) {\n    if (!isInteger(value)) {\n        throw new TypeError(message ?? typeErrorMessage('integer', value));\n    }\n}\nexport function assertIterable(value, message) {\n    if (!isIterable(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Iterable', value));\n    }\n}\nexport function assertMap(value, message) {\n    if (!isMap(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Map', value));\n    }\n}\nexport function assertNan(value, message) {\n    if (!isNan(value)) {\n        throw new TypeError(message ?? typeErrorMessage('NaN', value));\n    }\n}\nexport function assertNativePromise(value, message) {\n    if (!isNativePromise(value)) {\n        throw new TypeError(message ?? typeErrorMessage('native Promise', value));\n    }\n}\nexport function assertNegativeNumber(value, message) {\n    if (!isNegativeNumber(value)) {\n        throw new TypeError(message ?? typeErrorMessage('negative number', value));\n    }\n}\nexport function assertNodeStream(value, message) {\n    if (!isNodeStream(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Node.js Stream', value));\n    }\n}\nexport function assertNonEmptyArray(value, message) {\n    if (!isNonEmptyArray(value)) {\n        throw new TypeError(message ?? typeErrorMessage('non-empty array', value));\n    }\n}\nexport function assertNonEmptyMap(value, message) {\n    if (!isNonEmptyMap(value)) {\n        throw new TypeError(message ?? typeErrorMessage('non-empty map', value));\n    }\n}\nexport function assertNonEmptyObject(value, message) {\n    if (!isNonEmptyObject(value)) {\n        throw new TypeError(message ?? typeErrorMessage('non-empty object', value));\n    }\n}\nexport function assertNonEmptySet(value, message) {\n    if (!isNonEmptySet(value)) {\n        throw new TypeError(message ?? typeErrorMessage('non-empty set', value));\n    }\n}\nexport function assertNonEmptyString(value, message) {\n    if (!isNonEmptyString(value)) {\n        throw new TypeError(message ?? typeErrorMessage('non-empty string', value));\n    }\n}\nexport function assertNonEmptyStringAndNotWhitespace(value, message) {\n    if (!isNonEmptyStringAndNotWhitespace(value)) {\n        throw new TypeError(message ?? typeErrorMessage('non-empty string and not whitespace', value));\n    }\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function assertNull(value, message) {\n    if (!isNull(value)) {\n        throw new TypeError(message ?? typeErrorMessage('null', value));\n    }\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function assertNullOrUndefined(value, message) {\n    if (!isNullOrUndefined(value)) {\n        throw new TypeError(message ?? typeErrorMessage('null or undefined', value));\n    }\n}\nexport function assertNumber(value, message) {\n    if (!isNumber(value)) {\n        throw new TypeError(message ?? typeErrorMessage('number', value));\n    }\n}\nexport function assertNumericString(value, message) {\n    if (!isNumericString(value)) {\n        throw new TypeError(message ?? typeErrorMessage('string with a number', value));\n    }\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function assertObject(value, message) {\n    if (!isObject(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Object', value));\n    }\n}\nexport function assertObservable(value, message) {\n    if (!isObservable(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Observable', value));\n    }\n}\nexport function assertOddInteger(value, message) {\n    if (!isOddInteger(value)) {\n        throw new TypeError(message ?? typeErrorMessage('odd integer', value));\n    }\n}\nexport function assertPlainObject(value, message) {\n    if (!isPlainObject(value)) {\n        throw new TypeError(message ?? typeErrorMessage('plain object', value));\n    }\n}\nexport function assertPositiveNumber(value, message) {\n    if (!isPositiveNumber(value)) {\n        throw new TypeError(message ?? typeErrorMessage('positive number', value));\n    }\n}\nexport function assertPrimitive(value, message) {\n    if (!isPrimitive(value)) {\n        throw new TypeError(message ?? typeErrorMessage('primitive', value));\n    }\n}\nexport function assertPromise(value, message) {\n    if (!isPromise(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Promise', value));\n    }\n}\nexport function assertPropertyKey(value, message) {\n    if (!isPropertyKey(value)) {\n        throw new TypeError(message ?? typeErrorMessage('PropertyKey', value));\n    }\n}\nexport function assertRegExp(value, message) {\n    if (!isRegExp(value)) {\n        throw new TypeError(message ?? typeErrorMessage('RegExp', value));\n    }\n}\nexport function assertSafeInteger(value, message) {\n    if (!isSafeInteger(value)) {\n        throw new TypeError(message ?? typeErrorMessage('integer', value));\n    }\n}\nexport function assertSet(value, message) {\n    if (!isSet(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Set', value));\n    }\n}\nexport function assertSharedArrayBuffer(value, message) {\n    if (!isSharedArrayBuffer(value)) {\n        throw new TypeError(message ?? typeErrorMessage('SharedArrayBuffer', value));\n    }\n}\nexport function assertString(value, message) {\n    if (!isString(value)) {\n        throw new TypeError(message ?? typeErrorMessage('string', value));\n    }\n}\nexport function assertSymbol(value, message) {\n    if (!isSymbol(value)) {\n        throw new TypeError(message ?? typeErrorMessage('symbol', value));\n    }\n}\nexport function assertTruthy(value, message) {\n    if (!isTruthy(value)) {\n        throw new TypeError(message ?? typeErrorMessage('truthy', value));\n    }\n}\nexport function assertTupleLike(value, guards, message) {\n    if (!isTupleLike(value, guards)) {\n        throw new TypeError(message ?? typeErrorMessage('tuple-like', value));\n    }\n}\nexport function assertTypedArray(value, message) {\n    if (!isTypedArray(value)) {\n        throw new TypeError(message ?? typeErrorMessage('TypedArray', value));\n    }\n}\nexport function assertUint16Array(value, message) {\n    if (!isUint16Array(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Uint16Array', value));\n    }\n}\nexport function assertUint32Array(value, message) {\n    if (!isUint32Array(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Uint32Array', value));\n    }\n}\nexport function assertUint8Array(value, message) {\n    if (!isUint8Array(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Uint8Array', value));\n    }\n}\nexport function assertUint8ClampedArray(value, message) {\n    if (!isUint8ClampedArray(value)) {\n        throw new TypeError(message ?? typeErrorMessage('Uint8ClampedArray', value));\n    }\n}\nexport function assertUndefined(value, message) {\n    if (!isUndefined(value)) {\n        throw new TypeError(message ?? typeErrorMessage('undefined', value));\n    }\n}\nexport function assertUrlInstance(value, message) {\n    if (!isUrlInstance(value)) {\n        throw new TypeError(message ?? typeErrorMessage('URL', value));\n    }\n}\n// eslint-disable-next-line unicorn/prevent-abbreviations\nexport function assertUrlSearchParams(value, message) {\n    if (!isUrlSearchParams(value)) {\n        throw new TypeError(message ?? typeErrorMessage('URLSearchParams', value));\n    }\n}\nexport function assertUrlString(value, message) {\n    if (!isUrlString(value)) {\n        throw new TypeError(message ?? typeErrorMessage('string with a URL', value));\n    }\n}\nexport function assertValidDate(value, message) {\n    if (!isValidDate(value)) {\n        throw new TypeError(message ?? typeErrorMessage('valid Date', value));\n    }\n}\nexport function assertValidLength(value, message) {\n    if (!isValidLength(value)) {\n        throw new TypeError(message ?? typeErrorMessage('valid length', value));\n    }\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function assertWeakMap(value, message) {\n    if (!isWeakMap(value)) {\n        throw new TypeError(message ?? typeErrorMessage('WeakMap', value));\n    }\n}\n// eslint-disable-next-line @typescript-eslint/ban-types, unicorn/prevent-abbreviations\nexport function assertWeakRef(value, message) {\n    if (!isWeakRef(value)) {\n        throw new TypeError(message ?? typeErrorMessage('WeakRef', value));\n    }\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function assertWeakSet(value, message) {\n    if (!isWeakSet(value)) {\n        throw new TypeError(message ?? typeErrorMessage('WeakSet', value));\n    }\n}\nexport function assertWhitespaceString(value, message) {\n    if (!isWhitespaceString(value)) {\n        throw new TypeError(message ?? typeErrorMessage('whitespace string', value));\n    }\n}\nexport default is;\n", "import { EventEmitter } from 'node:events';\nimport is from '@sindresorhus/is';\nimport PCancelable from 'p-cancelable';\nimport { HTTPError, RetryError, } from '../core/errors.js';\nimport Request from '../core/index.js';\nimport { parseBody, isResponseOk, ParseError, } from '../core/response.js';\nimport proxyEvents from '../core/utils/proxy-events.js';\nimport { CancelError } from './types.js';\nconst proxiedRequestEvents = [\n    'request',\n    'response',\n    'redirect',\n    'uploadProgress',\n    'downloadProgress',\n];\nexport default function asPromise(firstRequest) {\n    let globalRequest;\n    let globalResponse;\n    let normalizedOptions;\n    const emitter = new EventEmitter();\n    let promiseSettled = false;\n    const promise = new PCancelable((resolve, reject, onCancel) => {\n        onCancel(() => {\n            globalRequest.destroy();\n        });\n        onCancel.shouldReject = false;\n        onCancel(() => {\n            promiseSettled = true;\n            reject(new CancelError(globalRequest));\n        });\n        const makeRequest = (retryCount) => {\n            // Errors when a new request is made after the promise settles.\n            // Used to detect a race condition.\n            // See https://github.com/sindresorhus/got/issues/1489\n            onCancel(() => { });\n            const request = firstRequest ?? new Request(undefined, undefined, normalizedOptions);\n            request.retryCount = retryCount;\n            request._noPipe = true;\n            globalRequest = request;\n            request.once('response', async (response) => {\n                // Parse body\n                const contentEncoding = (response.headers['content-encoding'] ?? '').toLowerCase();\n                const isCompressed = contentEncoding === 'gzip' || contentEncoding === 'deflate' || contentEncoding === 'br' || contentEncoding === 'zstd';\n                const { options } = request;\n                if (isCompressed && !options.decompress) {\n                    response.body = response.rawBody;\n                }\n                else {\n                    try {\n                        response.body = parseBody(response, options.responseType, options.parseJson, options.encoding);\n                    }\n                    catch (error) {\n                        // Fall back to `utf8`\n                        try {\n                            response.body = response.rawBody.toString();\n                        }\n                        catch (error) {\n                            request._beforeError(new ParseError(error, response));\n                            return;\n                        }\n                        if (isResponseOk(response)) {\n                            request._beforeError(error);\n                            return;\n                        }\n                    }\n                }\n                try {\n                    const hooks = options.hooks.afterResponse;\n                    for (const [index, hook] of hooks.entries()) {\n                        // @ts-expect-error TS doesn't notice that CancelableRequest is a Promise\n                        // eslint-disable-next-line no-await-in-loop\n                        response = await hook(response, async (updatedOptions) => {\n                            const preserveHooks = updatedOptions.preserveHooks ?? false;\n                            options.merge(updatedOptions);\n                            options.prefixUrl = '';\n                            if (updatedOptions.url) {\n                                options.url = updatedOptions.url;\n                            }\n                            // Remove any further hooks for that request, because we'll call them anyway.\n                            // The loop continues. We don't want duplicates (asPromise recursion).\n                            // Unless preserveHooks is true, in which case we keep the remaining hooks.\n                            if (!preserveHooks) {\n                                options.hooks.afterResponse = options.hooks.afterResponse.slice(0, index);\n                            }\n                            throw new RetryError(request);\n                        });\n                        if (!(is.object(response) && is.number(response.statusCode) && 'body' in response)) {\n                            throw new TypeError('The `afterResponse` hook returned an invalid value');\n                        }\n                    }\n                }\n                catch (error) {\n                    request._beforeError(error);\n                    return;\n                }\n                globalResponse = response;\n                if (!isResponseOk(response)) {\n                    request._beforeError(new HTTPError(response));\n                    return;\n                }\n                request.destroy();\n                promiseSettled = true;\n                resolve(request.options.resolveBodyOnly ? response.body : response);\n            });\n            let handledFinalError = false;\n            const onError = (error) => {\n                if (promise.isCanceled) {\n                    return;\n                }\n                // Route errors emitted directly on the stream (e.g., EPIPE from Node.js)\n                // through retry logic first, then handle them here after retries are exhausted.\n                // See https://github.com/sindresorhus/got/issues/1995\n                if (!request._stopReading) {\n                    request._beforeError(error);\n                    return;\n                }\n                // Allow the manual re-emission from Request to land only once.\n                if (handledFinalError) {\n                    return;\n                }\n                handledFinalError = true;\n                promiseSettled = true;\n                const { options } = request;\n                if (error instanceof HTTPError && !options.throwHttpErrors) {\n                    const { response } = error;\n                    request.destroy();\n                    resolve(request.options.resolveBodyOnly ? response.body : response);\n                    return;\n                }\n                reject(error);\n            };\n            // Use .on() instead of .once() to keep the listener active across retries.\n            // When _stopReading is false, we return early and the error gets re-emitted\n            // after retry logic completes, so we need this listener to remain active.\n            // See https://github.com/sindresorhus/got/issues/1995\n            request.on('error', onError);\n            const previousBody = request.options?.body;\n            request.once('retry', (newRetryCount, error) => {\n                firstRequest = undefined;\n                // If promise already settled, don't retry\n                // This prevents the race condition in #1489 where a late error\n                // (e.g., ECONNRESET after successful response) triggers retry\n                // after the promise has already resolved/rejected\n                if (promiseSettled) {\n                    return;\n                }\n                const newBody = request.options.body;\n                if (previousBody === newBody && is.nodeStream(newBody)) {\n                    error.message = 'Cannot retry with consumed body stream';\n                    onError(error);\n                    return;\n                }\n                // This is needed! We need to reuse `request.options` because they can get modified!\n                // For example, by calling `promise.json()`.\n                normalizedOptions = request.options;\n                makeRequest(newRetryCount);\n            });\n            proxyEvents(request, emitter, proxiedRequestEvents);\n            if (is.undefined(firstRequest)) {\n                void request.flush();\n            }\n        };\n        makeRequest(0);\n    });\n    promise.on = (event, function_) => {\n        emitter.on(event, function_);\n        return promise;\n    };\n    promise.off = (event, function_) => {\n        emitter.off(event, function_);\n        return promise;\n    };\n    const shortcut = (promiseToAwait, responseType) => {\n        const newPromise = (async () => {\n            // Wait until downloading has ended\n            await promiseToAwait;\n            const { options } = globalResponse.request;\n            return parseBody(globalResponse, responseType, options.parseJson, options.encoding);\n        })();\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        Object.defineProperties(newPromise, Object.getOwnPropertyDescriptors(promiseToAwait));\n        return newPromise;\n    };\n    // Note: These use `function` syntax (not arrows) to access `this` context.\n    // When custom handlers wrap the promise to transform errors, these methods\n    // are copied to the handler's promise. Using `this` ensures we await the\n    // handler's wrapped promise, not the original, so errors propagate correctly.\n    promise.json = function () {\n        if (globalRequest.options) {\n            const { headers } = globalRequest.options;\n            if (!globalRequest.writableFinished && !('accept' in headers)) {\n                headers.accept = 'application/json';\n            }\n        }\n        return shortcut(this, 'json');\n    };\n    promise.buffer = function () {\n        return shortcut(this, 'buffer');\n    };\n    promise.text = function () {\n        return shortcut(this, 'text');\n    };\n    return promise;\n}\n", "export class CancelError extends Error {\n\tconstructor(reason) {\n\t\tsuper(reason || 'Promise was canceled');\n\t\tthis.name = 'CancelError';\n\t}\n\n\tget isCanceled() {\n\t\treturn true;\n\t}\n}\n\nconst promiseState = Object.freeze({\n\tpending: Symbol('pending'),\n\tcanceled: Symbol('canceled'),\n\tresolved: Symbol('resolved'),\n\trejected: Symbol('rejected'),\n});\n\nexport default class PCancelable {\n\tstatic fn(userFunction) {\n\t\treturn (...arguments_) => new PCancelable((resolve, reject, onCancel) => {\n\t\t\targuments_.push(onCancel);\n\t\t\tuserFunction(...arguments_).then(resolve, reject);\n\t\t});\n\t}\n\n\t#cancelHandlers = [];\n\t#rejectOnCancel = true;\n\t#state = promiseState.pending;\n\t#promise;\n\t#reject;\n\n\tconstructor(executor) {\n\t\tthis.#promise = new Promise((resolve, reject) => {\n\t\t\tthis.#reject = reject;\n\n\t\t\tconst onResolve = value => {\n\t\t\t\tif (this.#state !== promiseState.canceled || !onCancel.shouldReject) {\n\t\t\t\t\tresolve(value);\n\t\t\t\t\tthis.#setState(promiseState.resolved);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst onReject = error => {\n\t\t\t\tif (this.#state !== promiseState.canceled || !onCancel.shouldReject) {\n\t\t\t\t\treject(error);\n\t\t\t\t\tthis.#setState(promiseState.rejected);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst onCancel = handler => {\n\t\t\t\tif (this.#state !== promiseState.pending) {\n\t\t\t\t\tthrow new Error(`The \\`onCancel\\` handler was attached after the promise ${this.#state.description}.`);\n\t\t\t\t}\n\n\t\t\t\tthis.#cancelHandlers.push(handler);\n\t\t\t};\n\n\t\t\tObject.defineProperties(onCancel, {\n\t\t\t\tshouldReject: {\n\t\t\t\t\tget: () => this.#rejectOnCancel,\n\t\t\t\t\tset: boolean => {\n\t\t\t\t\t\tthis.#rejectOnCancel = boolean;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\n\t\t\texecutor(onResolve, onReject, onCancel);\n\t\t});\n\t}\n\n\t// eslint-disable-next-line unicorn/no-thenable\n\tthen(onFulfilled, onRejected) {\n\t\treturn this.#promise.then(onFulfilled, onRejected);\n\t}\n\n\tcatch(onRejected) {\n\t\treturn this.#promise.catch(onRejected);\n\t}\n\n\tfinally(onFinally) {\n\t\treturn this.#promise.finally(onFinally);\n\t}\n\n\tcancel(reason) {\n\t\tif (this.#state !== promiseState.pending) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#setState(promiseState.canceled);\n\n\t\tif (this.#cancelHandlers.length > 0) {\n\t\t\ttry {\n\t\t\t\tfor (const handler of this.#cancelHandlers) {\n\t\t\t\t\thandler();\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis.#reject(error);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (this.#rejectOnCancel) {\n\t\t\tthis.#reject(new CancelError(reason));\n\t\t}\n\t}\n\n\tget isCanceled() {\n\t\treturn this.#state === promiseState.canceled;\n\t}\n\n\t#setState(state) {\n\t\tif (this.#state === promiseState.pending) {\n\t\t\tthis.#state = state;\n\t\t}\n\t}\n}\n\nObject.setPrototypeOf(PCancelable.prototype, Promise.prototype);\n", "import is from '@sindresorhus/is';\n// A hacky check to prevent circular references.\nfunction isRequest(x) {\n    return is.object(x) && '_onResponse' in x;\n}\n/**\nAn error to be thrown when a request fails.\nContains a `code` property with error class code, like `ECONNREFUSED`.\n*/\nexport class RequestError extends Error {\n    name = 'RequestError';\n    code = 'ERR_GOT_REQUEST_ERROR';\n    input;\n    stack;\n    response;\n    request;\n    timings;\n    constructor(message, error, self) {\n        super(message, { cause: error });\n        Error.captureStackTrace(this, this.constructor);\n        if (error.code) {\n            this.code = error.code;\n        }\n        this.input = error.input;\n        if (isRequest(self)) {\n            Object.defineProperty(this, 'request', {\n                enumerable: false,\n                value: self,\n            });\n            Object.defineProperty(this, 'response', {\n                enumerable: false,\n                value: self.response,\n            });\n            this.options = self.options;\n        }\n        else {\n            this.options = self;\n        }\n        this.timings = this.request?.timings;\n        // Recover the original stacktrace\n        if (is.string(error.stack) && is.string(this.stack)) {\n            const indexOfMessage = this.stack.indexOf(this.message) + this.message.length;\n            const thisStackTrace = this.stack.slice(indexOfMessage).split('\\n').reverse();\n            const errorStackTrace = error.stack.slice(error.stack.indexOf(error.message) + error.message.length).split('\\n').reverse();\n            // Remove duplicated traces\n            while (errorStackTrace.length > 0 && errorStackTrace[0] === thisStackTrace[0]) {\n                thisStackTrace.shift();\n            }\n            this.stack = `${this.stack.slice(0, indexOfMessage)}${thisStackTrace.reverse().join('\\n')}${errorStackTrace.reverse().join('\\n')}`;\n        }\n    }\n}\n/**\nAn error to be thrown when the server redirects you more than ten times.\nIncludes a `response` property.\n*/\nexport class MaxRedirectsError extends RequestError {\n    name = 'MaxRedirectsError';\n    code = 'ERR_TOO_MANY_REDIRECTS';\n    constructor(request) {\n        super(`Redirected ${request.options.maxRedirects} times. Aborting.`, {}, request);\n    }\n}\n/**\nAn error to be thrown when the server response code is not 2xx nor 3xx if `options.followRedirect` is `true`, but always except for 304.\nIncludes a `response` property.\n*/\n// TODO: Change `HTTPError<T = any>` to `HTTPError<T = unknown>` in the next major version to enforce type usage.\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport class HTTPError extends RequestError {\n    name = 'HTTPError';\n    code = 'ERR_NON_2XX_3XX_RESPONSE';\n    constructor(response) {\n        super(`Request failed with status code ${response.statusCode} (${response.statusMessage}): ${response.request.options.method} ${response.request.options.url.toString()}`, {}, response.request);\n    }\n}\n/**\nAn error to be thrown when a cache method fails.\nFor example, if the database goes down or there's a filesystem error.\n*/\nexport class CacheError extends RequestError {\n    name = 'CacheError';\n    constructor(error, request) {\n        super(error.message, error, request);\n        if (this.code === 'ERR_GOT_REQUEST_ERROR') {\n            this.code = 'ERR_CACHE_ACCESS';\n        }\n    }\n}\n/**\nAn error to be thrown when the request body is a stream and an error occurs while reading from that stream.\n*/\nexport class UploadError extends RequestError {\n    name = 'UploadError';\n    constructor(error, request) {\n        super(error.message, error, request);\n        if (this.code === 'ERR_GOT_REQUEST_ERROR') {\n            this.code = 'ERR_UPLOAD';\n        }\n    }\n}\n/**\nAn error to be thrown when the request is aborted due to a timeout.\nIncludes an `event` and `timings` property.\n*/\nexport class TimeoutError extends RequestError {\n    name = 'TimeoutError';\n    timings;\n    event;\n    constructor(error, timings, request) {\n        super(error.message, error, request);\n        this.event = error.event;\n        this.timings = timings;\n    }\n}\n/**\nAn error to be thrown when reading from response stream fails.\n*/\nexport class ReadError extends RequestError {\n    name = 'ReadError';\n    constructor(error, request) {\n        super(error.message, error, request);\n        if (this.code === 'ERR_GOT_REQUEST_ERROR') {\n            this.code = 'ERR_READING_RESPONSE_STREAM';\n        }\n    }\n}\n/**\nAn error which always triggers a new retry when thrown.\n*/\nexport class RetryError extends RequestError {\n    name = 'RetryError';\n    code = 'ERR_RETRYING';\n    constructor(request) {\n        super('Retrying', {}, request);\n    }\n}\n/**\nAn error to be thrown when the request is aborted by AbortController.\n*/\nexport class AbortError extends RequestError {\n    name = 'AbortError';\n    code = 'ERR_ABORTED';\n    constructor(request) {\n        super('This operation was aborted.', {}, request);\n    }\n}\n", "import process from 'node:process';\nimport { Buffer } from 'node:buffer';\nimport { Duplex } from 'node:stream';\nimport http, { ServerResponse } from 'node:http';\nimport { byteLength } from 'byte-counter';\nimport CacheableRequest, { CacheError as CacheableCacheError, } from 'cacheable-request';\nimport decompressResponse from 'decompress-response';\nimport is, { isBuffer } from '@sindresorhus/is';\nimport { FormDataEncoder, isFormData as isFormDataLike } from 'form-data-encoder';\nimport timer from './utils/timer.js';\nimport getBodySize from './utils/get-body-size.js';\nimport isFormData from './utils/is-form-data.js';\nimport proxyEvents from './utils/proxy-events.js';\nimport timedOut, { TimeoutError as TimedOutTimeoutError } from './timed-out.js';\nimport urlToOptions from './utils/url-to-options.js';\nimport WeakableMap from './utils/weakable-map.js';\nimport calculateRetryDelay from './calculate-retry-delay.js';\nimport Options from './options.js';\nimport { isResponseOk } from './response.js';\nimport isClientRequest from './utils/is-client-request.js';\nimport isUnixSocketURL, { getUnixSocketPath } from './utils/is-unix-socket-url.js';\nimport { RequestError, ReadError, MaxRedirectsError, HTTPError, TimeoutError, UploadError, CacheError, AbortError, } from './errors.js';\nimport { generateRequestId, publishRequestCreate, publishRequestStart, publishResponseStart, publishResponseEnd, publishRetry, publishError, publishRedirect, } from './diagnostics-channel.js';\nconst supportsBrotli = is.string(process.versions.brotli);\nconst supportsZstd = is.string(process.versions.zstd);\nconst methodsWithoutBody = new Set(['GET', 'HEAD']);\n// Methods that should auto-end streams when no body is provided\nconst methodsWithoutBodyStream = new Set(['OPTIONS', 'DELETE', 'PATCH']);\nconst cacheableStore = new WeakableMap();\nconst redirectCodes = new Set([300, 301, 302, 303, 304, 307, 308]);\n// Track errors that have been processed by beforeError hooks to preserve custom error types\nconst errorsProcessedByHooks = new WeakSet();\nconst proxiedRequestEvents = [\n    'socket',\n    'connect',\n    'continue',\n    'information',\n    'upgrade',\n];\nconst noop = () => { };\nexport default class Request extends Duplex {\n    // @ts-expect-error - Ignoring for now.\n    ['constructor'];\n    _noPipe;\n    // @ts-expect-error https://github.com/microsoft/TypeScript/issues/9568\n    options;\n    response;\n    requestUrl;\n    redirectUrls = [];\n    retryCount = 0;\n    _stopReading = false;\n    _stopRetry = noop;\n    _downloadedSize = 0;\n    _uploadedSize = 0;\n    _pipedServerResponses = new Set();\n    _request;\n    _responseSize;\n    _bodySize;\n    _unproxyEvents = noop;\n    _isFromCache;\n    _triggerRead = false;\n    _jobs = [];\n    _cancelTimeouts = noop;\n    _removeListeners = noop;\n    _nativeResponse;\n    _flushed = false;\n    _aborted = false;\n    _expectedContentLength;\n    _compressedBytesCount;\n    _requestId = generateRequestId();\n    // We need this because `this._request` if `undefined` when using cache\n    _requestInitialized = false;\n    constructor(url, options, defaults) {\n        super({\n            // Don't destroy immediately, as the error may be emitted on unsuccessful retry\n            autoDestroy: false,\n            // It needs to be zero because we're just proxying the data to another stream\n            highWaterMark: 0,\n        });\n        this.on('pipe', (source) => {\n            if (this.options.copyPipedHeaders && source?.headers) {\n                Object.assign(this.options.headers, source.headers);\n            }\n        });\n        this.on('newListener', event => {\n            if (event === 'retry' && this.listenerCount('retry') > 0) {\n                throw new Error('A retry listener has been attached already.');\n            }\n        });\n        try {\n            this.options = new Options(url, options, defaults);\n            if (!this.options.url) {\n                if (this.options.prefixUrl === '') {\n                    throw new TypeError('Missing `url` property');\n                }\n                this.options.url = '';\n            }\n            this.requestUrl = this.options.url;\n            // Publish request creation event\n            publishRequestCreate({\n                requestId: this._requestId,\n                url: this.options.url?.toString() ?? '',\n                method: this.options.method,\n            });\n        }\n        catch (error) {\n            const { options } = error;\n            if (options) {\n                this.options = options;\n            }\n            this.flush = async () => {\n                this.flush = async () => { };\n                // Defer error emission to next tick to allow user to attach error handlers\n                process.nextTick(() => {\n                    // _beforeError requires options to access retry logic and hooks\n                    if (this.options) {\n                        this._beforeError(error);\n                    }\n                    else {\n                        // Options is undefined, skip _beforeError and destroy directly\n                        const requestError = error instanceof RequestError ? error : new RequestError(error.message, error, this);\n                        this.destroy(requestError);\n                    }\n                });\n            };\n            return;\n        }\n        // Important! If you replace `body` in a handler with another stream, make sure it's readable first.\n        // The below is run only once.\n        const { body } = this.options;\n        if (is.nodeStream(body)) {\n            body.once('error', error => {\n                if (this._flushed) {\n                    this._beforeError(new UploadError(error, this));\n                }\n                else {\n                    this.flush = async () => {\n                        this.flush = async () => { };\n                        this._beforeError(new UploadError(error, this));\n                    };\n                }\n            });\n        }\n        if (this.options.signal) {\n            const abort = () => {\n                // See https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal/timeout_static#return_value\n                if (this.options.signal?.reason?.name === 'TimeoutError') {\n                    this.destroy(new TimeoutError(this.options.signal.reason, this.timings, this));\n                }\n                else {\n                    this.destroy(new AbortError(this));\n                }\n            };\n            if (this.options.signal.aborted) {\n                abort();\n            }\n            else {\n                this.options.signal.addEventListener('abort', abort);\n                this._removeListeners = () => {\n                    this.options.signal?.removeEventListener('abort', abort);\n                };\n            }\n        }\n    }\n    async flush() {\n        if (this._flushed) {\n            return;\n        }\n        this._flushed = true;\n        try {\n            await this._finalizeBody();\n            if (this.destroyed) {\n                return;\n            }\n            await this._makeRequest();\n            if (this.destroyed) {\n                this._request?.destroy();\n                return;\n            }\n            // Queued writes etc.\n            for (const job of this._jobs) {\n                job();\n            }\n            // Prevent memory leak\n            this._jobs.length = 0;\n            this._requestInitialized = true;\n        }\n        catch (error) {\n            this._beforeError(error);\n        }\n    }\n    _beforeError(error) {\n        if (this._stopReading) {\n            return;\n        }\n        const { response, options } = this;\n        const attemptCount = this.retryCount + (error.name === 'RetryError' ? 0 : 1);\n        this._stopReading = true;\n        if (!(error instanceof RequestError)) {\n            error = new RequestError(error.message, error, this);\n        }\n        const typedError = error;\n        void (async () => {\n            // Node.js parser is really weird.\n            // It emits post-request Parse Errors on the same instance as previous request. WTF.\n            // Therefore, we need to check if it has been destroyed as well.\n            //\n            // Furthermore, Node.js 16 `response.destroy()` doesn't immediately destroy the socket,\n            // but makes the response unreadable. So we additionally need to check `response.readable`.\n            if (response?.readable && !response.rawBody && !this._request?.socket?.destroyed) {\n                // @types/node has incorrect typings. `setEncoding` accepts `null` as well.\n                response.setEncoding(this.readableEncoding);\n                const success = await this._setRawBody(response);\n                if (success) {\n                    response.body = response.rawBody.toString();\n                }\n            }\n            if (this.listenerCount('retry') !== 0) {\n                let backoff;\n                try {\n                    let retryAfter;\n                    if (response && 'retry-after' in response.headers) {\n                        retryAfter = Number(response.headers['retry-after']);\n                        if (Number.isNaN(retryAfter)) {\n                            retryAfter = Date.parse(response.headers['retry-after']) - Date.now();\n                            if (retryAfter <= 0) {\n                                retryAfter = 1;\n                            }\n                        }\n                        else {\n                            retryAfter *= 1000;\n                        }\n                    }\n                    const retryOptions = options.retry;\n                    const computedValue = calculateRetryDelay({\n                        attemptCount,\n                        retryOptions,\n                        error: typedError,\n                        retryAfter,\n                        computedValue: retryOptions.maxRetryAfter ?? options.timeout.request ?? Number.POSITIVE_INFINITY,\n                    });\n                    // When enforceRetryRules is true, respect the retry rules (limit, methods, statusCodes, errorCodes)\n                    // before calling the user's calculateDelay function. If computedValue is 0 (meaning retry is not allowed\n                    // based on these rules), skip calling calculateDelay entirely.\n                    // When false (default), always call calculateDelay, allowing it to override retry decisions.\n                    if (retryOptions.enforceRetryRules && computedValue === 0) {\n                        backoff = 0;\n                    }\n                    else {\n                        backoff = await retryOptions.calculateDelay({\n                            attemptCount,\n                            retryOptions,\n                            error: typedError,\n                            retryAfter,\n                            computedValue,\n                        });\n                    }\n                }\n                catch (error_) {\n                    void this._error(new RequestError(error_.message, error_, this));\n                    return;\n                }\n                if (backoff) {\n                    await new Promise(resolve => {\n                        const timeout = setTimeout(resolve, backoff);\n                        this._stopRetry = () => {\n                            clearTimeout(timeout);\n                            resolve();\n                        };\n                    });\n                    // Something forced us to abort the retry\n                    if (this.destroyed) {\n                        return;\n                    }\n                    // Capture body BEFORE hooks run to detect reassignment\n                    const bodyBeforeHooks = this.options.body;\n                    try {\n                        for (const hook of this.options.hooks.beforeRetry) {\n                            // eslint-disable-next-line no-await-in-loop\n                            await hook(typedError, this.retryCount + 1);\n                        }\n                    }\n                    catch (error_) {\n                        void this._error(new RequestError(error_.message, error_, this));\n                        return;\n                    }\n                    // Something forced us to abort the retry\n                    if (this.destroyed) {\n                        return;\n                    }\n                    // Preserve stream body reassigned in beforeRetry hooks.\n                    const bodyAfterHooks = this.options.body;\n                    const bodyWasReassigned = bodyBeforeHooks !== bodyAfterHooks;\n                    // Resource cleanup and preservation logic for retry with body reassignment.\n                    // The Promise wrapper (as-promise/index.ts) compares body identity to detect consumed streams,\n                    // so we must preserve the body reference across destroy(). However, destroy() calls _destroy()\n                    // which destroys this.options.body, creating a complex dance of clear/restore operations.\n                    //\n                    // Key constraints:\n                    // 1. If body was reassigned, we must NOT destroy the NEW stream (it will be used for retry)\n                    // 2. If body was reassigned, we MUST destroy the OLD stream to prevent memory leaks\n                    // 3. We must restore the body reference after destroy() for identity checks in promise wrapper\n                    // 4. We cannot use the normal setter after destroy() because it validates stream readability\n                    if (bodyWasReassigned) {\n                        const oldBody = bodyBeforeHooks;\n                        // Temporarily clear body to prevent destroy() from destroying the new stream\n                        this.options.body = undefined;\n                        this.destroy();\n                        // Clean up the old stream resource if it's a stream and different from new body\n                        // (edge case: if old and new are same stream object, don't destroy it)\n                        if (is.nodeStream(oldBody) && oldBody !== bodyAfterHooks) {\n                            oldBody.destroy();\n                        }\n                        // Restore new body for promise wrapper's identity check\n                        // We bypass the setter because it validates stream.readable (which fails for destroyed request)\n                        // Type assertion is necessary here to access private _internals without exposing internal API\n                        if (is.nodeStream(bodyAfterHooks) && (bodyAfterHooks.readableEnded || bodyAfterHooks.destroyed)) {\n                            throw new TypeError('The reassigned stream body must be readable. Ensure you provide a fresh, readable stream in the beforeRetry hook.');\n                        }\n                        this.options._internals.body = bodyAfterHooks;\n                    }\n                    else {\n                        // Body wasn't reassigned - use normal destroy flow which handles body cleanup\n                        this.destroy();\n                        // Note: We do NOT restore the body reference here. The stream was destroyed by _destroy()\n                        // and should not be accessed. The promise wrapper will see that body identity hasn't changed\n                        // and will detect it's a consumed stream, which is the correct behavior.\n                    }\n                    // Publish retry event\n                    publishRetry({\n                        requestId: this._requestId,\n                        retryCount: this.retryCount + 1,\n                        error: typedError,\n                        delay: backoff,\n                    });\n                    this.emit('retry', this.retryCount + 1, error, (updatedOptions) => {\n                        const request = new Request(options.url, updatedOptions, options);\n                        request.retryCount = this.retryCount + 1;\n                        process.nextTick(() => {\n                            void request.flush();\n                        });\n                        return request;\n                    });\n                    return;\n                }\n            }\n            void this._error(typedError);\n        })();\n    }\n    _read() {\n        this._triggerRead = true;\n        const { response } = this;\n        if (response && !this._stopReading) {\n            // We cannot put this in the `if` above\n            // because `.read()` also triggers the `end` event\n            if (response.readableLength) {\n                this._triggerRead = false;\n            }\n            let data;\n            while ((data = response.read()) !== null) {\n                this._downloadedSize += data.length; // eslint-disable-line @typescript-eslint/restrict-plus-operands\n                const progress = this.downloadProgress;\n                if (progress.percent < 1) {\n                    this.emit('downloadProgress', progress);\n                }\n                this.push(data);\n            }\n        }\n    }\n    _write(chunk, encoding, callback) {\n        const write = () => {\n            this._writeRequest(chunk, encoding, callback);\n        };\n        if (this._requestInitialized) {\n            write();\n        }\n        else {\n            this._jobs.push(write);\n        }\n    }\n    _final(callback) {\n        const endRequest = () => {\n            // We need to check if `this._request` is present,\n            // because it isn't when we use cache.\n            if (!this._request || this._request.destroyed) {\n                callback();\n                return;\n            }\n            this._request.end((error) => {\n                // The request has been destroyed before `_final` finished.\n                // See https://github.com/nodejs/node/issues/39356\n                if (this._request?._writableState?.errored) {\n                    return;\n                }\n                if (!error) {\n                    this._bodySize = this._uploadedSize;\n                    this.emit('uploadProgress', this.uploadProgress);\n                    this._request?.emit('upload-complete');\n                }\n                callback(error);\n            });\n        };\n        if (this._requestInitialized) {\n            endRequest();\n        }\n        else {\n            this._jobs.push(endRequest);\n        }\n    }\n    _destroy(error, callback) {\n        this._stopReading = true;\n        this.flush = async () => { };\n        // Prevent further retries\n        this._stopRetry();\n        this._cancelTimeouts();\n        this._removeListeners();\n        if (this.options) {\n            const { body } = this.options;\n            if (is.nodeStream(body)) {\n                body.destroy();\n            }\n        }\n        if (this._request) {\n            this._request.destroy();\n        }\n        // Workaround: http-timer only sets timings.end when the response emits 'end'.\n        // When a stream is destroyed before completion, the 'end' event may not fire,\n        // leaving timings.end undefined. This should ideally be fixed in http-timer\n        // by listening to the 'close' event, but we handle it here for now.\n        // Only set timings.end if there was no error or abort (to maintain semantic correctness).\n        const timings = this._request?.timings;\n        if (timings && is.undefined(timings.end) && !is.undefined(timings.response) && is.undefined(timings.error) && is.undefined(timings.abort)) {\n            timings.end = Date.now();\n            if (is.undefined(timings.phases.total)) {\n                timings.phases.download = timings.end - timings.response;\n                timings.phases.total = timings.end - timings.start;\n            }\n        }\n        // Preserve custom errors returned by beforeError hooks.\n        // For other errors, wrap non-RequestError instances for consistency.\n        if (error !== null && !is.undefined(error)) {\n            const processedByHooks = error instanceof Error && errorsProcessedByHooks.has(error);\n            if (!processedByHooks && !(error instanceof RequestError)) {\n                error = error instanceof Error\n                    ? new RequestError(error.message, error, this)\n                    : new RequestError(String(error), {}, this);\n            }\n        }\n        callback(error);\n    }\n    pipe(destination, options) {\n        if (destination instanceof ServerResponse) {\n            this._pipedServerResponses.add(destination);\n        }\n        return super.pipe(destination, options);\n    }\n    unpipe(destination) {\n        if (destination instanceof ServerResponse) {\n            this._pipedServerResponses.delete(destination);\n        }\n        super.unpipe(destination);\n        return this;\n    }\n    _checkContentLengthMismatch() {\n        if (this.options.strictContentLength && this._expectedContentLength !== undefined) {\n            // Use compressed bytes count when available (for compressed responses),\n            // otherwise use _downloadedSize (for uncompressed responses)\n            const actualSize = this._compressedBytesCount ?? this._downloadedSize;\n            if (actualSize !== this._expectedContentLength) {\n                this._beforeError(new ReadError({\n                    message: `Content-Length mismatch: expected ${this._expectedContentLength} bytes, received ${actualSize} bytes`,\n                    name: 'Error',\n                    code: 'ERR_HTTP_CONTENT_LENGTH_MISMATCH',\n                }, this));\n                return true;\n            }\n        }\n        return false;\n    }\n    async _finalizeBody() {\n        const { options } = this;\n        const { headers } = options;\n        const isForm = !is.undefined(options.form);\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        const isJSON = !is.undefined(options.json);\n        const isBody = !is.undefined(options.body);\n        const cannotHaveBody = methodsWithoutBody.has(options.method) && !(options.method === 'GET' && options.allowGetBody);\n        if (isForm || isJSON || isBody) {\n            if (cannotHaveBody) {\n                throw new TypeError(`The \\`${options.method}\\` method cannot be used with a body`);\n            }\n            // Serialize body\n            const noContentType = !is.string(headers['content-type']);\n            if (isBody) {\n                // Body is spec-compliant FormData\n                if (isFormDataLike(options.body)) {\n                    const encoder = new FormDataEncoder(options.body);\n                    if (noContentType) {\n                        headers['content-type'] = encoder.headers['Content-Type'];\n                    }\n                    if ('Content-Length' in encoder.headers) {\n                        headers['content-length'] = encoder.headers['Content-Length'];\n                    }\n                    options.body = encoder.encode();\n                }\n                // Special case for https://github.com/form-data/form-data\n                if (isFormData(options.body) && noContentType) {\n                    headers['content-type'] = `multipart/form-data; boundary=${options.body.getBoundary()}`;\n                }\n            }\n            else if (isForm) {\n                if (noContentType) {\n                    headers['content-type'] = 'application/x-www-form-urlencoded';\n                }\n                const { form } = options;\n                options.form = undefined;\n                options.body = (new URLSearchParams(form)).toString();\n            }\n            else {\n                if (noContentType) {\n                    headers['content-type'] = 'application/json';\n                }\n                const { json } = options;\n                options.json = undefined;\n                options.body = options.stringifyJson(json);\n            }\n            const uploadBodySize = await getBodySize(options.body, options.headers);\n            // See https://tools.ietf.org/html/rfc7230#section-3.3.2\n            // A user agent SHOULD send a Content-Length in a request message when\n            // no Transfer-Encoding is sent and the request method defines a meaning\n            // for an enclosed payload body.  For example, a Content-Length header\n            // field is normally sent in a POST request even when the value is 0\n            // (indicating an empty payload body).  A user agent SHOULD NOT send a\n            // Content-Length header field when the request message does not contain\n            // a payload body and the method semantics do not anticipate such a\n            // body.\n            if (is.undefined(headers['content-length']) && is.undefined(headers['transfer-encoding']) && !cannotHaveBody && !is.undefined(uploadBodySize)) {\n                headers['content-length'] = String(uploadBodySize);\n            }\n        }\n        if (options.responseType === 'json' && !('accept' in options.headers)) {\n            options.headers.accept = 'application/json';\n        }\n        this._bodySize = Number(headers['content-length']) || undefined;\n    }\n    async _onResponseBase(response) {\n        // This will be called e.g. when using cache so we need to check if this request has been aborted.\n        if (this.isAborted) {\n            return;\n        }\n        const { options } = this;\n        const { url } = options;\n        this._nativeResponse = response;\n        const statusCode = response.statusCode;\n        const { method } = options;\n        // Skip decompression for responses that must not have bodies per RFC 9110:\n        // - HEAD responses (any status code)\n        // - 1xx (Informational): 100, 101, 102, 103, etc.\n        // - 204 (No Content)\n        // - 205 (Reset Content)\n        // - 304 (Not Modified)\n        const hasNoBody = method === 'HEAD'\n            || (statusCode >= 100 && statusCode < 200)\n            || statusCode === 204\n            || statusCode === 205\n            || statusCode === 304;\n        if (options.decompress && !hasNoBody) {\n            // When strictContentLength is enabled, track compressed bytes by listening to\n            // the native response's data events before decompression\n            if (options.strictContentLength) {\n                this._compressedBytesCount = 0;\n                this._nativeResponse.on('data', (chunk) => {\n                    this._compressedBytesCount += byteLength(chunk);\n                });\n            }\n            response = decompressResponse(response);\n        }\n        const typedResponse = response;\n        typedResponse.statusMessage = typedResponse.statusMessage || http.STATUS_CODES[statusCode]; // eslint-disable-line @typescript-eslint/prefer-nullish-coalescing -- The status message can be empty.\n        typedResponse.url = options.url.toString();\n        typedResponse.requestUrl = this.requestUrl;\n        typedResponse.redirectUrls = this.redirectUrls;\n        typedResponse.request = this;\n        typedResponse.isFromCache = this._nativeResponse.fromCache ?? false;\n        typedResponse.ip = this.ip;\n        typedResponse.retryCount = this.retryCount;\n        typedResponse.ok = isResponseOk(typedResponse);\n        this._isFromCache = typedResponse.isFromCache;\n        this._responseSize = Number(response.headers['content-length']) || undefined;\n        this.response = typedResponse;\n        // Publish response start event\n        publishResponseStart({\n            requestId: this._requestId,\n            url: typedResponse.url,\n            statusCode,\n            headers: response.headers,\n            isFromCache: typedResponse.isFromCache,\n        });\n        response.once('error', (error) => {\n            this._aborted = true;\n            // Force clean-up, because some packages don't do this.\n            // TODO: Fix decompress-response\n            response.destroy();\n            this._beforeError(new ReadError(error, this));\n        });\n        response.once('aborted', () => {\n            this._aborted = true;\n            // Check if there's a content-length mismatch to provide a more specific error\n            if (!this._checkContentLengthMismatch()) {\n                this._beforeError(new ReadError({\n                    name: 'Error',\n                    message: 'The server aborted pending request',\n                    code: 'ECONNRESET',\n                }, this));\n            }\n        });\n        const rawCookies = response.headers['set-cookie'];\n        if (is.object(options.cookieJar) && rawCookies) {\n            let promises = rawCookies.map(async (rawCookie) => options.cookieJar.setCookie(rawCookie, url.toString()));\n            if (options.ignoreInvalidCookies) {\n                // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                promises = promises.map(async (promise) => {\n                    try {\n                        await promise;\n                    }\n                    catch { }\n                });\n            }\n            try {\n                await Promise.all(promises);\n            }\n            catch (error) {\n                this._beforeError(error);\n                return;\n            }\n        }\n        // The above is running a promise, therefore we need to check if this request has been aborted yet again.\n        if (this.isAborted) {\n            return;\n        }\n        if (response.headers.location && redirectCodes.has(statusCode)) {\n            // We're being redirected, we don't care about the response.\n            // It'd be best to abort the request, but we can't because\n            // we would have to sacrifice the TCP connection. We don't want that.\n            const shouldFollow = typeof options.followRedirect === 'function' ? options.followRedirect(typedResponse) : options.followRedirect;\n            if (shouldFollow) {\n                response.resume();\n                this._cancelTimeouts();\n                this._unproxyEvents();\n                if (this.redirectUrls.length >= options.maxRedirects) {\n                    this._beforeError(new MaxRedirectsError(this));\n                    return;\n                }\n                this._request = undefined;\n                // Reset download progress for the new request\n                this._downloadedSize = 0;\n                const updatedOptions = new Options(undefined, undefined, this.options);\n                const serverRequestedGet = statusCode === 303 && updatedOptions.method !== 'GET' && updatedOptions.method !== 'HEAD';\n                const canRewrite = statusCode !== 307 && statusCode !== 308;\n                const userRequestedGet = updatedOptions.methodRewriting && canRewrite;\n                if (serverRequestedGet || userRequestedGet) {\n                    updatedOptions.method = 'GET';\n                    updatedOptions.body = undefined;\n                    updatedOptions.json = undefined;\n                    updatedOptions.form = undefined;\n                    delete updatedOptions.headers['content-length'];\n                }\n                try {\n                    // We need this in order to support UTF-8\n                    const redirectBuffer = Buffer.from(response.headers.location, 'binary').toString();\n                    const redirectUrl = new URL(redirectBuffer, url);\n                    if (!isUnixSocketURL(url) && isUnixSocketURL(redirectUrl)) {\n                        this._beforeError(new RequestError('Cannot redirect to UNIX socket', {}, this));\n                        return;\n                    }\n                    // Redirecting to a different site, clear sensitive data.\n                    // For UNIX sockets, different socket paths are also different origins.\n                    const isDifferentOrigin = redirectUrl.hostname !== url.hostname\n                        || redirectUrl.port !== url.port\n                        || getUnixSocketPath(url) !== getUnixSocketPath(redirectUrl);\n                    if (isDifferentOrigin) {\n                        if ('host' in updatedOptions.headers) {\n                            delete updatedOptions.headers.host;\n                        }\n                        if ('cookie' in updatedOptions.headers) {\n                            delete updatedOptions.headers.cookie;\n                        }\n                        if ('authorization' in updatedOptions.headers) {\n                            delete updatedOptions.headers.authorization;\n                        }\n                        if (updatedOptions.username || updatedOptions.password) {\n                            updatedOptions.username = '';\n                            updatedOptions.password = '';\n                        }\n                    }\n                    else {\n                        redirectUrl.username = updatedOptions.username;\n                        redirectUrl.password = updatedOptions.password;\n                    }\n                    this.redirectUrls.push(redirectUrl);\n                    updatedOptions.url = redirectUrl;\n                    for (const hook of updatedOptions.hooks.beforeRedirect) {\n                        // eslint-disable-next-line no-await-in-loop\n                        await hook(updatedOptions, typedResponse);\n                    }\n                    // Publish redirect event\n                    publishRedirect({\n                        requestId: this._requestId,\n                        fromUrl: url.toString(),\n                        toUrl: redirectUrl.toString(),\n                        statusCode,\n                    });\n                    this.emit('redirect', updatedOptions, typedResponse);\n                    this.options = updatedOptions;\n                    await this._makeRequest();\n                }\n                catch (error) {\n                    this._beforeError(error);\n                    return;\n                }\n                return;\n            }\n        }\n        // `HTTPError`s always have `error.response.body` defined.\n        // Therefore, we cannot retry if `options.throwHttpErrors` is false.\n        // On the last retry, if `options.throwHttpErrors` is false, we would need to return the body,\n        // but that wouldn't be possible since the body would be already read in `error.response.body`.\n        if (options.isStream && options.throwHttpErrors && !isResponseOk(typedResponse)) {\n            this._beforeError(new HTTPError(typedResponse));\n            return;\n        }\n        // Store the expected content-length from the native response for validation.\n        // This is the content-length before decompression, which is what actually gets transferred.\n        // Skip storing for responses that shouldn't have bodies per RFC 9110.\n        // When decompression occurs, only store if strictContentLength is enabled.\n        const wasDecompressed = response !== this._nativeResponse;\n        if (!hasNoBody && (!wasDecompressed || options.strictContentLength)) {\n            const contentLengthHeader = this._nativeResponse.headers['content-length'];\n            if (contentLengthHeader !== undefined) {\n                const expectedLength = Number(contentLengthHeader);\n                if (!Number.isNaN(expectedLength) && expectedLength >= 0) {\n                    this._expectedContentLength = expectedLength;\n                }\n            }\n        }\n        // Set up end listener AFTER redirect check to avoid emitting progress for redirect responses\n        response.once('end', () => {\n            // Validate content-length if it was provided\n            // Per RFC 9112: \"If the sender closes the connection before the indicated number\n            // of octets are received, the recipient MUST consider the message to be incomplete\"\n            if (this._checkContentLengthMismatch()) {\n                return;\n            }\n            this._responseSize = this._downloadedSize;\n            this.emit('downloadProgress', this.downloadProgress);\n            // Publish response end event\n            publishResponseEnd({\n                requestId: this._requestId,\n                url: typedResponse.url,\n                statusCode,\n                bodySize: this._downloadedSize,\n                timings: this.timings,\n            });\n            this.push(null);\n        });\n        this.emit('downloadProgress', this.downloadProgress);\n        response.on('readable', () => {\n            if (this._triggerRead) {\n                this._read();\n            }\n        });\n        this.on('resume', () => {\n            response.resume();\n        });\n        this.on('pause', () => {\n            response.pause();\n        });\n        if (this._noPipe) {\n            const success = await this._setRawBody();\n            if (success) {\n                this.emit('response', response);\n            }\n            return;\n        }\n        this.emit('response', response);\n        for (const destination of this._pipedServerResponses) {\n            if (destination.headersSent) {\n                continue;\n            }\n            // Check if decompression actually occurred by comparing stream objects.\n            // decompressResponse wraps the response stream when it decompresses,\n            // so response !== this._nativeResponse indicates decompression happened.\n            const wasDecompressed = response !== this._nativeResponse;\n            for (const key in response.headers) {\n                if (Object.hasOwn(response.headers, key)) {\n                    const value = response.headers[key];\n                    // When decompression occurred, skip content-encoding and content-length\n                    // as they refer to the compressed data, not the decompressed stream.\n                    if (wasDecompressed && (key === 'content-encoding' || key === 'content-length')) {\n                        continue;\n                    }\n                    // Skip if value is undefined\n                    if (value !== undefined) {\n                        destination.setHeader(key, value);\n                    }\n                }\n            }\n            destination.statusCode = statusCode;\n        }\n    }\n    async _setRawBody(from = this) {\n        if (from.readableEnded) {\n            return false;\n        }\n        try {\n            // Errors are emitted via the `error` event\n            const fromArray = await from.toArray();\n            const rawBody = isBuffer(fromArray.at(0)) ? Buffer.concat(fromArray) : Buffer.from(fromArray.join(''));\n            // On retry Request is destroyed with no error, therefore the above will successfully resolve.\n            // So in order to check if this was really successfull, we need to check if it has been properly ended.\n            if (!this.isAborted) {\n                this.response.rawBody = rawBody;\n                return true;\n            }\n        }\n        catch { }\n        return false;\n    }\n    async _onResponse(response) {\n        try {\n            await this._onResponseBase(response);\n        }\n        catch (error) {\n            /* istanbul ignore next: better safe than sorry */\n            this._beforeError(error);\n        }\n    }\n    _onRequest(request) {\n        const { options } = this;\n        const { timeout, url } = options;\n        // Publish request start event\n        publishRequestStart({\n            requestId: this._requestId,\n            url: url?.toString() ?? '',\n            method: options.method,\n            headers: options.headers,\n        });\n        timer(request);\n        this._cancelTimeouts = timedOut(request, timeout, url);\n        if (this.options.http2) {\n            // Unset stream timeout, as the `timeout` option was used only for connection timeout.\n            // We remove all 'timeout' listeners instead of calling setTimeout(0) because:\n            // 1. setTimeout(0) causes a memory leak (see https://github.com/sindresorhus/got/issues/690)\n            // 2. With HTTP/2 connection reuse, setTimeout(0) accumulates listeners on the socket\n            // 3. removeAllListeners('timeout') properly cleans up without the memory leak\n            request.removeAllListeners('timeout');\n            // For HTTP/2, wait for socket and remove timeout listeners from it\n            request.once('socket', (socket) => {\n                socket.removeAllListeners('timeout');\n            });\n        }\n        const responseEventName = options.cache ? 'cacheableResponse' : 'response';\n        request.once(responseEventName, (response) => {\n            void this._onResponse(response);\n        });\n        request.once('error', (error) => {\n            this._aborted = true;\n            // Force clean-up, because some packages (e.g. nock) don't do this.\n            request.destroy();\n            error = error instanceof TimedOutTimeoutError ? new TimeoutError(error, this.timings, this) : new RequestError(error.message, error, this);\n            this._beforeError(error);\n        });\n        this._unproxyEvents = proxyEvents(request, this, proxiedRequestEvents);\n        this._request = request;\n        this.emit('uploadProgress', this.uploadProgress);\n        this._sendBody();\n        this.emit('request', request);\n    }\n    async _asyncWrite(chunk) {\n        return new Promise((resolve, reject) => {\n            super.write(chunk, error => {\n                if (error) {\n                    reject(error);\n                    return;\n                }\n                resolve();\n            });\n        });\n    }\n    _sendBody() {\n        // Send body\n        const { body } = this.options;\n        const currentRequest = this.redirectUrls.length === 0 ? this : this._request ?? this;\n        if (is.nodeStream(body)) {\n            body.pipe(currentRequest);\n        }\n        else if (is.buffer(body)) {\n            // Buffer should be sent directly without conversion\n            this._writeRequest(body, undefined, () => { });\n            currentRequest.end();\n        }\n        else if (is.typedArray(body)) {\n            // Typed arrays should be treated like buffers, not iterated over\n            // Create a Uint8Array view over the data (Node.js streams accept Uint8Array)\n            const typedArray = body;\n            const uint8View = new Uint8Array(typedArray.buffer, typedArray.byteOffset, typedArray.byteLength);\n            this._writeRequest(uint8View, undefined, () => { });\n            currentRequest.end();\n        }\n        else if (is.asyncIterable(body) || (is.iterable(body) && !is.string(body) && !isBuffer(body))) {\n            (async () => {\n                try {\n                    for await (const chunk of body) {\n                        await this._asyncWrite(chunk);\n                    }\n                    super.end();\n                }\n                catch (error) {\n                    this._beforeError(error);\n                }\n            })();\n        }\n        else if (is.undefined(body)) {\n            // No body to send, end the request\n            const cannotHaveBody = methodsWithoutBody.has(this.options.method) && !(this.options.method === 'GET' && this.options.allowGetBody);\n            const shouldAutoEndStream = methodsWithoutBodyStream.has(this.options.method);\n            if ((this._noPipe ?? false) || cannotHaveBody || currentRequest !== this || shouldAutoEndStream) {\n                currentRequest.end();\n            }\n        }\n        else {\n            this._writeRequest(body, undefined, () => { });\n            currentRequest.end();\n        }\n    }\n    _prepareCache(cache) {\n        if (cacheableStore.has(cache)) {\n            return;\n        }\n        const cacheableRequest = new CacheableRequest(((requestOptions, handler) => {\n            /**\n            Wraps the cacheable-request handler to run beforeCache hooks.\n            These hooks control caching behavior by:\n            - Directly mutating the response object (changes apply to what gets cached)\n            - Returning `false` to prevent caching\n            - Returning `void`/`undefined` to use default caching behavior\n\n            Hooks use direct mutation - they can modify response.headers, response.statusCode, etc.\n            Mutations take effect immediately and determine what gets cached.\n            */\n            const wrappedHandler = handler ? (response) => {\n                const { beforeCacheHooks, gotRequest } = requestOptions;\n                // Early return if no hooks - cache the original response\n                if (!beforeCacheHooks || beforeCacheHooks.length === 0) {\n                    handler(response);\n                    return;\n                }\n                try {\n                    // Call each beforeCache hook with the response\n                    // Hooks can directly mutate the response - mutations take effect immediately\n                    for (const hook of beforeCacheHooks) {\n                        const result = hook(response);\n                        if (result === false) {\n                            // Prevent caching by adding no-cache headers\n                            // Mutate the response directly to add headers\n                            response.headers['cache-control'] = 'no-cache, no-store, must-revalidate';\n                            response.headers.pragma = 'no-cache';\n                            response.headers.expires = '0';\n                            handler(response);\n                            // Don't call remaining hooks - we've decided not to cache\n                            return;\n                        }\n                        if (is.promise(result)) {\n                            // BeforeCache hooks must be synchronous because cacheable-request's handler is synchronous\n                            throw new TypeError('beforeCache hooks must be synchronous. The hook returned a Promise, but this hook must return synchronously. If you need async logic, use beforeRequest hook instead.');\n                        }\n                        if (result !== undefined) {\n                            // Hooks should return false or undefined only\n                            // Mutations work directly - no need to return the response\n                            throw new TypeError('beforeCache hook must return false or undefined. To modify the response, mutate it directly.');\n                        }\n                        // Else: void/undefined = continue\n                    }\n                }\n                catch (error) {\n                    // Convert hook errors to RequestError and propagate\n                    // This is consistent with how other hooks handle errors\n                    if (gotRequest) {\n                        gotRequest._beforeError(error instanceof RequestError ? error : new RequestError(error.message, error, gotRequest));\n                        // Don't call handler when error was propagated successfully\n                        return;\n                    }\n                    // If gotRequest is missing, log the error to aid debugging\n                    // We still call the handler to prevent the request from hanging\n                    console.error('Got: beforeCache hook error (request context unavailable):', error);\n                    // Call handler with response (potentially partially modified)\n                    handler(response);\n                    return;\n                }\n                // All hooks ran successfully\n                // Cache the response with any mutations applied\n                handler(response);\n            } : handler;\n            const result = requestOptions._request(requestOptions, wrappedHandler);\n            // TODO: remove this when `cacheable-request` supports async request functions.\n            if (is.promise(result)) {\n                // We only need to implement the error handler in order to support HTTP2 caching.\n                // The result will be a promise anyway.\n                // @ts-expect-error ignore\n                result.once = (event, handler) => {\n                    if (event === 'error') {\n                        (async () => {\n                            try {\n                                await result;\n                            }\n                            catch (error) {\n                                handler(error);\n                            }\n                        })();\n                    }\n                    else if (event === 'abort' || event === 'destroy') {\n                        // The empty catch is needed here in case when\n                        // it rejects before it's `await`ed in `_makeRequest`.\n                        (async () => {\n                            try {\n                                const request = (await result);\n                                request.once(event, handler);\n                            }\n                            catch { }\n                        })();\n                    }\n                    else {\n                        /* istanbul ignore next: safety check */\n                        throw new Error(`Unknown HTTP2 promise event: ${event}`);\n                    }\n                    return result;\n                };\n            }\n            return result;\n        }), cache);\n        cacheableStore.set(cache, cacheableRequest.request());\n    }\n    async _createCacheableRequest(url, options) {\n        return new Promise((resolve, reject) => {\n            // TODO: Remove `utils/url-to-options.ts` when `cacheable-request` is fixed\n            Object.assign(options, urlToOptions(url));\n            let request;\n            // TODO: Fix `cacheable-response`. This is ugly.\n            const cacheRequest = cacheableStore.get(options.cache)(options, async (response) => {\n                response._readableState.autoDestroy = false;\n                if (request) {\n                    const fix = () => {\n                        // For ResponseLike objects from cache, set complete to true if not already set.\n                        // For real HTTP responses, copy from the underlying response.\n                        if (response.req) {\n                            response.complete = response.req.res.complete;\n                        }\n                        else if (response.complete === undefined) {\n                            // ResponseLike from cache should have complete = true\n                            response.complete = true;\n                        }\n                    };\n                    response.prependOnceListener('end', fix);\n                    fix();\n                    (await request).emit('cacheableResponse', response);\n                }\n                resolve(response);\n            });\n            cacheRequest.once('error', reject);\n            cacheRequest.once('request', async (requestOrPromise) => {\n                request = requestOrPromise;\n                resolve(request);\n            });\n        });\n    }\n    async _makeRequest() {\n        const { options } = this;\n        const { headers, username, password } = options;\n        const cookieJar = options.cookieJar;\n        for (const key in headers) {\n            if (is.undefined(headers[key])) {\n                // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n                delete headers[key];\n            }\n            else if (is.null(headers[key])) {\n                throw new TypeError(`Use \\`undefined\\` instead of \\`null\\` to delete the \\`${key}\\` header`);\n            }\n        }\n        if (options.decompress && is.undefined(headers['accept-encoding'])) {\n            const encodings = ['gzip', 'deflate'];\n            if (supportsBrotli) {\n                encodings.push('br');\n            }\n            if (supportsZstd) {\n                encodings.push('zstd');\n            }\n            headers['accept-encoding'] = encodings.join(', ');\n        }\n        if (username || password) {\n            const credentials = Buffer.from(`${username}:${password}`).toString('base64');\n            headers.authorization = `Basic ${credentials}`;\n        }\n        // Set cookies\n        if (cookieJar) {\n            const cookieString = await cookieJar.getCookieString(options.url.toString());\n            if (is.nonEmptyString(cookieString)) {\n                headers.cookie = cookieString;\n            }\n        }\n        let request;\n        for (const hook of options.hooks.beforeRequest) {\n            // eslint-disable-next-line no-await-in-loop\n            const result = await hook(options, { retryCount: this.retryCount });\n            if (!is.undefined(result)) {\n                // @ts-expect-error Skip the type mismatch to support abstract responses\n                request = () => result;\n                break;\n            }\n        }\n        request ||= options.getRequestFunction();\n        const url = options.url;\n        this._requestOptions = options.createNativeRequestOptions();\n        if (options.cache) {\n            this._requestOptions._request = request;\n            this._requestOptions.cache = options.cache;\n            this._requestOptions.body = options.body;\n            this._requestOptions.beforeCacheHooks = options.hooks.beforeCache;\n            this._requestOptions.gotRequest = this;\n            try {\n                this._prepareCache(options.cache);\n            }\n            catch (error) {\n                throw new CacheError(error, this);\n            }\n        }\n        // Cache support\n        const function_ = options.cache ? this._createCacheableRequest : request;\n        try {\n            // We can't do `await fn(...)`,\n            // because stream `error` event can be emitted before `Promise.resolve()`.\n            let requestOrResponse = function_(url, this._requestOptions);\n            if (is.promise(requestOrResponse)) {\n                requestOrResponse = await requestOrResponse;\n            }\n            // Fallback\n            if (is.undefined(requestOrResponse)) {\n                requestOrResponse = options.getFallbackRequestFunction()(url, this._requestOptions);\n                if (is.promise(requestOrResponse)) {\n                    requestOrResponse = await requestOrResponse;\n                }\n            }\n            if (isClientRequest(requestOrResponse)) {\n                this._onRequest(requestOrResponse);\n            }\n            else if (this.writableEnded) {\n                void this._onResponse(requestOrResponse);\n            }\n            else {\n                this.once('finish', () => {\n                    void this._onResponse(requestOrResponse);\n                });\n                this._sendBody();\n            }\n        }\n        catch (error) {\n            if (error instanceof CacheableCacheError) {\n                throw new CacheError(error, this);\n            }\n            throw error;\n        }\n    }\n    async _error(error) {\n        try {\n            if (this.options && error instanceof HTTPError && !this.options.throwHttpErrors) {\n                // This branch can be reached only when using the Promise API\n                // Skip calling the hooks on purpose.\n                // See https://github.com/sindresorhus/got/issues/2103\n            }\n            else if (this.options) {\n                const hooks = this.options.hooks.beforeError;\n                if (hooks.length > 0) {\n                    for (const hook of hooks) {\n                        // eslint-disable-next-line no-await-in-loop\n                        error = await hook(error);\n                        // Validate hook return value\n                        if (!(error instanceof Error)) {\n                            throw new TypeError(`The \\`beforeError\\` hook must return an Error instance. Received ${is.string(error) ? 'string' : String(typeof error)}.`);\n                        }\n                    }\n                    // Mark this error as processed by hooks so _destroy preserves custom error types.\n                    // Only mark non-RequestError errors, since RequestErrors are already preserved\n                    // by the instanceof check in _destroy (line 642).\n                    if (!(error instanceof RequestError)) {\n                        errorsProcessedByHooks.add(error);\n                    }\n                }\n            }\n        }\n        catch (error_) {\n            error = new RequestError(error_.message, error_, this);\n        }\n        // Publish error event\n        publishError({\n            requestId: this._requestId,\n            url: this.options?.url?.toString() ?? '',\n            error,\n            timings: this.timings,\n        });\n        this.destroy(error);\n        // Manually emit error for Promise API to ensure it receives it.\n        // Node.js streams may not re-emit if an error was already emitted during retry attempts.\n        // Only emit for Promise API (_noPipe = true) to avoid double emissions in stream mode.\n        // Use process.nextTick to defer emission and allow destroy() to complete first.\n        // See https://github.com/sindresorhus/got/issues/1995\n        if (this._noPipe) {\n            process.nextTick(() => {\n                this.emit('error', error);\n            });\n        }\n    }\n    _writeRequest(chunk, encoding, callback) {\n        if (!this._request || this._request.destroyed) {\n            // When there's no request (e.g., using cached response from beforeRequest hook),\n            // we still need to call the callback to allow the stream to finish properly.\n            callback();\n            return;\n        }\n        this._request.write(chunk, encoding, (error) => {\n            // The `!destroyed` check is required to prevent `uploadProgress` being emitted after the stream was destroyed\n            if (!error && !this._request.destroyed) {\n                // For strings, encode them first to measure the actual bytes that will be sent\n                const bytes = typeof chunk === 'string' ? Buffer.from(chunk, encoding) : chunk;\n                this._uploadedSize += byteLength(bytes);\n                const progress = this.uploadProgress;\n                if (progress.percent < 1) {\n                    this.emit('uploadProgress', progress);\n                }\n            }\n            callback(error);\n        });\n    }\n    /**\n    The remote IP address.\n    */\n    get ip() {\n        return this.socket?.remoteAddress;\n    }\n    /**\n    Indicates whether the request has been aborted or not.\n    */\n    get isAborted() {\n        return this._aborted;\n    }\n    get socket() {\n        return this._request?.socket ?? undefined;\n    }\n    /**\n    Progress event for downloading (receiving a response).\n    */\n    get downloadProgress() {\n        let percent;\n        if (this._responseSize) {\n            percent = this._downloadedSize / this._responseSize;\n        }\n        else if (this._responseSize === this._downloadedSize) {\n            percent = 1;\n        }\n        else {\n            percent = 0;\n        }\n        return {\n            percent,\n            transferred: this._downloadedSize,\n            total: this._responseSize,\n        };\n    }\n    /**\n    Progress event for uploading (sending a request).\n    */\n    get uploadProgress() {\n        let percent;\n        if (this._bodySize) {\n            percent = this._uploadedSize / this._bodySize;\n        }\n        else if (this._bodySize === this._uploadedSize) {\n            percent = 1;\n        }\n        else {\n            percent = 0;\n        }\n        return {\n            percent,\n            transferred: this._uploadedSize,\n            total: this._bodySize,\n        };\n    }\n    /**\n    The object contains the following properties:\n\n    - `start` - Time when the request started.\n    - `socket` - Time when a socket was assigned to the request.\n    - `lookup` - Time when the DNS lookup finished.\n    - `connect` - Time when the socket successfully connected.\n    - `secureConnect` - Time when the socket securely connected.\n    - `upload` - Time when the request finished uploading.\n    - `response` - Time when the request fired `response` event.\n    - `end` - Time when the response fired `end` event.\n    - `error` - Time when the request fired `error` event.\n    - `abort` - Time when the request fired `abort` event.\n    - `phases`\n        - `wait` - `timings.socket - timings.start`\n        - `dns` - `timings.lookup - timings.socket`\n        - `tcp` - `timings.connect - timings.lookup`\n        - `tls` - `timings.secureConnect - timings.connect`\n        - `request` - `timings.upload - (timings.secureConnect || timings.connect)`\n        - `firstByte` - `timings.response - timings.upload`\n        - `download` - `timings.end - timings.response`\n        - `total` - `(timings.end || timings.error || timings.abort) - timings.start`\n\n    If something has not been measured yet, it will be `undefined`.\n\n    __Note__: The time is a `number` representing the milliseconds elapsed since the UNIX epoch.\n    */\n    get timings() {\n        return this._request?.timings;\n    }\n    /**\n    Whether the response was retrieved from the cache.\n    */\n    get isFromCache() {\n        return this._isFromCache;\n    }\n    get reusedSocket() {\n        return this._request?.reusedSocket;\n    }\n    /**\n    Whether the stream is read-only. Returns `true` when `body`, `json`, or `form` options are provided.\n    */\n    get isReadonly() {\n        return !is.undefined(this.options?.body) || !is.undefined(this.options?.json) || !is.undefined(this.options?.form);\n    }\n}\n", "const textEncoder = new TextEncoder();\n\nexport function byteLength(data) {\n\tif (typeof data === 'string') {\n\t\treturn textEncoder.encode(data).byteLength;\n\t}\n\n\tif (ArrayBuffer.isView(data) || data instanceof ArrayBuffer || data instanceof SharedArrayBuffer) {\n\t\treturn data.byteLength;\n\t}\n\n\treturn 0;\n}\n", "// biome-ignore-all lint/suspicious/noImplicitAnyLet: legacy format\n// biome-ignore-all lint/suspicious/noExplicitAny: legacy format\nimport crypto from \"node:crypto\";\nimport EventEmitter from \"node:events\";\nimport type { IncomingMessage } from \"node:http\";\nimport stream, { PassThrough as PassThroughStream } from \"node:stream\";\nimport urlLib, { URL } from \"node:url\";\nimport { getStreamAsBuffer } from \"get-stream\";\nimport CachePolicy from \"http-cache-semantics\";\nimport { Keyv } from \"keyv\";\nimport mimicResponse from \"mimic-response\";\nimport normalizeUrl from \"normalize-url\";\nimport Response from \"responselike\";\nimport {\n\ttype CacheableOptions,\n\tCacheError,\n\ttype CacheResponse,\n\ttype CacheValue,\n\ttype Emitter,\n\tRequestError,\n\ttype RequestFn,\n\ttype UrlOption,\n} from \"./types.js\";\n\ntype Function_ = (...arguments_: any[]) => any;\n\nclass CacheableRequest {\n\tcache: Keyv = new Keyv<any>({ namespace: \"cacheable-request\" });\n\tcacheRequest: RequestFn;\n\thooks: Map<string, Function_> = new Map<string, Function_>();\n\tconstructor(cacheRequest: RequestFn, cacheAdapter?: any) {\n\t\tif (cacheAdapter) {\n\t\t\tif (cacheAdapter instanceof Keyv) {\n\t\t\t\tthis.cache = cacheAdapter;\n\t\t\t} else {\n\t\t\t\tthis.cache = new Keyv({\n\t\t\t\t\tstore: cacheAdapter,\n\t\t\t\t\tnamespace: \"cacheable-request\",\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tthis.request = this.request.bind(this);\n\t\tthis.cacheRequest = cacheRequest;\n\t}\n\n\trequest =\n\t\t() =>\n\t\t(\n\t\t\toptions: CacheableOptions,\n\t\t\tcallback?: (response: CacheResponse) => void,\n\t\t): Emitter => {\n\t\t\tlet url;\n\t\t\tif (typeof options === \"string\") {\n\t\t\t\turl = normalizeUrlObject(parseWithWhatwg(options));\n\t\t\t\toptions = {};\n\t\t\t} else if (options instanceof urlLib.URL) {\n\t\t\t\turl = normalizeUrlObject(parseWithWhatwg(options.toString()));\n\t\t\t\toptions = {};\n\t\t\t} else {\n\t\t\t\tconst [pathname, ...searchParts] = (options.path ?? \"\").split(\"?\");\n\t\t\t\tconst search =\n\t\t\t\t\tsearchParts.length > 0 ? `?${searchParts.join(\"?\")}` : \"\";\n\t\t\t\turl = normalizeUrlObject({ ...options, pathname, search });\n\t\t\t}\n\n\t\t\toptions = {\n\t\t\t\theaders: {},\n\t\t\t\tmethod: \"GET\",\n\t\t\t\tcache: true,\n\t\t\t\tstrictTtl: false,\n\t\t\t\tautomaticFailover: false,\n\t\t\t\t...options,\n\t\t\t\t...urlObjectToRequestOptions(url),\n\t\t\t};\n\t\t\toptions.headers = Object.fromEntries(\n\t\t\t\tentries(options.headers).map(([key, value]) => [\n\t\t\t\t\t(key as string).toLowerCase(),\n\t\t\t\t\tvalue,\n\t\t\t\t]),\n\t\t\t);\n\t\t\tconst ee: Emitter = new EventEmitter() as Emitter;\n\t\t\tconst normalizedUrlString = normalizeUrl(urlLib.format(url), {\n\t\t\t\tstripWWW: false,\n\t\t\t\tremoveTrailingSlash: false,\n\t\t\t\tstripAuthentication: false,\n\t\t\t});\n\t\t\tlet key = `${options.method}:${normalizedUrlString}`;\n\t\t\t// POST, PATCH, and PUT requests may be cached, depending on the response\n\t\t\t// cache-control headers. As a result, the body of the request should be\n\t\t\t// added to the cache key in order to avoid collisions.\n\t\t\tif (\n\t\t\t\toptions.body &&\n\t\t\t\toptions.method !== undefined &&\n\t\t\t\t[\"POST\", \"PATCH\", \"PUT\"].includes(options.method)\n\t\t\t) {\n\t\t\t\tif (options.body instanceof stream.Readable) {\n\t\t\t\t\t// Streamed bodies should completely skip the cache because they may\n\t\t\t\t\t// or may not be hashable and in either case the stream would need to\n\t\t\t\t\t// close before the cache key could be generated.\n\t\t\t\t\toptions.cache = false;\n\t\t\t\t} else {\n\t\t\t\t\tkey += `:${crypto.createHash(\"md5\").update(options.body).digest(\"hex\")}`;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet revalidate: any = false;\n\t\t\tlet madeRequest = false;\n\t\t\tconst makeRequest = (options_: any) => {\n\t\t\t\tmadeRequest = true;\n\t\t\t\tlet requestErrored = false;\n\t\t\t\t/* c8 ignore next 4 */\n\t\t\t\tlet requestErrorCallback: (...arguments_: any[]) => void = () => {\n\t\t\t\t\t/* do nothing */\n\t\t\t\t};\n\n\t\t\t\tconst requestErrorPromise = new Promise<void>((resolve) => {\n\t\t\t\t\trequestErrorCallback = () => {\n\t\t\t\t\t\tif (!requestErrored) {\n\t\t\t\t\t\t\trequestErrored = true;\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tconst handler = async (response: any) => {\n\t\t\t\t\tif (revalidate) {\n\t\t\t\t\t\tresponse.status = response.statusCode;\n\t\t\t\t\t\tconst originalPolicy = CachePolicy.fromObject(\n\t\t\t\t\t\t\trevalidate.cachePolicy,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tconst revalidatedPolicy = originalPolicy.revalidatedPolicy(\n\t\t\t\t\t\t\toptions_,\n\t\t\t\t\t\t\tresponse,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (!revalidatedPolicy.modified) {\n\t\t\t\t\t\t\tresponse.resume();\n\t\t\t\t\t\t\tawait new Promise((resolve) => {\n\t\t\t\t\t\t\t\t// Skipping 'error' handler cause 'error' event should't be emitted for 304 response\n\t\t\t\t\t\t\t\tresponse.once(\"end\", resolve);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t// Get headers from revalidated policy\n\t\t\t\t\t\t\tconst headers = convertHeaders(\n\t\t\t\t\t\t\t\trevalidatedPolicy.policy.responseHeaders(),\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Preserve headers from the original cached response that may have been\n\t\t\t\t\t\t\t// lost during revalidation (e.g., content-encoding, content-type, etc.)\n\t\t\t\t\t\t\t// This works around a limitation in http-cache-semantics where some headers\n\t\t\t\t\t\t\t// are not preserved when a 304 response has minimal headers\n\t\t\t\t\t\t\tconst originalHeaders = convertHeaders(\n\t\t\t\t\t\t\t\toriginalPolicy.responseHeaders(),\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Headers that should be preserved from the cached response\n\t\t\t\t\t\t\t// according to RFC 7232 section 4.1\n\t\t\t\t\t\t\tconst preserveHeaders = [\n\t\t\t\t\t\t\t\t\"content-encoding\",\n\t\t\t\t\t\t\t\t\"content-type\",\n\t\t\t\t\t\t\t\t\"content-length\",\n\t\t\t\t\t\t\t\t\"content-language\",\n\t\t\t\t\t\t\t\t\"content-location\",\n\t\t\t\t\t\t\t\t\"etag\",\n\t\t\t\t\t\t\t];\n\n\t\t\t\t\t\t\tfor (const headerName of preserveHeaders) {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\toriginalHeaders[headerName] !== undefined &&\n\t\t\t\t\t\t\t\t\theaders[headerName] === undefined\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\theaders[headerName] = originalHeaders[headerName];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tresponse = new Response({\n\t\t\t\t\t\t\t\tstatusCode: revalidate.statusCode,\n\t\t\t\t\t\t\t\theaders,\n\t\t\t\t\t\t\t\tbody: revalidate.body,\n\t\t\t\t\t\t\t\turl: revalidate.url,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tresponse.cachePolicy = revalidatedPolicy.policy;\n\t\t\t\t\t\t\tresponse.fromCache = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!response.fromCache) {\n\t\t\t\t\t\tresponse.cachePolicy = new CachePolicy(\n\t\t\t\t\t\t\toptions_,\n\t\t\t\t\t\t\tresponse,\n\t\t\t\t\t\t\toptions_,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tresponse.fromCache = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet clonedResponse;\n\t\t\t\t\tif (options_.cache && response.cachePolicy.storable()) {\n\t\t\t\t\t\tclonedResponse = cloneResponse(response);\n\t\t\t\t\t\t(async () => {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tconst bodyPromise = getStreamAsBuffer(response);\n\t\t\t\t\t\t\t\tawait Promise.race([\n\t\t\t\t\t\t\t\t\trequestErrorPromise,\n\t\t\t\t\t\t\t\t\tnew Promise((resolve) => response.once(\"end\", resolve)),\n\t\t\t\t\t\t\t\t\tnew Promise((resolve) => response.once(\"close\", resolve)),\n\t\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t\t\tconst body = await bodyPromise;\n\t\t\t\t\t\t\t\tlet value: CacheValue = {\n\t\t\t\t\t\t\t\t\turl: response.url,\n\t\t\t\t\t\t\t\t\tstatusCode: response.fromCache\n\t\t\t\t\t\t\t\t\t\t? revalidate.statusCode\n\t\t\t\t\t\t\t\t\t\t: response.statusCode,\n\t\t\t\t\t\t\t\t\tbody,\n\t\t\t\t\t\t\t\t\tcachePolicy: response.cachePolicy.toObject(),\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tlet ttl = options_.strictTtl\n\t\t\t\t\t\t\t\t\t? response.cachePolicy.timeToLive()\n\t\t\t\t\t\t\t\t\t: undefined;\n\t\t\t\t\t\t\t\tif (options_.maxTtl) {\n\t\t\t\t\t\t\t\t\tttl = ttl ? Math.min(ttl, options_.maxTtl) : options_.maxTtl;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (this.hooks.size > 0) {\n\t\t\t\t\t\t\t\t\tfor (const key_ of this.hooks.keys()) {\n\t\t\t\t\t\t\t\t\t\tvalue = await this.runHook(key_, value, response);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tawait this.cache.set(key, value, ttl);\n\t\t\t\t\t\t\t\t/* c8 ignore next -- @preserve */\n\t\t\t\t\t\t\t} catch (error: any) {\n\t\t\t\t\t\t\t\t/* c8 ignore next -- @preserve */\n\t\t\t\t\t\t\t\tee.emit(\"error\", new CacheError(error));\n\t\t\t\t\t\t\t\t/* c8 ignore next -- @preserve */\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})();\n\t\t\t\t\t} else if (options_.cache && revalidate) {\n\t\t\t\t\t\t(async () => {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tawait this.cache.delete(key);\n\t\t\t\t\t\t\t\t/* c8 ignore next -- @preserve */\n\t\t\t\t\t\t\t} catch (error: any) {\n\t\t\t\t\t\t\t\t/* c8 ignore next -- @preserve */\n\t\t\t\t\t\t\t\tee.emit(\"error\", new CacheError(error));\n\t\t\t\t\t\t\t\t/* c8 ignore next -- @preserve */\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})();\n\t\t\t\t\t}\n\n\t\t\t\t\tee.emit(\"response\", clonedResponse ?? response);\n\t\t\t\t\tif (typeof callback === \"function\") {\n\t\t\t\t\t\tcallback(clonedResponse ?? response);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\ttry {\n\t\t\t\t\tconst request_ = this.cacheRequest(options_, handler);\n\t\t\t\t\trequest_.once(\"error\", requestErrorCallback);\n\t\t\t\t\trequest_.once(\"abort\", requestErrorCallback);\n\t\t\t\t\trequest_.once(\"destroy\", requestErrorCallback);\n\t\t\t\t\tee.emit(\"request\", request_);\n\t\t\t\t} catch (error: any) {\n\t\t\t\t\tee.emit(\"error\", new RequestError(error));\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t(async () => {\n\t\t\t\tconst get = async (options_: any) => {\n\t\t\t\t\tawait Promise.resolve();\n\t\t\t\t\tconst cacheEntry = options_.cache\n\t\t\t\t\t\t? await this.cache.get(key)\n\t\t\t\t\t\t: undefined;\n\n\t\t\t\t\tif (cacheEntry === undefined && !options_.forceRefresh) {\n\t\t\t\t\t\tmakeRequest(options_);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst policy = CachePolicy.fromObject(\n\t\t\t\t\t\t(cacheEntry as CacheValue).cachePolicy,\n\t\t\t\t\t);\n\t\t\t\t\tif (\n\t\t\t\t\t\tpolicy.satisfiesWithoutRevalidation(options_) &&\n\t\t\t\t\t\t!options_.forceRefresh\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst headers = convertHeaders(policy.responseHeaders());\n\t\t\t\t\t\tconst bodyBuffer = (cacheEntry as CacheValue).body;\n\t\t\t\t\t\tconst body = Buffer.from(bodyBuffer as string);\n\t\t\t\t\t\tconst response: any = new Response({\n\t\t\t\t\t\t\tstatusCode: (cacheEntry as CacheValue).statusCode,\n\t\t\t\t\t\t\theaders,\n\t\t\t\t\t\t\tbody,\n\t\t\t\t\t\t\turl: (cacheEntry as CacheValue).url,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tresponse.cachePolicy = policy;\n\t\t\t\t\t\tresponse.fromCache = true;\n\t\t\t\t\t\tee.emit(\"response\", response);\n\t\t\t\t\t\tif (typeof callback === \"function\") {\n\t\t\t\t\t\t\tcallback(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (\n\t\t\t\t\t\tpolicy.satisfiesWithoutRevalidation(options_) &&\n\t\t\t\t\t\tDate.now() >= policy.timeToLive() &&\n\t\t\t\t\t\toptions_.forceRefresh\n\t\t\t\t\t) {\n\t\t\t\t\t\tawait this.cache.delete(key);\n\t\t\t\t\t\toptions_.headers = policy.revalidationHeaders(options_);\n\t\t\t\t\t\tmakeRequest(options_);\n\t\t\t\t\t} else {\n\t\t\t\t\t\trevalidate = cacheEntry;\n\t\t\t\t\t\toptions_.headers = policy.revalidationHeaders(options_);\n\t\t\t\t\t\tmakeRequest(options_);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tconst errorHandler = (error: Error) =>\n\t\t\t\t\tee.emit(\"error\", new CacheError(error));\n\t\t\t\tif (this.cache instanceof Keyv) {\n\t\t\t\t\tconst cachek = this.cache;\n\t\t\t\t\tcachek.once(\"error\", errorHandler);\n\t\t\t\t\tee.on(\"error\", () => {\n\t\t\t\t\t\tcachek.removeListener(\"error\", errorHandler);\n\t\t\t\t\t});\n\t\t\t\t\tee.on(\"response\", () => {\n\t\t\t\t\t\tcachek.removeListener(\"error\", errorHandler);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tawait get(options);\n\t\t\t\t} catch (error: any) {\n\t\t\t\t\t/* v8 ignore next -- @preserve */\n\t\t\t\t\tif (options.automaticFailover && !madeRequest) {\n\t\t\t\t\t\tmakeRequest(options);\n\t\t\t\t\t}\n\n\t\t\t\t\tee.emit(\"error\", new CacheError(error));\n\t\t\t\t}\n\t\t\t})();\n\n\t\t\treturn ee;\n\t\t};\n\n\taddHook = (name: string, function_: Function_) => {\n\t\tif (!this.hooks.has(name)) {\n\t\t\tthis.hooks.set(name, function_);\n\t\t}\n\t};\n\n\tremoveHook = (name: string) => this.hooks.delete(name);\n\n\tgetHook = (name: string) => this.hooks.get(name);\n\n\trunHook = async (name: string, ...arguments_: any[]): Promise<CacheValue> =>\n\t\tthis.hooks.get(name)?.(...arguments_);\n}\n\nconst entries = Object.entries as <T>(\n\tobject: T,\n) => Array<[keyof T, T[keyof T]]>;\n\nconst cloneResponse = (response: IncomingMessage) => {\n\tconst clone = new PassThroughStream({ autoDestroy: false });\n\tmimicResponse(response, clone);\n\n\treturn response.pipe(clone);\n};\n\nconst urlObjectToRequestOptions = (url: any) => {\n\tconst options: UrlOption = { ...url };\n\toptions.path = `${url.pathname || \"/\"}${url.search || \"\"}`;\n\tdelete options.pathname;\n\tdelete options.search;\n\treturn options;\n};\n\nconst normalizeUrlObject = (url: any) =>\n\t// If url was parsed by url.parse or new URL:\n\t// - hostname will be set\n\t// - host will be hostname[:port]\n\t// - port will be set if it was explicit in the parsed string\n\t// Otherwise, url was from request options:\n\t// - hostname or host may be set\n\t// - host shall not have port encoded\n\t({\n\t\tprotocol: url.protocol,\n\t\tauth: url.auth,\n\t\thostname: url.hostname || url.host || \"localhost\",\n\t\tport: url.port,\n\t\tpathname: url.pathname,\n\t\tsearch: url.search,\n\t});\n\nconst convertHeaders = (headers: CachePolicy.Headers) => {\n\tconst result: any = [];\n\tfor (const name of Object.keys(headers)) {\n\t\tresult[name.toLowerCase()] = headers[name];\n\t}\n\n\treturn result;\n};\n\nexport const parseWithWhatwg = (raw: string) => {\n\tconst u = new URL(raw);\n\n\t// If normalizeUrlObject expects the same fields as url.parse()\n\treturn {\n\t\tprotocol: u.protocol, // E.g. 'https:'\n\t\tslashes: true, // Always true for WHATWG URLs\n\t\t/* c8 ignore next 3 */\n\t\tauth: u.username || u.password ? `${u.username}:${u.password}` : undefined,\n\t\thost: u.host, // E.g. 'example.com:8080'\n\t\tport: u.port, // E.g. '8080'\n\t\thostname: u.hostname, // E.g. 'example.com'\n\t\thash: u.hash, // E.g. '#quux'\n\t\tsearch: u.search, // E.g. '?bar=baz'\n\t\tquery: Object.fromEntries(u.searchParams), // { bar: 'baz' }\n\t\tpathname: u.pathname, // E.g. '/foo'\n\t\tpath: u.pathname + u.search, // '/foo?bar=baz'\n\t\thref: u.href, // Full serialized URL\n\t};\n};\n\nexport default CacheableRequest;\nexport * from \"./types.js\";\nexport const onResponse = \"onResponse\";\n", "import {on} from 'node:events';\nimport {finished} from 'node:stream/promises';\nimport {nodeImports} from './stream.js';\n\nObject.assign(nodeImports, {on, finished});\n\nexport {\n\tdefault,\n\tgetStreamAsArray,\n\tgetStreamAsArrayBuffer,\n\tgetStreamAsBuffer,\n\tMaxBufferError,\n} from './exports.js';\n", "export function isStream(stream, {checkOpen = true} = {}) {\n\treturn stream !== null\n\t\t&& typeof stream === 'object'\n\t\t&& (stream.writable || stream.readable || !checkOpen || (stream.writable === undefined && stream.readable === undefined))\n\t\t&& typeof stream.pipe === 'function';\n}\n\nexport function isWritableStream(stream, {checkOpen = true} = {}) {\n\treturn isStream(stream, {checkOpen})\n\t\t&& (stream.writable || !checkOpen)\n\t\t&& typeof stream.write === 'function'\n\t\t&& typeof stream.end === 'function'\n\t\t&& typeof stream.writable === 'boolean'\n\t\t&& typeof stream.writableObjectMode === 'boolean'\n\t\t&& typeof stream.destroy === 'function'\n\t\t&& typeof stream.destroyed === 'boolean';\n}\n\nexport function isReadableStream(stream, {checkOpen = true} = {}) {\n\treturn isStream(stream, {checkOpen})\n\t\t&& (stream.readable || !checkOpen)\n\t\t&& typeof stream.read === 'function'\n\t\t&& typeof stream.readable === 'boolean'\n\t\t&& typeof stream.readableObjectMode === 'boolean'\n\t\t&& typeof stream.destroy === 'function'\n\t\t&& typeof stream.destroyed === 'boolean';\n}\n\nexport function isDuplexStream(stream, options) {\n\treturn isWritableStream(stream, options)\n\t\t&& isReadableStream(stream, options);\n}\n\nexport function isTransformStream(stream, options) {\n\treturn isDuplexStream(stream, options)\n\t\t&& typeof stream._transform === 'function';\n}\n", "const a = Object.getPrototypeOf(\n  Object.getPrototypeOf(\n    /* istanbul ignore next */\n    async function* () {\n    }\n  ).prototype\n);\nclass c {\n  #t;\n  #n;\n  #r = !1;\n  #e = void 0;\n  constructor(e, t) {\n    this.#t = e, this.#n = t;\n  }\n  next() {\n    const e = () => this.#s();\n    return this.#e = this.#e ? this.#e.then(e, e) : e(), this.#e;\n  }\n  return(e) {\n    const t = () => this.#i(e);\n    return this.#e ? this.#e.then(t, t) : t();\n  }\n  async #s() {\n    if (this.#r)\n      return {\n        done: !0,\n        value: void 0\n      };\n    let e;\n    try {\n      e = await this.#t.read();\n    } catch (t) {\n      throw this.#e = void 0, this.#r = !0, this.#t.releaseLock(), t;\n    }\n    return e.done && (this.#e = void 0, this.#r = !0, this.#t.releaseLock()), e;\n  }\n  async #i(e) {\n    if (this.#r)\n      return {\n        done: !0,\n        value: e\n      };\n    if (this.#r = !0, !this.#n) {\n      const t = this.#t.cancel(e);\n      return this.#t.releaseLock(), await t, {\n        done: !0,\n        value: e\n      };\n    }\n    return this.#t.releaseLock(), {\n      done: !0,\n      value: e\n    };\n  }\n}\nconst n = Symbol();\nfunction i() {\n  return this[n].next();\n}\nObject.defineProperty(i, \"name\", { value: \"next\" });\nfunction o(r) {\n  return this[n].return(r);\n}\nObject.defineProperty(o, \"name\", { value: \"return\" });\nconst u = Object.create(a, {\n  next: {\n    enumerable: !0,\n    configurable: !0,\n    writable: !0,\n    value: i\n  },\n  return: {\n    enumerable: !0,\n    configurable: !0,\n    writable: !0,\n    value: o\n  }\n});\nfunction h({ preventCancel: r = !1 } = {}) {\n  const e = this.getReader(), t = new c(\n    e,\n    r\n  ), s = Object.create(u);\n  return s[n] = t, s;\n}\nexport {\n  h as asyncIterator\n};\n", "import {isReadableStream} from 'is-stream';\nimport {asyncIterator} from '@sec-ant/readable-stream/ponyfill';\n\nexport const getAsyncIterable = stream => {\n\tif (isReadableStream(stream, {checkOpen: false}) && nodeImports.on !== undefined) {\n\t\treturn getStreamIterable(stream);\n\t}\n\n\tif (typeof stream?.[Symbol.asyncIterator] === 'function') {\n\t\treturn stream;\n\t}\n\n\t// `ReadableStream[Symbol.asyncIterator]` support is missing in multiple browsers, so we ponyfill it\n\tif (toString.call(stream) === '[object ReadableStream]') {\n\t\treturn asyncIterator.call(stream);\n\t}\n\n\tthrow new TypeError('The first argument must be a Readable, a ReadableStream, or an async iterable.');\n};\n\nconst {toString} = Object.prototype;\n\n// The default iterable for Node.js streams does not allow for multiple readers at once, so we re-implement it\nconst getStreamIterable = async function * (stream) {\n\tconst controller = new AbortController();\n\tconst state = {};\n\thandleStreamEnd(stream, controller, state);\n\n\ttry {\n\t\tfor await (const [chunk] of nodeImports.on(stream, 'data', {signal: controller.signal})) {\n\t\t\tyield chunk;\n\t\t}\n\t} catch (error) {\n\t\t// Stream failure, for example due to `stream.destroy(error)`\n\t\tif (state.error !== undefined) {\n\t\t\tthrow state.error;\n\t\t// `error` event directly emitted on stream\n\t\t} else if (!controller.signal.aborted) {\n\t\t\tthrow error;\n\t\t// Otherwise, stream completed successfully\n\t\t}\n\t\t// The `finally` block also runs when the caller throws, for example due to the `maxBuffer` option\n\t} finally {\n\t\tstream.destroy();\n\t}\n};\n\nconst handleStreamEnd = async (stream, controller, state) => {\n\ttry {\n\t\tawait nodeImports.finished(stream, {\n\t\t\tcleanup: true,\n\t\t\treadable: true,\n\t\t\twritable: false,\n\t\t\terror: false,\n\t\t});\n\t} catch (error) {\n\t\tstate.error = error;\n\t} finally {\n\t\tcontroller.abort();\n\t}\n};\n\n// Loaded by the Node entrypoint, but not by the browser one.\n// This prevents using dynamic imports.\nexport const nodeImports = {};\n", "import {getAsyncIterable} from './stream.js';\n\nexport const getStreamContents = async (stream, {init, convertChunk, getSize, truncateChunk, addChunk, getFinalChunk, finalize}, {maxBuffer = Number.POSITIVE_INFINITY} = {}) => {\n\tconst asyncIterable = getAsyncIterable(stream);\n\n\tconst state = init();\n\tstate.length = 0;\n\n\ttry {\n\t\tfor await (const chunk of asyncIterable) {\n\t\t\tconst chunkType = getChunkType(chunk);\n\t\t\tconst convertedChunk = convertChunk[chunkType](chunk, state);\n\t\t\tappendChunk({\n\t\t\t\tconvertedChunk,\n\t\t\t\tstate,\n\t\t\t\tgetSize,\n\t\t\t\ttruncateChunk,\n\t\t\t\taddChunk,\n\t\t\t\tmaxBuffer,\n\t\t\t});\n\t\t}\n\n\t\tappendFinalChunk({\n\t\t\tstate,\n\t\t\tconvertChunk,\n\t\t\tgetSize,\n\t\t\ttruncateChunk,\n\t\t\taddChunk,\n\t\t\tgetFinalChunk,\n\t\t\tmaxBuffer,\n\t\t});\n\t\treturn finalize(state);\n\t} catch (error) {\n\t\tconst normalizedError = typeof error === 'object' && error !== null ? error : new Error(error);\n\t\tnormalizedError.bufferedData = finalize(state);\n\t\tthrow normalizedError;\n\t}\n};\n\nconst appendFinalChunk = ({state, getSize, truncateChunk, addChunk, getFinalChunk, maxBuffer}) => {\n\tconst convertedChunk = getFinalChunk(state);\n\tif (convertedChunk !== undefined) {\n\t\tappendChunk({\n\t\t\tconvertedChunk,\n\t\t\tstate,\n\t\t\tgetSize,\n\t\t\ttruncateChunk,\n\t\t\taddChunk,\n\t\t\tmaxBuffer,\n\t\t});\n\t}\n};\n\nconst appendChunk = ({convertedChunk, state, getSize, truncateChunk, addChunk, maxBuffer}) => {\n\tconst chunkSize = getSize(convertedChunk);\n\tconst newLength = state.length + chunkSize;\n\n\tif (newLength <= maxBuffer) {\n\t\taddNewChunk(convertedChunk, state, addChunk, newLength);\n\t\treturn;\n\t}\n\n\tconst truncatedChunk = truncateChunk(convertedChunk, maxBuffer - state.length);\n\n\tif (truncatedChunk !== undefined) {\n\t\taddNewChunk(truncatedChunk, state, addChunk, maxBuffer);\n\t}\n\n\tthrow new MaxBufferError();\n};\n\nconst addNewChunk = (convertedChunk, state, addChunk, newLength) => {\n\tstate.contents = addChunk(convertedChunk, state, newLength);\n\tstate.length = newLength;\n};\n\nconst getChunkType = chunk => {\n\tconst typeOfChunk = typeof chunk;\n\n\tif (typeOfChunk === 'string') {\n\t\treturn 'string';\n\t}\n\n\tif (typeOfChunk !== 'object' || chunk === null) {\n\t\treturn 'others';\n\t}\n\n\tif (globalThis.Buffer?.isBuffer(chunk)) {\n\t\treturn 'buffer';\n\t}\n\n\tconst prototypeName = objectToString.call(chunk);\n\n\tif (prototypeName === '[object ArrayBuffer]') {\n\t\treturn 'arrayBuffer';\n\t}\n\n\tif (prototypeName === '[object DataView]') {\n\t\treturn 'dataView';\n\t}\n\n\tif (\n\t\tNumber.isInteger(chunk.byteLength)\n\t\t&& Number.isInteger(chunk.byteOffset)\n\t\t&& objectToString.call(chunk.buffer) === '[object ArrayBuffer]'\n\t) {\n\t\treturn 'typedArray';\n\t}\n\n\treturn 'others';\n};\n\nconst {toString: objectToString} = Object.prototype;\n\nexport class MaxBufferError extends Error {\n\tname = 'MaxBufferError';\n\n\tconstructor() {\n\t\tsuper('maxBuffer exceeded');\n\t}\n}\n", "export const identity = value => value;\n\nexport const noop = () => undefined;\n\nexport const getContentsProperty = ({contents}) => contents;\n\nexport const throwObjectStream = chunk => {\n\tthrow new Error(`Streams in object mode are not supported: ${String(chunk)}`);\n};\n\nexport const getLengthProperty = convertedChunk => convertedChunk.length;\n", "import {getStreamContents} from './contents.js';\nimport {noop, throwObjectStream, getLengthProperty} from './utils.js';\n\nexport async function getStreamAsArrayBuffer(stream, options) {\n\treturn getStreamContents(stream, arrayBufferMethods, options);\n}\n\nconst initArrayBuffer = () => ({contents: new ArrayBuffer(0)});\n\nconst useTextEncoder = chunk => textEncoder.encode(chunk);\nconst textEncoder = new TextEncoder();\n\nconst useUint8Array = chunk => new Uint8Array(chunk);\n\nconst useUint8ArrayWithOffset = chunk => new Uint8Array(chunk.buffer, chunk.byteOffset, chunk.byteLength);\n\nconst truncateArrayBufferChunk = (convertedChunk, chunkSize) => convertedChunk.slice(0, chunkSize);\n\n// `contents` is an increasingly growing `Uint8Array`.\nconst addArrayBufferChunk = (convertedChunk, {contents, length: previousLength}, length) => {\n\tconst newContents = hasArrayBufferResize() ? resizeArrayBuffer(contents, length) : resizeArrayBufferSlow(contents, length);\n\tnew Uint8Array(newContents).set(convertedChunk, previousLength);\n\treturn newContents;\n};\n\n// Without `ArrayBuffer.resize()`, `contents` size is always a power of 2.\n// This means its last bytes are zeroes (not stream data), which need to be\n// trimmed at the end with `ArrayBuffer.slice()`.\nconst resizeArrayBufferSlow = (contents, length) => {\n\tif (length <= contents.byteLength) {\n\t\treturn contents;\n\t}\n\n\tconst arrayBuffer = new ArrayBuffer(getNewContentsLength(length));\n\tnew Uint8Array(arrayBuffer).set(new Uint8Array(contents), 0);\n\treturn arrayBuffer;\n};\n\n// With `ArrayBuffer.resize()`, `contents` size matches exactly the size of\n// the stream data. It does not include extraneous zeroes to trim at the end.\n// The underlying `ArrayBuffer` does allocate a number of bytes that is a power\n// of 2, but those bytes are only visible after calling `ArrayBuffer.resize()`.\nconst resizeArrayBuffer = (contents, length) => {\n\tif (length <= contents.maxByteLength) {\n\t\tcontents.resize(length);\n\t\treturn contents;\n\t}\n\n\tconst arrayBuffer = new ArrayBuffer(length, {maxByteLength: getNewContentsLength(length)});\n\tnew Uint8Array(arrayBuffer).set(new Uint8Array(contents), 0);\n\treturn arrayBuffer;\n};\n\n// Retrieve the closest `length` that is both >= and a power of 2\nconst getNewContentsLength = length => SCALE_FACTOR ** Math.ceil(Math.log(length) / Math.log(SCALE_FACTOR));\n\nconst SCALE_FACTOR = 2;\n\nconst finalizeArrayBuffer = ({contents, length}) => hasArrayBufferResize() ? contents : contents.slice(0, length);\n\n// `ArrayBuffer.slice()` is slow. When `ArrayBuffer.resize()` is available\n// (Node >=20.0.0, Safari >=16.4 and Chrome), we can use it instead.\n// eslint-disable-next-line no-warning-comments\n// TODO: remove after dropping support for Node 20.\n// eslint-disable-next-line no-warning-comments\n// TODO: use `ArrayBuffer.transferToFixedLength()` instead once it is available\nconst hasArrayBufferResize = () => 'resize' in ArrayBuffer.prototype;\n\nconst arrayBufferMethods = {\n\tinit: initArrayBuffer,\n\tconvertChunk: {\n\t\tstring: useTextEncoder,\n\t\tbuffer: useUint8Array,\n\t\tarrayBuffer: useUint8Array,\n\t\tdataView: useUint8ArrayWithOffset,\n\t\ttypedArray: useUint8ArrayWithOffset,\n\t\tothers: throwObjectStream,\n\t},\n\tgetSize: getLengthProperty,\n\ttruncateChunk: truncateArrayBufferChunk,\n\taddChunk: addArrayBufferChunk,\n\tgetFinalChunk: noop,\n\tfinalize: finalizeArrayBuffer,\n};\n", "import {getStreamAsArrayBuffer} from './array-buffer.js';\n\nexport async function getStreamAsBuffer(stream, options) {\n\tif (!('Buffer' in globalThis)) {\n\t\tthrow new Error('getStreamAsBuffer() is only supported in Node.js');\n\t}\n\n\ttry {\n\t\treturn arrayBufferToNodeBuffer(await getStreamAsArrayBuffer(stream, options));\n\t} catch (error) {\n\t\tif (error.bufferedData !== undefined) {\n\t\t\terror.bufferedData = arrayBufferToNodeBuffer(error.bufferedData);\n\t\t}\n\n\t\tthrow error;\n\t}\n}\n\nconst arrayBufferToNodeBuffer = arrayBuffer => globalThis.Buffer.from(arrayBuffer);\n", "// src/index.ts\nimport { Buffer } from \"buffer\";\nvar _serialize = (data, escapeColonStrings = true) => {\n  if (data === void 0 || data === null) {\n    return \"null\";\n  }\n  if (typeof data === \"string\") {\n    return JSON.stringify(\n      escapeColonStrings && data.startsWith(\":\") ? `:${data}` : data\n    );\n  }\n  if (Buffer.isBuffer(data)) {\n    return JSON.stringify(`:base64:${data.toString(\"base64\")}`);\n  }\n  if (data?.toJSON) {\n    data = data.toJSON();\n  }\n  if (typeof data === \"object\") {\n    let s = \"\";\n    const array = Array.isArray(data);\n    s = array ? \"[\" : \"{\";\n    let first = true;\n    for (const k in data) {\n      const ignore = typeof data[k] === \"function\" || !array && data[k] === void 0;\n      if (!Object.hasOwn(data, k) || ignore) {\n        continue;\n      }\n      if (!first) {\n        s += \",\";\n      }\n      first = false;\n      if (array) {\n        s += _serialize(data[k], escapeColonStrings);\n      } else if (data[k] !== void 0) {\n        s += `${_serialize(k, false)}:${_serialize(data[k], escapeColonStrings)}`;\n      }\n    }\n    s += array ? \"]\" : \"}\";\n    return s;\n  }\n  return JSON.stringify(data);\n};\nvar defaultSerialize = (data) => {\n  return _serialize(data, true);\n};\nvar defaultDeserialize = (data) => JSON.parse(data, (_, value) => {\n  if (typeof value === \"string\") {\n    if (value.startsWith(\":base64:\")) {\n      return Buffer.from(value.slice(8), \"base64\");\n    }\n    return value.startsWith(\":\") ? value.slice(1) : value;\n  }\n  return value;\n});\nexport {\n  defaultDeserialize,\n  defaultSerialize\n};\n", "// src/index.ts\nimport { defaultDeserialize, defaultSerialize } from \"@keyv/serialize\";\n\n// src/event-manager.ts\nvar EventManager = class {\n  _eventListeners;\n  _maxListeners;\n  constructor() {\n    this._eventListeners = /* @__PURE__ */ new Map();\n    this._maxListeners = 100;\n  }\n  maxListeners() {\n    return this._maxListeners;\n  }\n  // Add an event listener\n  addListener(event, listener) {\n    this.on(event, listener);\n  }\n  on(event, listener) {\n    if (!this._eventListeners.has(event)) {\n      this._eventListeners.set(event, []);\n    }\n    const listeners = this._eventListeners.get(event);\n    if (listeners) {\n      if (listeners.length >= this._maxListeners) {\n        console.warn(\n          `MaxListenersExceededWarning: Possible event memory leak detected. ${listeners.length + 1} ${event} listeners added. Use setMaxListeners() to increase limit.`\n        );\n      }\n      listeners.push(listener);\n    }\n    return this;\n  }\n  // Remove an event listener\n  removeListener(event, listener) {\n    this.off(event, listener);\n  }\n  off(event, listener) {\n    const listeners = this._eventListeners.get(event) ?? [];\n    const index = listeners.indexOf(listener);\n    if (index !== -1) {\n      listeners.splice(index, 1);\n    }\n    if (listeners.length === 0) {\n      this._eventListeners.delete(event);\n    }\n  }\n  once(event, listener) {\n    const onceListener = (...arguments_) => {\n      listener(...arguments_);\n      this.off(event, onceListener);\n    };\n    this.on(event, onceListener);\n  }\n  // Emit an event\n  // biome-ignore lint/suspicious/noExplicitAny: type format\n  emit(event, ...arguments_) {\n    const listeners = this._eventListeners.get(event);\n    if (listeners && listeners.length > 0) {\n      for (const listener of listeners) {\n        listener(...arguments_);\n      }\n    }\n  }\n  // Get all listeners for a specific event\n  listeners(event) {\n    return this._eventListeners.get(event) ?? [];\n  }\n  // Remove all listeners for a specific event\n  removeAllListeners(event) {\n    if (event) {\n      this._eventListeners.delete(event);\n    } else {\n      this._eventListeners.clear();\n    }\n  }\n  // Set the maximum number of listeners for a single event\n  setMaxListeners(n) {\n    this._maxListeners = n;\n  }\n};\nvar event_manager_default = EventManager;\n\n// src/hooks-manager.ts\nvar HooksManager = class extends event_manager_default {\n  _hookHandlers;\n  constructor() {\n    super();\n    this._hookHandlers = /* @__PURE__ */ new Map();\n  }\n  // Adds a handler function for a specific event\n  addHandler(event, handler) {\n    const eventHandlers = this._hookHandlers.get(event);\n    if (eventHandlers) {\n      eventHandlers.push(handler);\n    } else {\n      this._hookHandlers.set(event, [handler]);\n    }\n  }\n  // Removes a specific handler function for a specific event\n  removeHandler(event, handler) {\n    const eventHandlers = this._hookHandlers.get(event);\n    if (eventHandlers) {\n      const index = eventHandlers.indexOf(handler);\n      if (index !== -1) {\n        eventHandlers.splice(index, 1);\n      }\n    }\n  }\n  // Triggers all handlers for a specific event with provided data\n  // biome-ignore lint/suspicious/noExplicitAny: type format\n  trigger(event, data) {\n    const eventHandlers = this._hookHandlers.get(event);\n    if (eventHandlers) {\n      for (const handler of eventHandlers) {\n        try {\n          handler(data);\n        } catch (error) {\n          this.emit(\n            \"error\",\n            new Error(\n              `Error in hook handler for event \"${event}\": ${error.message}`\n            )\n          );\n        }\n      }\n    }\n  }\n  // Provides read-only access to the current handlers\n  get handlers() {\n    return new Map(this._hookHandlers);\n  }\n};\nvar hooks_manager_default = HooksManager;\n\n// src/stats-manager.ts\nvar StatsManager = class extends event_manager_default {\n  enabled = true;\n  hits = 0;\n  misses = 0;\n  sets = 0;\n  deletes = 0;\n  errors = 0;\n  constructor(enabled) {\n    super();\n    if (enabled !== void 0) {\n      this.enabled = enabled;\n    }\n    this.reset();\n  }\n  hit() {\n    if (this.enabled) {\n      this.hits++;\n    }\n  }\n  miss() {\n    if (this.enabled) {\n      this.misses++;\n    }\n  }\n  set() {\n    if (this.enabled) {\n      this.sets++;\n    }\n  }\n  delete() {\n    if (this.enabled) {\n      this.deletes++;\n    }\n  }\n  hitsOrMisses(array) {\n    for (const item of array) {\n      if (item === void 0) {\n        this.miss();\n      } else {\n        this.hit();\n      }\n    }\n  }\n  reset() {\n    this.hits = 0;\n    this.misses = 0;\n    this.sets = 0;\n    this.deletes = 0;\n    this.errors = 0;\n  }\n};\nvar stats_manager_default = StatsManager;\n\n// src/index.ts\nvar KeyvHooks = /* @__PURE__ */ ((KeyvHooks2) => {\n  KeyvHooks2[\"PRE_SET\"] = \"preSet\";\n  KeyvHooks2[\"POST_SET\"] = \"postSet\";\n  KeyvHooks2[\"PRE_GET\"] = \"preGet\";\n  KeyvHooks2[\"POST_GET\"] = \"postGet\";\n  KeyvHooks2[\"PRE_GET_MANY\"] = \"preGetMany\";\n  KeyvHooks2[\"POST_GET_MANY\"] = \"postGetMany\";\n  KeyvHooks2[\"PRE_GET_RAW\"] = \"preGetRaw\";\n  KeyvHooks2[\"POST_GET_RAW\"] = \"postGetRaw\";\n  KeyvHooks2[\"PRE_GET_MANY_RAW\"] = \"preGetManyRaw\";\n  KeyvHooks2[\"POST_GET_MANY_RAW\"] = \"postGetManyRaw\";\n  KeyvHooks2[\"PRE_DELETE\"] = \"preDelete\";\n  KeyvHooks2[\"POST_DELETE\"] = \"postDelete\";\n  return KeyvHooks2;\n})(KeyvHooks || {});\nvar iterableAdapters = [\n  \"sqlite\",\n  \"postgres\",\n  \"mysql\",\n  \"mongo\",\n  \"redis\",\n  \"valkey\",\n  \"etcd\"\n];\nvar Keyv = class extends event_manager_default {\n  opts;\n  iterator;\n  hooks = new hooks_manager_default();\n  stats = new stats_manager_default(false);\n  /**\n   * Time to live in milliseconds\n   */\n  _ttl;\n  /**\n   * Namespace\n   */\n  _namespace;\n  /**\n   * Store\n   */\n  // biome-ignore lint/suspicious/noExplicitAny: type format\n  _store = /* @__PURE__ */ new Map();\n  _serialize = defaultSerialize;\n  _deserialize = defaultDeserialize;\n  _compression;\n  _useKeyPrefix = true;\n  _throwOnErrors = false;\n  /**\n   * Keyv Constructor\n   * @param {KeyvStoreAdapter | KeyvOptions} store\n   * @param {Omit<KeyvOptions, 'store'>} [options] if you provide the store you can then provide the Keyv Options\n   */\n  constructor(store, options) {\n    super();\n    options ??= {};\n    store ??= {};\n    this.opts = {\n      namespace: \"keyv\",\n      serialize: defaultSerialize,\n      deserialize: defaultDeserialize,\n      emitErrors: true,\n      // @ts-expect-error - Map is not a KeyvStoreAdapter\n      store: /* @__PURE__ */ new Map(),\n      ...options\n    };\n    if (store && store.get) {\n      this.opts.store = store;\n    } else {\n      this.opts = {\n        ...this.opts,\n        ...store\n      };\n    }\n    this._store = this.opts.store ?? /* @__PURE__ */ new Map();\n    this._compression = this.opts.compression;\n    this._serialize = this.opts.serialize;\n    this._deserialize = this.opts.deserialize;\n    if (this.opts.namespace) {\n      this._namespace = this.opts.namespace;\n    }\n    if (this._store) {\n      if (!this._isValidStorageAdapter(this._store)) {\n        throw new Error(\"Invalid storage adapter\");\n      }\n      if (typeof this._store.on === \"function\") {\n        this._store.on(\"error\", (error) => this.emit(\"error\", error));\n      }\n      this._store.namespace = this._namespace;\n      if (typeof this._store[Symbol.iterator] === \"function\" && this._store instanceof Map) {\n        this.iterator = this.generateIterator(\n          this._store\n        );\n      } else if (\"iterator\" in this._store && this._store.opts && this._checkIterableAdapter()) {\n        this.iterator = this.generateIterator(\n          // biome-ignore lint/style/noNonNullAssertion: need to fix\n          this._store.iterator.bind(this._store)\n        );\n      }\n    }\n    if (this.opts.stats) {\n      this.stats.enabled = this.opts.stats;\n    }\n    if (this.opts.ttl) {\n      this._ttl = this.opts.ttl;\n    }\n    if (this.opts.useKeyPrefix !== void 0) {\n      this._useKeyPrefix = this.opts.useKeyPrefix;\n    }\n    if (this.opts.throwOnErrors !== void 0) {\n      this._throwOnErrors = this.opts.throwOnErrors;\n    }\n  }\n  /**\n   * Get the current store\n   */\n  // biome-ignore lint/suspicious/noExplicitAny: type format\n  get store() {\n    return this._store;\n  }\n  /**\n   * Set the current store. This will also set the namespace, event error handler, and generate the iterator. If the store is not valid it will throw an error.\n   * @param {KeyvStoreAdapter | Map<any, any> | any} store the store to set\n   */\n  // biome-ignore lint/suspicious/noExplicitAny: type format\n  set store(store) {\n    if (this._isValidStorageAdapter(store)) {\n      this._store = store;\n      this.opts.store = store;\n      if (typeof store.on === \"function\") {\n        store.on(\"error\", (error) => this.emit(\"error\", error));\n      }\n      if (this._namespace) {\n        this._store.namespace = this._namespace;\n      }\n      if (typeof store[Symbol.iterator] === \"function\" && store instanceof Map) {\n        this.iterator = this.generateIterator(\n          store\n        );\n      } else if (\"iterator\" in store && store.opts && this._checkIterableAdapter()) {\n        this.iterator = this.generateIterator(store.iterator?.bind(store));\n      }\n    } else {\n      throw new Error(\"Invalid storage adapter\");\n    }\n  }\n  /**\n   * Get the current compression function\n   * @returns {CompressionAdapter} The current compression function\n   */\n  get compression() {\n    return this._compression;\n  }\n  /**\n   * Set the current compression function\n   * @param {CompressionAdapter} compress The compression function to set\n   */\n  set compression(compress) {\n    this._compression = compress;\n  }\n  /**\n   * Get the current namespace.\n   * @returns {string | undefined} The current namespace.\n   */\n  get namespace() {\n    return this._namespace;\n  }\n  /**\n   * Set the current namespace.\n   * @param {string | undefined} namespace The namespace to set.\n   */\n  set namespace(namespace) {\n    this._namespace = namespace;\n    this.opts.namespace = namespace;\n    this._store.namespace = namespace;\n    if (this.opts.store) {\n      this.opts.store.namespace = namespace;\n    }\n  }\n  /**\n   * Get the current TTL.\n   * @returns {number} The current TTL.\n   */\n  get ttl() {\n    return this._ttl;\n  }\n  /**\n   * Set the current TTL.\n   * @param {number} ttl The TTL to set.\n   */\n  set ttl(ttl) {\n    this.opts.ttl = ttl;\n    this._ttl = ttl;\n  }\n  /**\n   * Get the current serialize function.\n   * @returns {Serialize} The current serialize function.\n   */\n  get serialize() {\n    return this._serialize;\n  }\n  /**\n   * Set the current serialize function.\n   * @param {Serialize} serialize The serialize function to set.\n   */\n  set serialize(serialize) {\n    this.opts.serialize = serialize;\n    this._serialize = serialize;\n  }\n  /**\n   * Get the current deserialize function.\n   * @returns {Deserialize} The current deserialize function.\n   */\n  get deserialize() {\n    return this._deserialize;\n  }\n  /**\n   * Set the current deserialize function.\n   * @param {Deserialize} deserialize The deserialize function to set.\n   */\n  set deserialize(deserialize) {\n    this.opts.deserialize = deserialize;\n    this._deserialize = deserialize;\n  }\n  /**\n   * Get the current useKeyPrefix value. This will enable or disable key prefixing.\n   * @returns {boolean} The current useKeyPrefix value.\n   * @default true\n   */\n  get useKeyPrefix() {\n    return this._useKeyPrefix;\n  }\n  /**\n   * Set the current useKeyPrefix value. This will enable or disable key prefixing.\n   * @param {boolean} value The useKeyPrefix value to set.\n   */\n  set useKeyPrefix(value) {\n    this._useKeyPrefix = value;\n    this.opts.useKeyPrefix = value;\n  }\n  /**\n   * Get the current throwErrors value. This will enable or disable throwing errors on methods in addition to emitting them.\n   * @return {boolean} The current throwOnErrors value.\n   */\n  get throwOnErrors() {\n    return this._throwOnErrors;\n  }\n  /**\n   * Set the current throwOnErrors value. This will enable or disable throwing errors on methods in addition to emitting them.\n   * @param {boolean} value The throwOnErrors value to set.\n   */\n  set throwOnErrors(value) {\n    this._throwOnErrors = value;\n    this.opts.throwOnErrors = value;\n  }\n  generateIterator(iterator) {\n    const function_ = async function* () {\n      for await (const [key, raw] of typeof iterator === \"function\" ? iterator(this._store.namespace) : iterator) {\n        const data = await this.deserializeData(raw);\n        if (this._useKeyPrefix && this._store.namespace && !key.includes(this._store.namespace)) {\n          continue;\n        }\n        if (typeof data.expires === \"number\" && Date.now() > data.expires) {\n          this.delete(key);\n          continue;\n        }\n        yield [this._getKeyUnprefix(key), data.value];\n      }\n    };\n    return function_.bind(this);\n  }\n  _checkIterableAdapter() {\n    return iterableAdapters.includes(this._store.opts.dialect) || iterableAdapters.some(\n      (element) => this._store.opts.url.includes(element)\n    );\n  }\n  _getKeyPrefix(key) {\n    if (!this._useKeyPrefix) {\n      return key;\n    }\n    if (!this._namespace) {\n      return key;\n    }\n    return `${this._namespace}:${key}`;\n  }\n  _getKeyPrefixArray(keys) {\n    if (!this._useKeyPrefix) {\n      return keys;\n    }\n    if (!this._namespace) {\n      return keys;\n    }\n    return keys.map((key) => `${this._namespace}:${key}`);\n  }\n  _getKeyUnprefix(key) {\n    if (!this._useKeyPrefix) {\n      return key;\n    }\n    return key.split(\":\").splice(1).join(\":\");\n  }\n  // biome-ignore lint/suspicious/noExplicitAny: type format\n  _isValidStorageAdapter(store) {\n    return store instanceof Map || typeof store.get === \"function\" && typeof store.set === \"function\" && typeof store.delete === \"function\" && typeof store.clear === \"function\";\n  }\n  // eslint-disable-next-line @stylistic/max-len\n  async get(key, options) {\n    const { store } = this.opts;\n    const isArray = Array.isArray(key);\n    const keyPrefixed = isArray ? this._getKeyPrefixArray(key) : this._getKeyPrefix(key);\n    const isDataExpired = (data) => typeof data.expires === \"number\" && Date.now() > data.expires;\n    if (isArray) {\n      if (options?.raw === true) {\n        return this.getMany(key, { raw: true });\n      }\n      return this.getMany(key, { raw: false });\n    }\n    this.hooks.trigger(\"preGet\" /* PRE_GET */, { key: keyPrefixed });\n    let rawData;\n    try {\n      rawData = await store.get(keyPrefixed);\n    } catch (error) {\n      if (this.throwOnErrors) {\n        throw error;\n      }\n    }\n    const deserializedData = typeof rawData === \"string\" || this.opts.compression ? await this.deserializeData(rawData) : rawData;\n    if (deserializedData === void 0 || deserializedData === null) {\n      this.stats.miss();\n      return void 0;\n    }\n    if (isDataExpired(deserializedData)) {\n      await this.delete(key);\n      this.stats.miss();\n      return void 0;\n    }\n    this.hooks.trigger(\"postGet\" /* POST_GET */, {\n      key: keyPrefixed,\n      value: deserializedData\n    });\n    this.stats.hit();\n    return options?.raw ? deserializedData : deserializedData.value;\n  }\n  async getMany(keys, options) {\n    const { store } = this.opts;\n    const keyPrefixed = this._getKeyPrefixArray(keys);\n    const isDataExpired = (data) => typeof data.expires === \"number\" && Date.now() > data.expires;\n    this.hooks.trigger(\"preGetMany\" /* PRE_GET_MANY */, { keys: keyPrefixed });\n    if (store.getMany === void 0) {\n      const promises = keyPrefixed.map(async (key) => {\n        const rawData2 = await store.get(key);\n        const deserializedRow = typeof rawData2 === \"string\" || this.opts.compression ? await this.deserializeData(rawData2) : rawData2;\n        if (deserializedRow === void 0 || deserializedRow === null) {\n          return void 0;\n        }\n        if (isDataExpired(deserializedRow)) {\n          await this.delete(key);\n          return void 0;\n        }\n        return options?.raw ? deserializedRow : deserializedRow.value;\n      });\n      const deserializedRows = await Promise.allSettled(promises);\n      const result2 = deserializedRows.map(\n        // biome-ignore lint/suspicious/noExplicitAny: type format\n        (row) => row.value\n      );\n      this.hooks.trigger(\"postGetMany\" /* POST_GET_MANY */, result2);\n      if (result2.length > 0) {\n        this.stats.hit();\n      }\n      return result2;\n    }\n    const rawData = await store.getMany(keyPrefixed);\n    const result = [];\n    const expiredKeys = [];\n    for (const index in rawData) {\n      let row = rawData[index];\n      if (typeof row === \"string\") {\n        row = await this.deserializeData(row);\n      }\n      if (row === void 0 || row === null) {\n        result.push(void 0);\n        continue;\n      }\n      if (isDataExpired(row)) {\n        expiredKeys.push(keys[index]);\n        result.push(void 0);\n        continue;\n      }\n      const value = options?.raw ? row : row.value;\n      result.push(value);\n    }\n    if (expiredKeys.length > 0) {\n      await this.deleteMany(expiredKeys);\n    }\n    this.hooks.trigger(\"postGetMany\" /* POST_GET_MANY */, result);\n    if (result.length > 0) {\n      this.stats.hit();\n    }\n    return result;\n  }\n  /**\n   * Get the raw value of a key. This is the replacement for setting raw to true in the get() method.\n   * @param {string} key the key to get\n   * @returns {Promise<StoredDataRaw<Value> | undefined>} will return a StoredDataRaw<Value> or undefined if the key does not exist or is expired.\n   */\n  async getRaw(key) {\n    const { store } = this.opts;\n    const keyPrefixed = this._getKeyPrefix(key);\n    this.hooks.trigger(\"preGetRaw\" /* PRE_GET_RAW */, { key: keyPrefixed });\n    const rawData = await store.get(keyPrefixed);\n    if (rawData === void 0 || rawData === null) {\n      this.stats.miss();\n      return void 0;\n    }\n    const deserializedData = typeof rawData === \"string\" || this.opts.compression ? await this.deserializeData(rawData) : rawData;\n    if (deserializedData !== void 0 && deserializedData.expires !== void 0 && deserializedData.expires !== null && // biome-ignore lint/style/noNonNullAssertion: need to fix\n    deserializedData.expires < Date.now()) {\n      this.stats.miss();\n      await this.delete(key);\n      return void 0;\n    }\n    this.stats.hit();\n    this.hooks.trigger(\"postGetRaw\" /* POST_GET_RAW */, {\n      key: keyPrefixed,\n      value: deserializedData\n    });\n    return deserializedData;\n  }\n  /**\n   * Get the raw values of many keys. This is the replacement for setting raw to true in the getMany() method.\n   * @param {string[]} keys the keys to get\n   * @returns {Promise<Array<StoredDataRaw<Value>>>} will return an array of StoredDataRaw<Value> or undefined if the key does not exist or is expired.\n   */\n  async getManyRaw(keys) {\n    const { store } = this.opts;\n    const keyPrefixed = this._getKeyPrefixArray(keys);\n    if (keys.length === 0) {\n      const result2 = Array.from({ length: keys.length }).fill(\n        void 0\n      );\n      this.stats.misses += keys.length;\n      this.hooks.trigger(\"postGetManyRaw\" /* POST_GET_MANY_RAW */, {\n        keys: keyPrefixed,\n        values: result2\n      });\n      return result2;\n    }\n    let result = [];\n    if (store.getMany === void 0) {\n      const promises = keyPrefixed.map(async (key) => {\n        const rawData = await store.get(key);\n        if (rawData !== void 0 && rawData !== null) {\n          return this.deserializeData(rawData);\n        }\n        return void 0;\n      });\n      const deserializedRows = await Promise.allSettled(promises);\n      result = deserializedRows.map(\n        // biome-ignore lint/suspicious/noExplicitAny: type format\n        (row) => row.value\n      );\n    } else {\n      const rawData = await store.getMany(keyPrefixed);\n      for (const row of rawData) {\n        if (row !== void 0 && row !== null) {\n          result.push(await this.deserializeData(row));\n        } else {\n          result.push(void 0);\n        }\n      }\n    }\n    const expiredKeys = [];\n    const isDataExpired = (data) => typeof data.expires === \"number\" && Date.now() > data.expires;\n    for (const [index, row] of result.entries()) {\n      if (row !== void 0 && isDataExpired(row)) {\n        expiredKeys.push(keyPrefixed[index]);\n        result[index] = void 0;\n      }\n    }\n    if (expiredKeys.length > 0) {\n      await this.deleteMany(expiredKeys);\n    }\n    this.stats.hitsOrMisses(result);\n    this.hooks.trigger(\"postGetManyRaw\" /* POST_GET_MANY_RAW */, {\n      keys: keyPrefixed,\n      values: result\n    });\n    return result;\n  }\n  /**\n   * Set an item to the store\n   * @param {string | Array<KeyvEntry>} key the key to use. If you pass in an array of KeyvEntry it will set many items\n   * @param {Value} value the value of the key\n   * @param {number} [ttl] time to live in milliseconds\n   * @returns {boolean} if it sets then it will return a true. On failure will return false.\n   */\n  async set(key, value, ttl) {\n    const data = { key, value, ttl };\n    this.hooks.trigger(\"preSet\" /* PRE_SET */, data);\n    const keyPrefixed = this._getKeyPrefix(data.key);\n    data.ttl ??= this._ttl;\n    if (data.ttl === 0) {\n      data.ttl = void 0;\n    }\n    const { store } = this.opts;\n    const expires = typeof data.ttl === \"number\" ? Date.now() + data.ttl : void 0;\n    if (typeof data.value === \"symbol\") {\n      this.emit(\"error\", \"symbol cannot be serialized\");\n      throw new Error(\"symbol cannot be serialized\");\n    }\n    const formattedValue = { value: data.value, expires };\n    const serializedValue = await this.serializeData(formattedValue);\n    let result = true;\n    try {\n      const value2 = await store.set(keyPrefixed, serializedValue, data.ttl);\n      if (typeof value2 === \"boolean\") {\n        result = value2;\n      }\n    } catch (error) {\n      result = false;\n      this.emit(\"error\", error);\n      if (this._throwOnErrors) {\n        throw error;\n      }\n    }\n    this.hooks.trigger(\"postSet\" /* POST_SET */, {\n      key: keyPrefixed,\n      value: serializedValue,\n      ttl\n    });\n    this.stats.set();\n    return result;\n  }\n  /**\n   * Set many items to the store\n   * @param {Array<KeyvEntry>} entries the entries to set\n   * @returns {boolean[]} will return an array of booleans if it sets then it will return a true. On failure will return false.\n   */\n  // biome-ignore lint/correctness/noUnusedVariables: type format\n  async setMany(entries) {\n    let results = [];\n    try {\n      if (this._store.setMany === void 0) {\n        const promises = [];\n        for (const entry of entries) {\n          promises.push(this.set(entry.key, entry.value, entry.ttl));\n        }\n        const promiseResults = await Promise.all(promises);\n        results = promiseResults;\n      } else {\n        const serializedEntries = await Promise.all(\n          entries.map(async ({ key, value, ttl }) => {\n            ttl ??= this._ttl;\n            if (ttl === 0) {\n              ttl = void 0;\n            }\n            const expires = typeof ttl === \"number\" ? Date.now() + ttl : void 0;\n            if (typeof value === \"symbol\") {\n              this.emit(\"error\", \"symbol cannot be serialized\");\n              throw new Error(\"symbol cannot be serialized\");\n            }\n            const formattedValue = { value, expires };\n            const serializedValue = await this.serializeData(formattedValue);\n            const keyPrefixed = this._getKeyPrefix(key);\n            return { key: keyPrefixed, value: serializedValue, ttl };\n          })\n        );\n        results = await this._store.setMany(serializedEntries);\n      }\n    } catch (error) {\n      this.emit(\"error\", error);\n      if (this._throwOnErrors) {\n        throw error;\n      }\n      results = entries.map(() => false);\n    }\n    return results;\n  }\n  /**\n   * Delete an Entry\n   * @param {string | string[]} key the key to be deleted. if an array it will delete many items\n   * @returns {boolean} will return true if item or items are deleted. false if there is an error\n   */\n  async delete(key) {\n    const { store } = this.opts;\n    if (Array.isArray(key)) {\n      return this.deleteMany(key);\n    }\n    const keyPrefixed = this._getKeyPrefix(key);\n    this.hooks.trigger(\"preDelete\" /* PRE_DELETE */, { key: keyPrefixed });\n    let result = true;\n    try {\n      const value = await store.delete(keyPrefixed);\n      if (typeof value === \"boolean\") {\n        result = value;\n      }\n    } catch (error) {\n      result = false;\n      this.emit(\"error\", error);\n      if (this._throwOnErrors) {\n        throw error;\n      }\n    }\n    this.hooks.trigger(\"postDelete\" /* POST_DELETE */, {\n      key: keyPrefixed,\n      value: result\n    });\n    this.stats.delete();\n    return result;\n  }\n  /**\n   * Delete many items from the store\n   * @param {string[]} keys the keys to be deleted\n   * @returns {boolean} will return true if item or items are deleted. false if there is an error\n   */\n  async deleteMany(keys) {\n    try {\n      const { store } = this.opts;\n      const keyPrefixed = this._getKeyPrefixArray(keys);\n      this.hooks.trigger(\"preDelete\" /* PRE_DELETE */, { key: keyPrefixed });\n      if (store.deleteMany !== void 0) {\n        return await store.deleteMany(keyPrefixed);\n      }\n      const promises = keyPrefixed.map(async (key) => store.delete(key));\n      const results = await Promise.all(promises);\n      const returnResult = results.every(Boolean);\n      this.hooks.trigger(\"postDelete\" /* POST_DELETE */, {\n        key: keyPrefixed,\n        value: returnResult\n      });\n      return returnResult;\n    } catch (error) {\n      this.emit(\"error\", error);\n      if (this._throwOnErrors) {\n        throw error;\n      }\n      return false;\n    }\n  }\n  /**\n   * Clear the store\n   * @returns {void}\n   */\n  async clear() {\n    this.emit(\"clear\");\n    const { store } = this.opts;\n    try {\n      await store.clear();\n    } catch (error) {\n      this.emit(\"error\", error);\n      if (this._throwOnErrors) {\n        throw error;\n      }\n    }\n  }\n  async has(key) {\n    if (Array.isArray(key)) {\n      return this.hasMany(key);\n    }\n    const keyPrefixed = this._getKeyPrefix(key);\n    const { store } = this.opts;\n    if (store.has !== void 0 && !(store instanceof Map)) {\n      return store.has(keyPrefixed);\n    }\n    let rawData;\n    try {\n      rawData = await store.get(keyPrefixed);\n    } catch (error) {\n      this.emit(\"error\", error);\n      if (this._throwOnErrors) {\n        throw error;\n      }\n      return false;\n    }\n    if (rawData) {\n      const data = await this.deserializeData(rawData);\n      if (data) {\n        if (data.expires === void 0 || data.expires === null) {\n          return true;\n        }\n        return data.expires > Date.now();\n      }\n    }\n    return false;\n  }\n  /**\n   * Check if many keys exist\n   * @param {string[]} keys the keys to check\n   * @returns {boolean[]} will return an array of booleans if the keys exist\n   */\n  async hasMany(keys) {\n    const keyPrefixed = this._getKeyPrefixArray(keys);\n    const { store } = this.opts;\n    if (store.hasMany !== void 0) {\n      return store.hasMany(keyPrefixed);\n    }\n    const results = [];\n    for (const key of keys) {\n      results.push(await this.has(key));\n    }\n    return results;\n  }\n  /**\n   * Will disconnect the store. This is only available if the store has a disconnect method\n   * @returns {Promise<void>}\n   */\n  async disconnect() {\n    const { store } = this.opts;\n    this.emit(\"disconnect\");\n    if (typeof store.disconnect === \"function\") {\n      return store.disconnect();\n    }\n  }\n  // biome-ignore lint/suspicious/noExplicitAny: type format\n  emit(event, ...arguments_) {\n    if (event === \"error\" && !this.opts.emitErrors) {\n      return;\n    }\n    super.emit(event, ...arguments_);\n  }\n  async serializeData(data) {\n    if (!this._serialize) {\n      return data;\n    }\n    if (this._compression?.compress) {\n      return this._serialize({\n        value: await this._compression.compress(data.value),\n        expires: data.expires\n      });\n    }\n    return this._serialize(data);\n  }\n  async deserializeData(data) {\n    if (!this._deserialize) {\n      return data;\n    }\n    if (this._compression?.decompress && typeof data === \"string\") {\n      const result = await this._deserialize(data);\n      return {\n        value: await this._compression.decompress(result?.value),\n        expires: result?.expires\n      };\n    }\n    if (typeof data === \"string\") {\n      return this._deserialize(data);\n    }\n    return void 0;\n  }\n};\nvar index_default = Keyv;\nexport {\n  Keyv,\n  KeyvHooks,\n  index_default as default\n};\n", "// We define these manually to ensure they're always copied\n// even if they would move up the prototype chain\n// https://nodejs.org/api/http.html#http_class_http_incomingmessage\nconst knownProperties = [\n\t'aborted',\n\t'complete',\n\t'headers',\n\t'httpVersion',\n\t'httpVersionMinor',\n\t'httpVersionMajor',\n\t'method',\n\t'rawHeaders',\n\t'rawTrailers',\n\t'setTimeout',\n\t'socket',\n\t'statusCode',\n\t'statusMessage',\n\t'trailers',\n\t'url',\n];\n\nexport default function mimicResponse(fromStream, toStream) {\n\tif (toStream._readableState.autoDestroy) {\n\t\tthrow new Error('The second stream must have the `autoDestroy` option set to `false`');\n\t}\n\n\tconst fromProperties = new Set([...Object.keys(fromStream), ...knownProperties]);\n\n\tconst properties = {};\n\n\tfor (const property of fromProperties) {\n\t\t// Don't overwrite existing properties.\n\t\tif (property in toStream) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tproperties[property] = {\n\t\t\tget() {\n\t\t\t\tconst value = fromStream[property];\n\t\t\t\tconst isFunction = typeof value === 'function';\n\n\t\t\t\treturn isFunction ? value.bind(fromStream) : value;\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tfromStream[property] = value;\n\t\t\t},\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t};\n\t}\n\n\tObject.defineProperties(toStream, properties);\n\n\tfromStream.once('aborted', () => {\n\t\ttoStream.destroy();\n\n\t\ttoStream.emit('aborted');\n\t});\n\n\tfromStream.once('close', () => {\n\t\tif (fromStream.complete) {\n\t\t\tif (toStream.readable) {\n\t\t\t\ttoStream.once('end', () => {\n\t\t\t\t\ttoStream.emit('close');\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\ttoStream.emit('close');\n\t\t\t}\n\t\t} else {\n\t\t\ttoStream.emit('close');\n\t\t}\n\t});\n\n\treturn toStream;\n}\n", "// https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\nconst DATA_URL_DEFAULT_MIME_TYPE = 'text/plain';\nconst DATA_URL_DEFAULT_CHARSET = 'us-ascii';\n\nconst testParameter = (name, filters) => filters.some(filter => filter instanceof RegExp ? filter.test(name) : filter === name);\n\nconst supportedProtocols = new Set([\n\t'https:',\n\t'http:',\n\t'file:',\n]);\n\nconst hasCustomProtocol = urlString => {\n\ttry {\n\t\tconst {protocol} = new URL(urlString);\n\n\t\treturn protocol.endsWith(':')\n\t\t\t&& !protocol.includes('.')\n\t\t\t&& !supportedProtocols.has(protocol);\n\t} catch {\n\t\treturn false;\n\t}\n};\n\nconst normalizeDataURL = (urlString, {stripHash}) => {\n\tconst match = /^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(urlString);\n\n\tif (!match) {\n\t\tthrow new Error(`Invalid URL: ${urlString}`);\n\t}\n\n\tlet {type, data, hash} = match.groups;\n\tconst mediaType = type.split(';');\n\thash = stripHash ? '' : hash;\n\n\tlet isBase64 = false;\n\tif (mediaType[mediaType.length - 1] === 'base64') {\n\t\tmediaType.pop();\n\t\tisBase64 = true;\n\t}\n\n\t// Lowercase MIME type\n\tconst mimeType = mediaType.shift()?.toLowerCase() ?? '';\n\tconst attributes = mediaType\n\t\t.map(attribute => {\n\t\t\tlet [key, value = ''] = attribute.split('=').map(string => string.trim());\n\n\t\t\t// Lowercase `charset`\n\t\t\tif (key === 'charset') {\n\t\t\t\tvalue = value.toLowerCase();\n\n\t\t\t\tif (value === DATA_URL_DEFAULT_CHARSET) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn `${key}${value ? `=${value}` : ''}`;\n\t\t})\n\t\t.filter(Boolean);\n\n\tconst normalizedMediaType = [\n\t\t...attributes,\n\t];\n\n\tif (isBase64) {\n\t\tnormalizedMediaType.push('base64');\n\t}\n\n\tif (normalizedMediaType.length > 0 || (mimeType && mimeType !== DATA_URL_DEFAULT_MIME_TYPE)) {\n\t\tnormalizedMediaType.unshift(mimeType);\n\t}\n\n\treturn `data:${normalizedMediaType.join(';')},${isBase64 ? data.trim() : data}${hash ? `#${hash}` : ''}`;\n};\n\nexport default function normalizeUrl(urlString, options) {\n\toptions = {\n\t\tdefaultProtocol: 'http',\n\t\tnormalizeProtocol: true,\n\t\tforceHttp: false,\n\t\tforceHttps: false,\n\t\tstripAuthentication: true,\n\t\tstripHash: false,\n\t\tstripTextFragment: true,\n\t\tstripWWW: true,\n\t\tremoveQueryParameters: [/^utm_\\w+/i],\n\t\tremoveTrailingSlash: true,\n\t\tremoveSingleSlash: true,\n\t\tremoveDirectoryIndex: false,\n\t\tremoveExplicitPort: false,\n\t\tsortQueryParameters: true,\n\t\tremovePath: false,\n\t\ttransformPath: false,\n\t\t...options,\n\t};\n\n\t// Legacy: Append `:` to the protocol if missing.\n\tif (typeof options.defaultProtocol === 'string' && !options.defaultProtocol.endsWith(':')) {\n\t\toptions.defaultProtocol = `${options.defaultProtocol}:`;\n\t}\n\n\turlString = urlString.trim();\n\n\t// Data URL\n\tif (/^data:/i.test(urlString)) {\n\t\treturn normalizeDataURL(urlString, options);\n\t}\n\n\tif (hasCustomProtocol(urlString)) {\n\t\treturn urlString;\n\t}\n\n\tconst hasRelativeProtocol = urlString.startsWith('//');\n\tconst isRelativeUrl = !hasRelativeProtocol && /^\\.*\\//.test(urlString);\n\n\t// Prepend protocol\n\tif (!isRelativeUrl) {\n\t\turlString = urlString.replace(/^(?!(?:\\w+:)?\\/\\/)|^\\/\\//, options.defaultProtocol);\n\t}\n\n\tconst urlObject = new URL(urlString);\n\n\tif (options.forceHttp && options.forceHttps) {\n\t\tthrow new Error('The `forceHttp` and `forceHttps` options cannot be used together');\n\t}\n\n\tif (options.forceHttp && urlObject.protocol === 'https:') {\n\t\turlObject.protocol = 'http:';\n\t}\n\n\tif (options.forceHttps && urlObject.protocol === 'http:') {\n\t\turlObject.protocol = 'https:';\n\t}\n\n\t// Remove auth\n\tif (options.stripAuthentication) {\n\t\turlObject.username = '';\n\t\turlObject.password = '';\n\t}\n\n\t// Remove hash\n\tif (options.stripHash) {\n\t\turlObject.hash = '';\n\t} else if (options.stripTextFragment) {\n\t\turlObject.hash = urlObject.hash.replace(/#?:~:text.*?$/i, '');\n\t}\n\n\t// Remove duplicate slashes if not preceded by a protocol\n\t// NOTE: This could be implemented using a single negative lookbehind\n\t// regex, but we avoid that to maintain compatibility with older js engines\n\t// which do not have support for that feature.\n\tif (urlObject.pathname) {\n\t\t// TODO: Replace everything below with `urlObject.pathname = urlObject.pathname.replace(/(?<!\\b[a-z][a-z\\d+\\-.]{1,50}:)\\/{2,}/g, '/');` when Safari supports negative lookbehind.\n\n\t\t// Split the string by occurrences of this protocol regex, and perform\n\t\t// duplicate-slash replacement on the strings between those occurrences\n\t\t// (if any).\n\t\tconst protocolRegex = /\\b[a-z][a-z\\d+\\-.]{1,50}:\\/\\//g;\n\n\t\tlet lastIndex = 0;\n\t\tlet result = '';\n\t\tfor (;;) {\n\t\t\tconst match = protocolRegex.exec(urlObject.pathname);\n\t\t\tif (!match) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst protocol = match[0];\n\t\t\tconst protocolAtIndex = match.index;\n\t\t\tconst intermediate = urlObject.pathname.slice(lastIndex, protocolAtIndex);\n\n\t\t\tresult += intermediate.replace(/\\/{2,}/g, '/');\n\t\t\tresult += protocol;\n\t\t\tlastIndex = protocolAtIndex + protocol.length;\n\t\t}\n\n\t\tconst remnant = urlObject.pathname.slice(lastIndex, urlObject.pathname.length);\n\t\tresult += remnant.replace(/\\/{2,}/g, '/');\n\n\t\turlObject.pathname = result;\n\t}\n\n\t// Decode URI octets\n\tif (urlObject.pathname) {\n\t\ttry {\n\t\t\turlObject.pathname = decodeURI(urlObject.pathname).replace(/\\\\/g, '%5C');\n\t\t} catch {}\n\t}\n\n\t// Remove directory index\n\tif (options.removeDirectoryIndex === true) {\n\t\toptions.removeDirectoryIndex = [/^index\\.[a-z]+$/];\n\t}\n\n\tif (Array.isArray(options.removeDirectoryIndex) && options.removeDirectoryIndex.length > 0) {\n\t\tlet pathComponents = urlObject.pathname.split('/');\n\t\tconst lastComponent = pathComponents[pathComponents.length - 1];\n\n\t\tif (testParameter(lastComponent, options.removeDirectoryIndex)) {\n\t\t\tpathComponents = pathComponents.slice(0, -1);\n\t\t\turlObject.pathname = pathComponents.slice(1).join('/') + '/';\n\t\t}\n\t}\n\n\t// Remove path\n\tif (options.removePath) {\n\t\turlObject.pathname = '/';\n\t}\n\n\t// Transform path components\n\tif (options.transformPath && typeof options.transformPath === 'function') {\n\t\tconst pathComponents = urlObject.pathname.split('/').filter(Boolean);\n\t\tconst newComponents = options.transformPath(pathComponents);\n\t\turlObject.pathname = newComponents?.length > 0 ? `/${newComponents.join('/')}` : '/';\n\t}\n\n\tif (urlObject.hostname) {\n\t\t// Remove trailing dot\n\t\turlObject.hostname = urlObject.hostname.replace(/\\.$/, '');\n\n\t\t// Remove `www.`\n\t\tif (options.stripWWW && /^www\\.(?!www\\.)[a-z\\-\\d]{1,63}\\.[a-z.\\-\\d]{2,63}$/.test(urlObject.hostname)) {\n\t\t\t// Each label should be max 63 at length (min: 1).\n\t\t\t// Source: https://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_host_names\n\t\t\t// Each TLD should be up to 63 characters long (min: 2).\n\t\t\t// It is technically possible to have a single character TLD, but none currently exist.\n\t\t\turlObject.hostname = urlObject.hostname.replace(/^www\\./, '');\n\t\t}\n\t}\n\n\t// Remove query unwanted parameters\n\tif (Array.isArray(options.removeQueryParameters)) {\n\t\t// eslint-disable-next-line unicorn/no-useless-spread -- We are intentionally spreading to get a copy.\n\t\tfor (const key of [...urlObject.searchParams.keys()]) {\n\t\t\tif (testParameter(key, options.removeQueryParameters)) {\n\t\t\t\turlObject.searchParams.delete(key);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!Array.isArray(options.keepQueryParameters) && options.removeQueryParameters === true) {\n\t\turlObject.search = '';\n\t}\n\n\t// Keep wanted query parameters\n\tif (Array.isArray(options.keepQueryParameters) && options.keepQueryParameters.length > 0) {\n\t\t// eslint-disable-next-line unicorn/no-useless-spread -- We are intentionally spreading to get a copy.\n\t\tfor (const key of [...urlObject.searchParams.keys()]) {\n\t\t\tif (!testParameter(key, options.keepQueryParameters)) {\n\t\t\t\turlObject.searchParams.delete(key);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Sort query parameters\n\tif (options.sortQueryParameters) {\n\t\tconst originalSearch = urlObject.search;\n\t\turlObject.searchParams.sort();\n\n\t\t// Calling `.sort()` encodes the search parameters, so we need to decode them again.\n\t\ttry {\n\t\t\turlObject.search = decodeURIComponent(urlObject.search);\n\t\t} catch {}\n\n\t\t// Fix parameters that originally had no equals sign but got one added by URLSearchParams\n\t\tconst partsWithoutEquals = originalSearch.slice(1).split('&').filter(p => p && !p.includes('='));\n\t\tfor (const part of partsWithoutEquals) {\n\t\t\tconst decoded = decodeURIComponent(part);\n\t\t\t// Only replace at word boundaries to avoid partial matches\n\t\t\turlObject.search = urlObject.search.replace(`?${decoded}=`, `?${decoded}`).replace(`&${decoded}=`, `&${decoded}`);\n\t\t}\n\t}\n\n\tif (options.removeTrailingSlash) {\n\t\turlObject.pathname = urlObject.pathname.replace(/\\/$/, '');\n\t}\n\n\t// Remove an explicit port number, excluding a default port number, if applicable\n\tif (options.removeExplicitPort && urlObject.port) {\n\t\turlObject.port = '';\n\t}\n\n\tconst oldUrlString = urlString;\n\n\t// Take advantage of many of the Node `url` normalizations\n\turlString = urlObject.toString();\n\n\tif (!options.removeSingleSlash && urlObject.pathname === '/' && !oldUrlString.endsWith('/') && urlObject.hash === '') {\n\t\turlString = urlString.replace(/\\/$/, '');\n\t}\n\n\t// Remove ending `/` unless removeSingleSlash is false\n\tif ((options.removeTrailingSlash || urlObject.pathname === '/') && urlObject.hash === '' && options.removeSingleSlash) {\n\t\turlString = urlString.replace(/\\/$/, '');\n\t}\n\n\t// Restore relative protocol, if applicable\n\tif (hasRelativeProtocol && !options.normalizeProtocol) {\n\t\turlString = urlString.replace(/^http:\\/\\//, '//');\n\t}\n\n\t// Remove http/https\n\tif (options.stripProtocol) {\n\t\turlString = urlString.replace(/^(?:https?:)?\\/\\//, '');\n\t}\n\n\treturn urlString;\n}\n", "import {Readable as ReadableStream} from 'node:stream';\nimport lowercaseKeys from 'lowercase-keys';\n\nexport default class Response extends ReadableStream {\n\tstatusCode;\n\theaders;\n\tbody;\n\turl;\n\tcomplete;\n\n\tconstructor({statusCode, headers, body, url}) {\n\t\tif (typeof statusCode !== 'number') {\n\t\t\tthrow new TypeError('Argument `statusCode` should be a number');\n\t\t}\n\n\t\tif (typeof headers !== 'object') {\n\t\t\tthrow new TypeError('Argument `headers` should be an object');\n\t\t}\n\n\t\tif (!(body instanceof Uint8Array)) {\n\t\t\tthrow new TypeError('Argument `body` should be a buffer');\n\t\t}\n\n\t\tif (typeof url !== 'string') {\n\t\t\tthrow new TypeError('Argument `url` should be a string');\n\t\t}\n\n\t\tlet bodyPushed = false;\n\t\tsuper({\n\t\t\tread() {\n\t\t\t\t// Push body on first read, end stream on second read.\n\t\t\t\t// This allows listeners to attach before data flows through pipes.\n\t\t\t\tif (!bodyPushed) {\n\t\t\t\t\tbodyPushed = true;\n\t\t\t\t\tthis.push(body);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.push(null);\n\t\t\t},\n\t\t});\n\n\t\tthis.statusCode = statusCode;\n\t\tthis.headers = lowercaseKeys(headers);\n\t\tthis.body = body;\n\t\tthis.url = url;\n\t\tthis.complete = true;\n\t}\n}\n", "export default function lowercaseKeys(object) {\n\treturn Object.fromEntries(Object.entries(object).map(([key, value]) => [key.toLowerCase(), value]));\n}\n", "// Type definitions for cacheable-request 6.0\n// Project: https://github.com/lukechilds/cacheable-request#readme\n// Definitions by: BendingBender <https://github.com/BendingBender>\n//                 Paul Melnikow <https://github.com/paulmelnikow>\n// Definitions: https://github.com/DefinitelyTyped/DefinitelyTyped\n// TypeScript Version: 2.3\n\n/// <reference types=\"node\" />\n\nimport type { Buffer } from \"node:buffer\";\nimport type { EventEmitter } from \"node:events\";\nimport type {\n\tClientRequest,\n\tRequestOptions,\n\trequest,\n\tServerResponse,\n} from \"node:http\";\nimport type { URL } from \"node:url\";\nimport type { CachePolicyObject } from \"http-cache-semantics\";\nimport type ResponseLike from \"responselike\";\n\nexport type RequestFn = typeof request;\nexport type RequestFunction = typeof request;\nexport type CacheResponse = ServerResponse | typeof ResponseLike;\n\nexport type CacheableRequestFunction = (\n\toptions: CacheableOptions,\n\tcallback?: (response: CacheResponse) => void,\n) => Emitter;\n\nexport type CacheableOptions = (Options & RequestOptions) | string | URL;\n\nexport interface Options {\n\t/**\n\t * If the cache should be used. Setting this to `false` will completely bypass the cache for the current request.\n\t * @default true\n\t */\n\tcache?: boolean | undefined;\n\n\t/**\n\t * If set to `true` once a cached resource has expired it is deleted and will have to be re-requested.\n\t *\n\t * If set to `false`, after a cached resource's TTL expires it is kept in the cache and will be revalidated\n\t * on the next request with `If-None-Match`/`If-Modified-Since` headers.\n\t * @default false\n\t */\n\tstrictTtl?: boolean | undefined;\n\n\t/**\n\t * Limits TTL. The `number` represents milliseconds.\n\t * @default undefined\n\t */\n\tmaxTtl?: number | undefined;\n\n\t/**\n\t * When set to `true`, if the DB connection fails we will automatically fallback to a network request.\n\t * DB errors will still be emitted to notify you of the problem even though the request callback may succeed.\n\t * @default false\n\t */\n\tautomaticFailover?: boolean | undefined;\n\n\t/**\n\t * Forces refreshing the cache. If the response could be retrieved from the cache, it will perform a\n\t * new request and override the cache instead.\n\t * @default false\n\t */\n\tforceRefresh?: boolean | undefined;\n\tremoteAddress?: boolean | undefined;\n\n\turl?: string | undefined;\n\n\theaders?: Record<string, string | string[] | undefined>;\n\n\tbody?: Buffer;\n}\n\n// biome-ignore lint/suspicious/noExplicitAny: type\nexport interface CacheValue extends Record<string, any> {\n\turl: string;\n\tstatusCode: number;\n\tbody: Buffer | string;\n\tcachePolicy: CachePolicyObject;\n}\n\nexport interface Emitter extends EventEmitter {\n\taddListener(\n\t\tevent: \"request\",\n\t\tlistener: (request: ClientRequest) => void,\n\t): this;\n\taddListener(\n\t\tevent: \"response\",\n\t\tlistener: (response: CacheResponse) => void,\n\t): this;\n\taddListener(\n\t\tevent: \"error\",\n\t\tlistener: (error: RequestError | CacheError) => void,\n\t): this;\n\ton(event: \"request\", listener: (request: ClientRequest) => void): this;\n\ton(event: \"response\", listener: (response: CacheResponse) => void): this;\n\ton(\n\t\tevent: \"error\",\n\t\tlistener: (error: RequestError | CacheError) => void,\n\t): this;\n\tonce(event: \"request\", listener: (request: ClientRequest) => void): this;\n\tonce(event: \"response\", listener: (response: CacheResponse) => void): this;\n\tonce(\n\t\tevent: \"error\",\n\t\tlistener: (error: RequestError | CacheError) => void,\n\t): this;\n\tprependListener(\n\t\tevent: \"request\",\n\t\tlistener: (request: ClientRequest) => void,\n\t): this;\n\tprependListener(\n\t\tevent: \"response\",\n\t\tlistener: (response: CacheResponse) => void,\n\t): this;\n\tprependListener(\n\t\tevent: \"error\",\n\t\tlistener: (error: RequestError | CacheError) => void,\n\t): this;\n\tprependOnceListener(\n\t\tevent: \"request\",\n\t\tlistener: (request: ClientRequest) => void,\n\t): this;\n\tprependOnceListener(\n\t\tevent: \"response\",\n\t\tlistener: (response: CacheResponse) => void,\n\t): this;\n\tprependOnceListener(\n\t\tevent: \"error\",\n\t\tlistener: (error: RequestError | CacheError) => void,\n\t): this;\n\tremoveListener(\n\t\tevent: \"request\",\n\t\tlistener: (request: ClientRequest) => void,\n\t): this;\n\tremoveListener(\n\t\tevent: \"response\",\n\t\tlistener: (response: CacheResponse) => void,\n\t): this;\n\tremoveListener(\n\t\tevent: \"error\",\n\t\tlistener: (error: RequestError | CacheError) => void,\n\t): this;\n\toff(event: \"request\", listener: (request: ClientRequest) => void): this;\n\toff(event: \"response\", listener: (response: CacheResponse) => void): this;\n\toff(\n\t\tevent: \"error\",\n\t\tlistener: (error: RequestError | CacheError) => void,\n\t): this;\n\tremoveAllListeners(event?: \"request\" | \"response\" | \"error\"): this;\n\tlisteners(event: \"request\"): Array<(request: ClientRequest) => void>;\n\tlisteners(event: \"response\"): Array<(response: CacheResponse) => void>;\n\tlisteners(event: \"error\"): Array<(error: RequestError | CacheError) => void>;\n\trawListeners(event: \"request\"): Array<(request: ClientRequest) => void>;\n\trawListeners(event: \"response\"): Array<(response: CacheResponse) => void>;\n\trawListeners(\n\t\tevent: \"error\",\n\t): Array<(error: RequestError | CacheError) => void>;\n\temit(event: \"request\", request: ClientRequest): boolean;\n\temit(event: \"response\", response: CacheResponse): boolean;\n\temit(event: \"error\", error: RequestError | CacheError): boolean;\n\teventNames(): Array<\"request\" | \"response\" | \"error\">;\n\tlistenerCount(type: \"request\" | \"response\" | \"error\"): number;\n}\n\nexport class RequestError extends Error {\n\tconstructor(error: Error) {\n\t\tsuper(error.message);\n\t\tObject.defineProperties(this, Object.getOwnPropertyDescriptors(error));\n\t}\n}\n\nexport class CacheError extends Error {\n\tconstructor(error: Error) {\n\t\tsuper(error.message);\n\t\tObject.defineProperties(this, Object.getOwnPropertyDescriptors(error));\n\t}\n}\n\nexport interface UrlOption {\n\tpath: string;\n\tpathname?: string;\n\tsearch?: string;\n}\n", "import {Transform as TransformStream, PassThrough as PassThroughStream} from 'node:stream';\nimport zlib from 'node:zlib';\nimport mimicResponse from 'mimic-response';\n\n// Detect zstd support (available in Node.js >= 22.15.0)\nconst supportsZstd = typeof zlib.createZstdDecompress === 'function';\n\nexport default function decompressResponse(response) {\n\tconst contentEncoding = (response.headers['content-encoding'] || '').toLowerCase();\n\tconst supportedEncodings = ['gzip', 'deflate', 'br'];\n\tif (supportsZstd) {\n\t\tsupportedEncodings.push('zstd');\n\t}\n\n\tif (!supportedEncodings.includes(contentEncoding)) {\n\t\treturn response;\n\t}\n\n\tlet isEmpty = true;\n\n\t// Clone headers to avoid modifying the original response headers\n\tconst headers = {...response.headers};\n\n\tconst finalStream = new PassThroughStream({\n\t\tautoDestroy: false,\n\t});\n\n\t// Only destroy response on error, not on normal completion\n\tfinalStream.once('error', () => {\n\t\tresponse.destroy();\n\t});\n\n\tfunction handleContentEncoding(data) {\n\t\tlet decompressStream;\n\n\t\tif (contentEncoding === 'zstd') {\n\t\t\tdecompressStream = zlib.createZstdDecompress();\n\t\t} else if (contentEncoding === 'br') {\n\t\t\tdecompressStream = zlib.createBrotliDecompress();\n\t\t} else if (contentEncoding === 'deflate' && data.length > 0 && (data[0] & 0x08) === 0) { // eslint-disable-line no-bitwise\n\t\t\tdecompressStream = zlib.createInflateRaw();\n\t\t} else {\n\t\t\tdecompressStream = zlib.createUnzip();\n\t\t}\n\n\t\tdecompressStream.once('error', error => {\n\t\t\tif (isEmpty && !response.readable) {\n\t\t\t\tfinalStream.end();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfinalStream.destroy(error);\n\t\t});\n\n\t\tchecker.pipe(decompressStream).pipe(finalStream);\n\t}\n\n\tconst checker = new TransformStream({\n\t\ttransform(data, _encoding, callback) {\n\t\t\tif (isEmpty === false) {\n\t\t\t\tcallback(null, data);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tisEmpty = false;\n\n\t\t\thandleContentEncoding(data);\n\n\t\t\tcallback(null, data);\n\t\t},\n\n\t\tflush(callback) {\n\t\t\tif (isEmpty) {\n\t\t\t\tfinalStream.end();\n\t\t\t}\n\n\t\t\tcallback();\n\t\t},\n\t});\n\n\tdelete headers['content-encoding'];\n\tdelete headers['content-length'];\n\tfinalStream.headers = headers;\n\n\tmimicResponse(response, finalStream);\n\n\tresponse.pipe(checker);\n\n\treturn finalStream;\n}\n", "var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\n\n// src/util/isFunction.ts\nvar isFunction = (value) => typeof value === \"function\";\n\n// src/util/isAsyncIterable.ts\nvar isAsyncIterable = (value) => isFunction(value[Symbol.asyncIterator]);\n\n// src/util/chunk.ts\nvar MAX_CHUNK_SIZE = 65536;\nfunction* chunk(value) {\n  if (value.byteLength <= MAX_CHUNK_SIZE) {\n    yield value;\n    return;\n  }\n  let offset = 0;\n  while (offset < value.byteLength) {\n    const size = Math.min(value.byteLength - offset, MAX_CHUNK_SIZE);\n    const buffer = value.buffer.slice(offset, offset + size);\n    offset += buffer.byteLength;\n    yield new Uint8Array(buffer);\n  }\n}\n\n// src/util/getStreamIterator.ts\nasync function* readStream(readable) {\n  const reader = readable.getReader();\n  while (true) {\n    const { done, value } = await reader.read();\n    if (done) {\n      break;\n    }\n    yield value;\n  }\n}\nasync function* chunkStream(stream) {\n  for await (const value of stream) {\n    yield* chunk(value);\n  }\n}\nvar getStreamIterator = (source) => {\n  if (isAsyncIterable(source)) {\n    return chunkStream(source);\n  }\n  if (isFunction(source.getReader)) {\n    return chunkStream(readStream(source));\n  }\n  throw new TypeError(\n    \"Unsupported data source: Expected either ReadableStream or async iterable.\"\n  );\n};\n\n// src/util/createBoundary.ts\nvar alphabet = \"abcdefghijklmnopqrstuvwxyz0123456789\";\nfunction createBoundary() {\n  let size = 16;\n  let res = \"\";\n  while (size--) {\n    res += alphabet[Math.random() * alphabet.length << 0];\n  }\n  return res;\n}\n\n// src/util/normalizeValue.ts\nvar normalizeValue = (value) => String(value).replace(/\\r|\\n/g, (match, i, str) => {\n  if (match === \"\\r\" && str[i + 1] !== \"\\n\" || match === \"\\n\" && str[i - 1] !== \"\\r\") {\n    return \"\\r\\n\";\n  }\n  return match;\n});\n\n// src/util/isPlainObject.ts\nvar getType = (value) => Object.prototype.toString.call(value).slice(8, -1).toLowerCase();\nfunction isPlainObject(value) {\n  if (getType(value) !== \"object\") {\n    return false;\n  }\n  const pp = Object.getPrototypeOf(value);\n  if (pp === null || pp === void 0) {\n    return true;\n  }\n  const Ctor = pp.constructor && pp.constructor.toString();\n  return Ctor === Object.toString();\n}\n\n// src/util/proxyHeaders.ts\nfunction getProperty(target, prop) {\n  if (typeof prop === \"string\") {\n    for (const [name, value] of Object.entries(target)) {\n      if (prop.toLowerCase() === name.toLowerCase()) {\n        return value;\n      }\n    }\n  }\n  return void 0;\n}\nvar proxyHeaders = (object) => new Proxy(\n  object,\n  {\n    get: (target, prop) => getProperty(target, prop),\n    has: (target, prop) => getProperty(target, prop) !== void 0\n  }\n);\n\n// src/util/isFormData.ts\nvar isFormData = (value) => Boolean(\n  value && isFunction(value.constructor) && value[Symbol.toStringTag] === \"FormData\" && isFunction(value.append) && isFunction(value.getAll) && isFunction(value.entries) && isFunction(value[Symbol.iterator])\n);\n\n// src/util/escapeName.ts\nvar escapeName = (name) => String(name).replace(/\\r/g, \"%0D\").replace(/\\n/g, \"%0A\").replace(/\"/g, \"%22\");\n\n// src/util/isFile.ts\nvar isFile = (value) => Boolean(\n  value && typeof value === \"object\" && isFunction(value.constructor) && value[Symbol.toStringTag] === \"File\" && isFunction(value.stream) && value.name != null\n);\n\n// src/FormDataEncoder.ts\nvar defaultOptions = {\n  enableAdditionalHeaders: false\n};\nvar readonlyProp = { writable: false, configurable: false };\nvar _CRLF, _CRLF_BYTES, _CRLF_BYTES_LENGTH, _DASHES, _encoder, _footer, _form, _options, _getFieldHeader, getFieldHeader_fn, _getContentLength, getContentLength_fn;\nvar FormDataEncoder = class {\n  constructor(form, boundaryOrOptions, options) {\n    __privateAdd(this, _getFieldHeader);\n    /**\n     * Returns form-data content length\n     */\n    __privateAdd(this, _getContentLength);\n    __privateAdd(this, _CRLF, \"\\r\\n\");\n    __privateAdd(this, _CRLF_BYTES, void 0);\n    __privateAdd(this, _CRLF_BYTES_LENGTH, void 0);\n    __privateAdd(this, _DASHES, \"-\".repeat(2));\n    /**\n     * TextEncoder instance\n     */\n    __privateAdd(this, _encoder, new TextEncoder());\n    /**\n     * Returns form-data footer bytes\n     */\n    __privateAdd(this, _footer, void 0);\n    /**\n     * FormData instance\n     */\n    __privateAdd(this, _form, void 0);\n    /**\n     * Instance options\n     */\n    __privateAdd(this, _options, void 0);\n    if (!isFormData(form)) {\n      throw new TypeError(\"Expected first argument to be a FormData instance.\");\n    }\n    let boundary;\n    if (isPlainObject(boundaryOrOptions)) {\n      options = boundaryOrOptions;\n    } else {\n      boundary = boundaryOrOptions;\n    }\n    if (!boundary) {\n      boundary = createBoundary();\n    }\n    if (typeof boundary !== \"string\") {\n      throw new TypeError(\"Expected boundary argument to be a string.\");\n    }\n    if (options && !isPlainObject(options)) {\n      throw new TypeError(\"Expected options argument to be an object.\");\n    }\n    __privateSet(this, _form, Array.from(form.entries()));\n    __privateSet(this, _options, { ...defaultOptions, ...options });\n    __privateSet(this, _CRLF_BYTES, __privateGet(this, _encoder).encode(__privateGet(this, _CRLF)));\n    __privateSet(this, _CRLF_BYTES_LENGTH, __privateGet(this, _CRLF_BYTES).byteLength);\n    this.boundary = `form-data-boundary-${boundary}`;\n    this.contentType = `multipart/form-data; boundary=${this.boundary}`;\n    __privateSet(this, _footer, __privateGet(this, _encoder).encode(\n      `${__privateGet(this, _DASHES)}${this.boundary}${__privateGet(this, _DASHES)}${__privateGet(this, _CRLF).repeat(2)}`\n    ));\n    const headers = {\n      \"Content-Type\": this.contentType\n    };\n    const contentLength = __privateMethod(this, _getContentLength, getContentLength_fn).call(this);\n    if (contentLength) {\n      this.contentLength = contentLength;\n      headers[\"Content-Length\"] = contentLength;\n    }\n    this.headers = proxyHeaders(Object.freeze(headers));\n    Object.defineProperties(this, {\n      boundary: readonlyProp,\n      contentType: readonlyProp,\n      contentLength: readonlyProp,\n      headers: readonlyProp\n    });\n  }\n  /**\n   * Creates an iterator allowing to go through form-data parts (with metadata).\n   * This method **will not** read the files and **will not** split values big into smaller chunks.\n   *\n   * Using this method, you can convert form-data content into Blob:\n   *\n   * @example\n   *\n   * ```ts\n   * import {Readable} from \"stream\"\n   *\n   * import {FormDataEncoder} from \"form-data-encoder\"\n   *\n   * import {FormData} from \"formdata-polyfill/esm-min.js\"\n   * import {fileFrom} from \"fetch-blob/form.js\"\n   * import {File} from \"fetch-blob/file.js\"\n   * import {Blob} from \"fetch-blob\"\n   *\n   * import fetch from \"node-fetch\"\n   *\n   * const form = new FormData()\n   *\n   * form.set(\"field\", \"Just a random string\")\n   * form.set(\"file\", new File([\"Using files is class amazing\"]))\n   * form.set(\"fileFromPath\", await fileFrom(\"path/to/a/file.txt\"))\n   *\n   * const encoder = new FormDataEncoder(form)\n   *\n   * const options = {\n   *   method: \"post\",\n   *   body: new Blob(encoder, {type: encoder.contentType})\n   * }\n   *\n   * const response = await fetch(\"https://httpbin.org/post\", options)\n   *\n   * console.log(await response.json())\n   * ```\n   */\n  *values() {\n    for (const [name, raw] of __privateGet(this, _form)) {\n      const value = isFile(raw) ? raw : __privateGet(this, _encoder).encode(\n        normalizeValue(raw)\n      );\n      yield __privateMethod(this, _getFieldHeader, getFieldHeader_fn).call(this, name, value);\n      yield value;\n      yield __privateGet(this, _CRLF_BYTES);\n    }\n    yield __privateGet(this, _footer);\n  }\n  /**\n   * Creates an async iterator allowing to perform the encoding by portions.\n   * This method reads through files and splits big values into smaller pieces (65536 bytes per each).\n   *\n   * @example\n   *\n   * ```ts\n   * import {Readable} from \"stream\"\n   *\n   * import {FormData, File, fileFromPath} from \"formdata-node\"\n   * import {FormDataEncoder} from \"form-data-encoder\"\n   *\n   * import fetch from \"node-fetch\"\n   *\n   * const form = new FormData()\n   *\n   * form.set(\"field\", \"Just a random string\")\n   * form.set(\"file\", new File([\"Using files is class amazing\"], \"file.txt\"))\n   * form.set(\"fileFromPath\", await fileFromPath(\"path/to/a/file.txt\"))\n   *\n   * const encoder = new FormDataEncoder(form)\n   *\n   * const options = {\n   *   method: \"post\",\n   *   headers: encoder.headers,\n   *   body: Readable.from(encoder.encode()) // or Readable.from(encoder)\n   * }\n   *\n   * const response = await fetch(\"https://httpbin.org/post\", options)\n   *\n   * console.log(await response.json())\n   * ```\n   */\n  async *encode() {\n    for (const part of this.values()) {\n      if (isFile(part)) {\n        yield* getStreamIterator(part.stream());\n      } else {\n        yield* chunk(part);\n      }\n    }\n  }\n  /**\n   * Creates an iterator allowing to read through the encoder data using for...of loops\n   */\n  [Symbol.iterator]() {\n    return this.values();\n  }\n  /**\n   * Creates an **async** iterator allowing to read through the encoder data using for-await...of loops\n   */\n  [Symbol.asyncIterator]() {\n    return this.encode();\n  }\n};\n_CRLF = new WeakMap();\n_CRLF_BYTES = new WeakMap();\n_CRLF_BYTES_LENGTH = new WeakMap();\n_DASHES = new WeakMap();\n_encoder = new WeakMap();\n_footer = new WeakMap();\n_form = new WeakMap();\n_options = new WeakMap();\n_getFieldHeader = new WeakSet();\ngetFieldHeader_fn = function(name, value) {\n  let header = \"\";\n  header += `${__privateGet(this, _DASHES)}${this.boundary}${__privateGet(this, _CRLF)}`;\n  header += `Content-Disposition: form-data; name=\"${escapeName(name)}\"`;\n  if (isFile(value)) {\n    header += `; filename=\"${escapeName(value.name)}\"${__privateGet(this, _CRLF)}`;\n    header += `Content-Type: ${value.type || \"application/octet-stream\"}`;\n  }\n  if (__privateGet(this, _options).enableAdditionalHeaders === true) {\n    const size = isFile(value) ? value.size : value.byteLength;\n    if (size != null && !isNaN(size)) {\n      header += `${__privateGet(this, _CRLF)}Content-Length: ${size}`;\n    }\n  }\n  return __privateGet(this, _encoder).encode(`${header}${__privateGet(this, _CRLF).repeat(2)}`);\n};\n_getContentLength = new WeakSet();\ngetContentLength_fn = function() {\n  let length = 0;\n  for (const [name, raw] of __privateGet(this, _form)) {\n    const value = isFile(raw) ? raw : __privateGet(this, _encoder).encode(\n      normalizeValue(raw)\n    );\n    const size = isFile(value) ? value.size : value.byteLength;\n    if (size == null || isNaN(size)) {\n      return void 0;\n    }\n    length += __privateMethod(this, _getFieldHeader, getFieldHeader_fn).call(this, name, value).byteLength;\n    length += size;\n    length += __privateGet(this, _CRLF_BYTES_LENGTH);\n  }\n  return String(length + __privateGet(this, _footer).byteLength);\n};\nexport {\n  FormDataEncoder,\n  isFile,\n  isFormData\n};\n", "import { errorMonitor } from 'node:events';\nimport { types } from 'node:util';\nimport deferToConnect from './defer-to-connect.js';\nconst timer = (request) => {\n    if (request.timings) {\n        return request.timings;\n    }\n    const timings = {\n        start: Date.now(),\n        socket: undefined,\n        lookup: undefined,\n        connect: undefined,\n        secureConnect: undefined,\n        upload: undefined,\n        response: undefined,\n        end: undefined,\n        error: undefined,\n        abort: undefined,\n        phases: {\n            wait: undefined,\n            dns: undefined,\n            tcp: undefined,\n            tls: undefined,\n            request: undefined,\n            firstByte: undefined,\n            download: undefined,\n            total: undefined,\n        },\n    };\n    request.timings = timings;\n    const handleError = (origin) => {\n        origin.once(errorMonitor, () => {\n            timings.error = Date.now();\n            timings.phases.total = timings.error - timings.start;\n        });\n    };\n    handleError(request);\n    const onAbort = () => {\n        timings.abort = Date.now();\n        timings.phases.total = timings.abort - timings.start;\n    };\n    request.prependOnceListener('abort', onAbort);\n    const onSocket = (socket) => {\n        timings.socket = Date.now();\n        timings.phases.wait = timings.socket - timings.start;\n        if (types.isProxy(socket)) {\n            // HTTP/2: The socket is a proxy, so connection events won't fire.\n            // We can't measure connection timings, so leave them undefined.\n            // This prevents NaN in phases.request calculation.\n            return;\n        }\n        // Check if socket is already connected (reused from connection pool)\n        const socketAlreadyConnected = socket.writable && !socket.connecting;\n        if (socketAlreadyConnected) {\n            // Socket reuse detected: the socket was already connected from a previous request.\n            // For reused sockets, set all connection timestamps to socket time since no new\n            // connection was made for THIS request. But preserve phase durations from the\n            // original connection so they're not lost.\n            timings.lookup = timings.socket;\n            timings.connect = timings.socket;\n            if (socket.__initial_connection_timings__) {\n                // Restore the phase timings from the initial connection\n                timings.phases.dns = socket.__initial_connection_timings__.dnsPhase;\n                timings.phases.tcp = socket.__initial_connection_timings__.tcpPhase;\n                timings.phases.tls = socket.__initial_connection_timings__.tlsPhase;\n                // Set secureConnect timestamp if there was TLS\n                if (timings.phases.tls !== undefined) {\n                    timings.secureConnect = timings.socket;\n                }\n            }\n            else {\n                // Socket reused but no initial timings stored (e.g., from external code)\n                // Set phases to 0\n                timings.phases.dns = 0;\n                timings.phases.tcp = 0;\n            }\n            return;\n        }\n        const lookupListener = () => {\n            timings.lookup = Date.now();\n            timings.phases.dns = timings.lookup - timings.socket;\n        };\n        socket.prependOnceListener('lookup', lookupListener);\n        deferToConnect(socket, {\n            connect() {\n                timings.connect = Date.now();\n                if (timings.lookup === undefined) {\n                    // No DNS lookup occurred (e.g., connecting to an IP address directly)\n                    // Set lookup to socket time (no time elapsed for DNS)\n                    socket.removeListener('lookup', lookupListener);\n                    timings.lookup = timings.socket;\n                    timings.phases.dns = 0;\n                }\n                timings.phases.tcp = timings.connect - timings.lookup;\n                // If lookup and connect happen at the EXACT same time (tcp = 0),\n                // DNS was served from cache and the dns value is just event loop overhead.\n                // Set dns to 0 to indicate no actual DNS resolution occurred.\n                // Fixes https://github.com/szmarczak/http-timer/issues/35\n                if (timings.phases.tcp === 0 && timings.phases.dns && timings.phases.dns > 0) {\n                    timings.phases.dns = 0;\n                }\n                // Store connection phase timings on socket for potential reuse\n                if (!socket.__initial_connection_timings__) {\n                    socket.__initial_connection_timings__ = {\n                        dnsPhase: timings.phases.dns,\n                        // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion -- TypeScript can't prove this is defined due to callback structure\n                        tcpPhase: timings.phases.tcp,\n                    };\n                }\n            },\n            secureConnect() {\n                timings.secureConnect = Date.now();\n                timings.phases.tls = timings.secureConnect - timings.connect;\n                // Update stored timings with TLS phase timing\n                if (socket.__initial_connection_timings__) {\n                    socket.__initial_connection_timings__.tlsPhase = timings.phases.tls;\n                }\n            },\n        });\n    };\n    if (request.socket) {\n        onSocket(request.socket);\n    }\n    else {\n        request.prependOnceListener('socket', onSocket);\n    }\n    const onUpload = () => {\n        timings.upload = Date.now();\n        // Calculate request phase if we have connection timings\n        const secureOrConnect = timings.secureConnect ?? timings.connect;\n        if (secureOrConnect !== undefined) {\n            timings.phases.request = timings.upload - secureOrConnect;\n        }\n        // If both are undefined (HTTP/2), phases.request stays undefined (not NaN)\n    };\n    if (request.writableFinished) {\n        onUpload();\n    }\n    else {\n        request.prependOnceListener('finish', onUpload);\n    }\n    request.prependOnceListener('response', (response) => {\n        timings.response = Date.now();\n        timings.phases.firstByte = timings.response - timings.upload;\n        response.timings = timings;\n        handleError(response);\n        response.prependOnceListener('end', () => {\n            request.off('abort', onAbort);\n            response.off('aborted', onAbort);\n            if (timings.phases.total !== undefined) {\n                // Aborted or errored\n                return;\n            }\n            timings.end = Date.now();\n            timings.phases.download = timings.end - timings.response;\n            timings.phases.total = timings.end - timings.start;\n        });\n        response.prependOnceListener('aborted', onAbort);\n    });\n    return timings;\n};\nexport default timer;\n", "function isTlsSocket(socket) {\n    return 'encrypted' in socket;\n}\nconst deferToConnect = (socket, fn) => {\n    let listeners;\n    if (typeof fn === 'function') {\n        const connect = fn;\n        listeners = { connect };\n    }\n    else {\n        listeners = fn;\n    }\n    const hasConnectListener = typeof listeners.connect === 'function';\n    const hasSecureConnectListener = typeof listeners.secureConnect === 'function';\n    const hasCloseListener = typeof listeners.close === 'function';\n    const onConnect = () => {\n        if (hasConnectListener) {\n            listeners.connect();\n        }\n        if (isTlsSocket(socket) && hasSecureConnectListener) {\n            if (socket.authorized) {\n                listeners.secureConnect();\n            }\n            else {\n                // Wait for secureConnect event (even if authorization fails, we need the timing)\n                socket.once('secureConnect', listeners.secureConnect);\n            }\n        }\n        if (hasCloseListener) {\n            socket.once('close', listeners.close);\n        }\n    };\n    if (socket.writable && !socket.connecting) {\n        onConnect();\n    }\n    else if (socket.connecting) {\n        socket.once('connect', onConnect);\n    }\n    else if (socket.destroyed && hasCloseListener) {\n        const hadError = '_hadError' in socket ? Boolean(socket._hadError) : false;\n        listeners.close(hadError);\n    }\n};\nexport default deferToConnect;\n", "import { promisify } from 'node:util';\nimport is from '@sindresorhus/is';\nimport isFormData from './is-form-data.js';\nexport default async function getBodySize(body, headers) {\n    if (headers && 'content-length' in headers) {\n        return Number(headers['content-length']);\n    }\n    if (!body) {\n        return 0;\n    }\n    if (is.string(body)) {\n        return new TextEncoder().encode(body).byteLength;\n    }\n    if (is.buffer(body)) {\n        return body.length;\n    }\n    if (is.typedArray(body)) {\n        return body.byteLength;\n    }\n    if (isFormData(body)) {\n        try {\n            return await promisify(body.getLength.bind(body))();\n        }\n        catch (error) {\n            const typedError = error;\n            throw new Error('Cannot determine content-length for form-data with stream(s) of unknown length. '\n                + 'This is a limitation of the `form-data` package. '\n                + 'To fix this, either:\\n'\n                + '1. Use the `knownLength` option when appending streams:\\n'\n                + '   form.append(\\'file\\', stream, {knownLength: 12345});\\n'\n                + '2. Switch to spec-compliant FormData (formdata-node package)\\n'\n                + 'See: https://github.com/form-data/form-data#alternative-submission-methods\\n'\n                + `Original error: ${typedError.message}`);\n        }\n    }\n    return undefined;\n}\n", "import is from '@sindresorhus/is';\nexport default function isFormData(body) {\n    return is.nodeStream(body) && is.function(body.getBoundary);\n}\n", "export default function proxyEvents(from, to, events) {\n    const eventFunctions = {};\n    for (const event of events) {\n        const eventFunction = (...arguments_) => {\n            to.emit(event, ...arguments_);\n        };\n        eventFunctions[event] = eventFunction;\n        from.on(event, eventFunction);\n    }\n    return () => {\n        for (const [event, eventFunction] of Object.entries(eventFunctions)) {\n            from.off(event, eventFunction);\n        }\n    };\n}\n", "import net from 'node:net';\nimport unhandler from './utils/unhandle.js';\nconst reentry = Symbol('reentry');\nconst noop = () => { };\nexport class TimeoutError extends Error {\n    event;\n    name = 'TimeoutError';\n    code = 'ETIMEDOUT';\n    constructor(threshold, event) {\n        super(`Timeout awaiting '${event}' for ${threshold}ms`);\n        this.event = event;\n    }\n}\nexport default function timedOut(request, delays, options) {\n    if (reentry in request) {\n        return noop;\n    }\n    request[reentry] = true;\n    const cancelers = [];\n    const { once, unhandleAll } = unhandler();\n    const handled = new Map();\n    const addTimeout = (delay, callback, event) => {\n        const timeout = setTimeout(callback, delay, delay, event);\n        timeout.unref?.();\n        const cancel = () => {\n            handled.set(event, true);\n            clearTimeout(timeout);\n        };\n        cancelers.push(cancel);\n        return cancel;\n    };\n    const { host, hostname } = options;\n    const timeoutHandler = (delay, event) => {\n        // Use setTimeout to allow for any cancelled events to be handled first,\n        // to prevent firing any TimeoutError unneeded when the event loop is busy or blocked\n        setTimeout(() => {\n            if (!handled.has(event)) {\n                request.destroy(new TimeoutError(delay, event));\n            }\n        }, 0);\n    };\n    const cancelTimeouts = () => {\n        for (const cancel of cancelers) {\n            cancel();\n        }\n        unhandleAll();\n    };\n    request.once('error', error => {\n        cancelTimeouts();\n        // Save original behavior\n        /* istanbul ignore next */\n        if (request.listenerCount('error') === 0) {\n            throw error;\n        }\n    });\n    if (delays.request !== undefined) {\n        const cancelTimeout = addTimeout(delays.request, timeoutHandler, 'request');\n        once(request, 'response', (response) => {\n            once(response, 'end', cancelTimeout);\n        });\n    }\n    if (delays.socket !== undefined) {\n        const { socket } = delays;\n        const socketTimeoutHandler = () => {\n            timeoutHandler(socket, 'socket');\n        };\n        request.setTimeout(socket, socketTimeoutHandler);\n        // `request.setTimeout(0)` causes a memory leak.\n        // We can just remove the listener and forget about the timer - it's unreffed.\n        // See https://github.com/sindresorhus/got/issues/690\n        cancelers.push(() => {\n            request.removeListener('timeout', socketTimeoutHandler);\n        });\n    }\n    const hasLookup = delays.lookup !== undefined;\n    const hasConnect = delays.connect !== undefined;\n    const hasSecureConnect = delays.secureConnect !== undefined;\n    const hasSend = delays.send !== undefined;\n    if (hasLookup || hasConnect || hasSecureConnect || hasSend) {\n        once(request, 'socket', (socket) => {\n            const { socketPath } = request;\n            /* istanbul ignore next: hard to test */\n            if (socket.connecting) {\n                const hasPath = Boolean(socketPath ?? net.isIP(hostname ?? host ?? '') !== 0);\n                if (hasLookup && !hasPath && socket.address().address === undefined) {\n                    const cancelTimeout = addTimeout(delays.lookup, timeoutHandler, 'lookup');\n                    once(socket, 'lookup', cancelTimeout);\n                }\n                if (hasConnect) {\n                    const timeConnect = () => addTimeout(delays.connect, timeoutHandler, 'connect');\n                    if (hasPath) {\n                        once(socket, 'connect', timeConnect());\n                    }\n                    else {\n                        once(socket, 'lookup', (error) => {\n                            if (error === null) {\n                                once(socket, 'connect', timeConnect());\n                            }\n                        });\n                    }\n                }\n                if (hasSecureConnect && options.protocol === 'https:') {\n                    once(socket, 'connect', () => {\n                        const cancelTimeout = addTimeout(delays.secureConnect, timeoutHandler, 'secureConnect');\n                        once(socket, 'secureConnect', cancelTimeout);\n                    });\n                }\n            }\n            if (hasSend) {\n                const timeRequest = () => addTimeout(delays.send, timeoutHandler, 'send');\n                /* istanbul ignore next: hard to test */\n                if (socket.connecting) {\n                    once(socket, 'connect', () => {\n                        once(request, 'upload-complete', timeRequest());\n                    });\n                }\n                else {\n                    once(request, 'upload-complete', timeRequest());\n                }\n            }\n        });\n    }\n    if (delays.response !== undefined) {\n        once(request, 'upload-complete', () => {\n            const cancelTimeout = addTimeout(delays.response, timeoutHandler, 'response');\n            once(request, 'response', cancelTimeout);\n        });\n    }\n    if (delays.read !== undefined) {\n        once(request, 'response', (response) => {\n            const cancelTimeout = addTimeout(delays.read, timeoutHandler, 'read');\n            once(response, 'end', cancelTimeout);\n        });\n    }\n    return cancelTimeouts;\n}\n", "// When attaching listeners, it's very easy to forget about them.\n// Especially if you do error handling and set timeouts.\n// So instead of checking if it's proper to throw an error on every timeout ever,\n// use this simple tool which will remove all listeners you have attached.\nexport default function unhandle() {\n    const handlers = [];\n    return {\n        once(origin, event, function_) {\n            origin.once(event, function_);\n            handlers.push({ origin, event, fn: function_ });\n        },\n        unhandleAll() {\n            for (const handler of handlers) {\n                const { origin, event, fn } = handler;\n                origin.removeListener(event, fn);\n            }\n            handlers.length = 0;\n        },\n    };\n}\n", "import is from '@sindresorhus/is';\nexport default function urlToOptions(url) {\n    // Cast to URL\n    url = url;\n    const options = {\n        protocol: url.protocol,\n        hostname: is.string(url.hostname) && url.hostname.startsWith('[') ? url.hostname.slice(1, -1) : url.hostname,\n        host: url.host,\n        hash: url.hash,\n        search: url.search,\n        pathname: url.pathname,\n        href: url.href,\n        path: `${url.pathname || ''}${url.search || ''}`,\n    };\n    if (is.string(url.port) && url.port.length > 0) {\n        options.port = Number(url.port);\n    }\n    if (url.username || url.password) {\n        options.auth = `${url.username || ''}:${url.password || ''}`;\n    }\n    return options;\n}\n", "export default class WeakableMap {\n    weakMap = new WeakMap();\n    map = new Map();\n    set(key, value) {\n        if (typeof key === 'object') {\n            this.weakMap.set(key, value);\n        }\n        else {\n            this.map.set(key, value);\n        }\n    }\n    get(key) {\n        if (typeof key === 'object') {\n            return this.weakMap.get(key);\n        }\n        return this.map.get(key);\n    }\n    has(key) {\n        if (typeof key === 'object') {\n            return this.weakMap.has(key);\n        }\n        return this.map.has(key);\n    }\n}\n", "const calculateRetryDelay = ({ attemptCount, retryOptions, error, retryAfter, computedValue, }) => {\n    if (error.name === 'RetryError') {\n        return 1;\n    }\n    if (attemptCount > retryOptions.limit) {\n        return 0;\n    }\n    const hasMethod = retryOptions.methods.includes(error.options.method);\n    const hasErrorCode = retryOptions.errorCodes.includes(error.code);\n    const hasStatusCode = error.response && retryOptions.statusCodes.includes(error.response.statusCode);\n    if (!hasMethod || (!hasErrorCode && !hasStatusCode)) {\n        return 0;\n    }\n    if (error.response) {\n        if (retryAfter) {\n            // In this case `computedValue` is `options.request.timeout`\n            if (retryAfter > computedValue) {\n                return 0;\n            }\n            return retryAfter;\n        }\n        if (error.response.statusCode === 413) {\n            return 0;\n        }\n    }\n    const noise = Math.random() * retryOptions.noise;\n    return Math.min(((2 ** (attemptCount - 1)) * 1000), retryOptions.backoffLimit) + noise;\n};\nexport default calculateRetryDelay;\n", "import process from 'node:process';\nimport { promisify, inspect } from 'node:util';\nimport { checkServerIdentity } from 'node:tls';\n// DO NOT use destructuring for `https.request` and `http.request` as it's not compatible with `nock`.\nimport https from 'node:https';\nimport http from 'node:http';\nimport is, { assert } from '@sindresorhus/is';\nimport lowercaseKeys from 'lowercase-keys';\nimport CacheableLookup from 'cacheable-lookup';\nimport http2wrapper from 'http2-wrapper';\nimport { isFormData } from 'form-data-encoder';\nimport parseLinkHeader from './parse-link-header.js';\nconst [major, minor] = process.versions.node.split('.').map(Number);\n/**\nGeneric helper that wraps any assertion function to add context to error messages.\n*/\nfunction wrapAssertionWithContext(optionName, assertionFn) {\n    try {\n        assertionFn();\n    }\n    catch (error) {\n        if (error instanceof Error) {\n            error.message = `Option '${optionName}': ${error.message}`;\n        }\n        throw error;\n    }\n}\n/**\nHelper function that wraps assert.any() to provide better error messages.\nWhen assertion fails, it includes the option name in the error message.\n*/\nfunction assertAny(optionName, validators, value) {\n    wrapAssertionWithContext(optionName, () => {\n        assert.any(validators, value);\n    });\n}\n/**\nHelper function that wraps assert.plainObject() to provide better error messages.\nWhen assertion fails, it includes the option name in the error message.\n*/\nfunction assertPlainObject(optionName, value) {\n    wrapAssertionWithContext(optionName, () => {\n        assert.plainObject(value);\n    });\n}\nfunction validateSearchParameters(searchParameters) {\n    // eslint-disable-next-line guard-for-in\n    for (const key in searchParameters) {\n        const value = searchParameters[key];\n        assertAny(`searchParams.${key}`, [is.string, is.number, is.boolean, is.null, is.undefined], value);\n    }\n}\nconst globalCache = new Map();\nlet globalDnsCache;\nconst getGlobalDnsCache = () => {\n    if (globalDnsCache) {\n        return globalDnsCache;\n    }\n    globalDnsCache = new CacheableLookup();\n    return globalDnsCache;\n};\n// Detects and wraps QuickLRU v7+ instances to make them compatible with the StorageAdapter interface\nconst wrapQuickLruIfNeeded = (value) => {\n    // Check if this is QuickLRU v7+ using Symbol.toStringTag and the evict method (added in v7)\n    if (value?.[Symbol.toStringTag] === 'QuickLRU' && typeof value.evict === 'function') {\n        // QuickLRU v7+ uses set(key, value, {maxAge: number}) but StorageAdapter expects set(key, value, ttl)\n        // Wrap it to translate the interface\n        return {\n            get(key) {\n                return value.get(key);\n            },\n            set(key, cacheValue, ttl) {\n                if (ttl === undefined) {\n                    value.set(key, cacheValue);\n                }\n                else {\n                    value.set(key, cacheValue, { maxAge: ttl });\n                }\n                return true;\n            },\n            delete(key) {\n                return value.delete(key);\n            },\n            clear() {\n                return value.clear();\n            },\n            has(key) {\n                return value.has(key);\n            },\n        };\n    }\n    // QuickLRU v5 and other caches work as-is\n    return value;\n};\nconst defaultInternals = {\n    request: undefined,\n    agent: {\n        http: undefined,\n        https: undefined,\n        http2: undefined,\n    },\n    h2session: undefined,\n    decompress: true,\n    timeout: {\n        connect: undefined,\n        lookup: undefined,\n        read: undefined,\n        request: undefined,\n        response: undefined,\n        secureConnect: undefined,\n        send: undefined,\n        socket: undefined,\n    },\n    prefixUrl: '',\n    body: undefined,\n    form: undefined,\n    json: undefined,\n    cookieJar: undefined,\n    ignoreInvalidCookies: false,\n    searchParams: undefined,\n    dnsLookup: undefined,\n    dnsCache: undefined,\n    context: {},\n    hooks: {\n        init: [],\n        beforeRequest: [],\n        beforeError: [],\n        beforeRedirect: [],\n        beforeRetry: [],\n        beforeCache: [],\n        afterResponse: [],\n    },\n    followRedirect: true,\n    maxRedirects: 10,\n    cache: undefined,\n    throwHttpErrors: true,\n    username: '',\n    password: '',\n    http2: false,\n    allowGetBody: false,\n    copyPipedHeaders: true,\n    headers: {\n        'user-agent': 'got (https://github.com/sindresorhus/got)',\n    },\n    methodRewriting: false,\n    dnsLookupIpVersion: undefined,\n    parseJson: JSON.parse,\n    stringifyJson: JSON.stringify,\n    retry: {\n        limit: 2,\n        methods: [\n            'GET',\n            'PUT',\n            'HEAD',\n            'DELETE',\n            'OPTIONS',\n            'TRACE',\n        ],\n        statusCodes: [\n            408,\n            413,\n            429,\n            500,\n            502,\n            503,\n            504,\n            521,\n            522,\n            524,\n        ],\n        errorCodes: [\n            'ETIMEDOUT',\n            'ECONNRESET',\n            'EADDRINUSE',\n            'ECONNREFUSED',\n            'EPIPE',\n            'ENOTFOUND',\n            'ENETUNREACH',\n            'EAI_AGAIN',\n        ],\n        maxRetryAfter: undefined,\n        calculateDelay: ({ computedValue }) => computedValue,\n        backoffLimit: Number.POSITIVE_INFINITY,\n        noise: 100,\n        // TODO: Change default to `true` in the next major version to fix https://github.com/sindresorhus/got/issues/2243\n        enforceRetryRules: false,\n    },\n    localAddress: undefined,\n    method: 'GET',\n    createConnection: undefined,\n    cacheOptions: {\n        shared: undefined,\n        cacheHeuristic: undefined,\n        immutableMinTimeToLive: undefined,\n        ignoreCargoCult: undefined,\n    },\n    https: {\n        alpnProtocols: undefined,\n        rejectUnauthorized: undefined,\n        checkServerIdentity: undefined,\n        serverName: undefined,\n        certificateAuthority: undefined,\n        key: undefined,\n        certificate: undefined,\n        passphrase: undefined,\n        pfx: undefined,\n        ciphers: undefined,\n        honorCipherOrder: undefined,\n        minVersion: undefined,\n        maxVersion: undefined,\n        signatureAlgorithms: undefined,\n        tlsSessionLifetime: undefined,\n        dhparam: undefined,\n        ecdhCurve: undefined,\n        certificateRevocationLists: undefined,\n        secureOptions: undefined,\n    },\n    encoding: undefined,\n    resolveBodyOnly: false,\n    isStream: false,\n    responseType: 'text',\n    url: undefined,\n    pagination: {\n        transform(response) {\n            if (response.request.options.responseType === 'json') {\n                return response.body;\n            }\n            return JSON.parse(response.body);\n        },\n        paginate({ response }) {\n            const rawLinkHeader = response.headers.link;\n            if (typeof rawLinkHeader !== 'string' || rawLinkHeader.trim() === '') {\n                return false;\n            }\n            const parsed = parseLinkHeader(rawLinkHeader);\n            const next = parsed.find(entry => entry.parameters.rel === 'next' || entry.parameters.rel === '\"next\"');\n            if (next) {\n                return {\n                    url: new URL(next.reference, response.url),\n                };\n            }\n            return false;\n        },\n        filter: () => true,\n        shouldContinue: () => true,\n        countLimit: Number.POSITIVE_INFINITY,\n        backoff: 0,\n        requestLimit: 10_000,\n        stackAllItems: false,\n    },\n    setHost: true,\n    maxHeaderSize: undefined,\n    signal: undefined,\n    enableUnixSockets: false,\n    strictContentLength: false,\n};\nconst cloneInternals = (internals) => {\n    const { hooks, retry } = internals;\n    const result = {\n        ...internals,\n        context: { ...internals.context },\n        cacheOptions: { ...internals.cacheOptions },\n        https: { ...internals.https },\n        agent: { ...internals.agent },\n        headers: { ...internals.headers },\n        retry: {\n            ...retry,\n            errorCodes: [...retry.errorCodes],\n            methods: [...retry.methods],\n            statusCodes: [...retry.statusCodes],\n        },\n        timeout: { ...internals.timeout },\n        hooks: {\n            init: [...hooks.init],\n            beforeRequest: [...hooks.beforeRequest],\n            beforeError: [...hooks.beforeError],\n            beforeRedirect: [...hooks.beforeRedirect],\n            beforeRetry: [...hooks.beforeRetry],\n            beforeCache: [...hooks.beforeCache],\n            afterResponse: [...hooks.afterResponse],\n        },\n        searchParams: internals.searchParams ? new URLSearchParams(internals.searchParams) : undefined,\n        pagination: { ...internals.pagination },\n    };\n    return result;\n};\nconst cloneRaw = (raw) => {\n    const { hooks, retry } = raw;\n    const result = { ...raw };\n    if (is.object(raw.context)) {\n        result.context = { ...raw.context };\n    }\n    if (is.object(raw.cacheOptions)) {\n        result.cacheOptions = { ...raw.cacheOptions };\n    }\n    if (is.object(raw.https)) {\n        result.https = { ...raw.https };\n    }\n    if (is.object(raw.cacheOptions)) {\n        result.cacheOptions = { ...result.cacheOptions };\n    }\n    if (is.object(raw.agent)) {\n        result.agent = { ...raw.agent };\n    }\n    if (is.object(raw.headers)) {\n        result.headers = { ...raw.headers };\n    }\n    if (is.object(retry)) {\n        result.retry = { ...retry };\n        if (is.array(retry.errorCodes)) {\n            result.retry.errorCodes = [...retry.errorCodes];\n        }\n        if (is.array(retry.methods)) {\n            result.retry.methods = [...retry.methods];\n        }\n        if (is.array(retry.statusCodes)) {\n            result.retry.statusCodes = [...retry.statusCodes];\n        }\n    }\n    if (is.object(raw.timeout)) {\n        result.timeout = { ...raw.timeout };\n    }\n    if (is.object(hooks)) {\n        result.hooks = {\n            ...hooks,\n        };\n        if (is.array(hooks.init)) {\n            result.hooks.init = [...hooks.init];\n        }\n        if (is.array(hooks.beforeRequest)) {\n            result.hooks.beforeRequest = [...hooks.beforeRequest];\n        }\n        if (is.array(hooks.beforeError)) {\n            result.hooks.beforeError = [...hooks.beforeError];\n        }\n        if (is.array(hooks.beforeRedirect)) {\n            result.hooks.beforeRedirect = [...hooks.beforeRedirect];\n        }\n        if (is.array(hooks.beforeRetry)) {\n            result.hooks.beforeRetry = [...hooks.beforeRetry];\n        }\n        if (is.array(hooks.beforeCache)) {\n            result.hooks.beforeCache = [...hooks.beforeCache];\n        }\n        if (is.array(hooks.afterResponse)) {\n            result.hooks.afterResponse = [...hooks.afterResponse];\n        }\n    }\n    if (raw.searchParams) {\n        if (is.string(raw.searchParams)) {\n            result.searchParams = raw.searchParams;\n        }\n        else if (raw.searchParams instanceof URLSearchParams) {\n            result.searchParams = new URLSearchParams(raw.searchParams);\n        }\n        else if (is.object(raw.searchParams)) {\n            result.searchParams = { ...raw.searchParams };\n        }\n    }\n    if (is.object(raw.pagination)) {\n        result.pagination = { ...raw.pagination };\n    }\n    return result;\n};\nconst getHttp2TimeoutOption = (internals) => {\n    const delays = [internals.timeout.socket, internals.timeout.connect, internals.timeout.lookup, internals.timeout.request, internals.timeout.secureConnect].filter(delay => typeof delay === 'number');\n    if (delays.length > 0) {\n        return Math.min(...delays);\n    }\n    return undefined;\n};\nconst init = (options, withOptions, self) => {\n    const initHooks = options.hooks?.init;\n    if (initHooks) {\n        for (const hook of initHooks) {\n            hook(withOptions, self);\n        }\n    }\n};\nexport default class Options {\n    _unixOptions;\n    _internals;\n    _merging = false;\n    _init;\n    constructor(input, options, defaults) {\n        assertAny('input', [is.string, is.urlInstance, is.object, is.undefined], input);\n        assertAny('options', [is.object, is.undefined], options);\n        assertAny('defaults', [is.object, is.undefined], defaults);\n        if (input instanceof Options || options instanceof Options) {\n            throw new TypeError('The defaults must be passed as the third argument');\n        }\n        this._internals = cloneInternals(defaults?._internals ?? defaults ?? defaultInternals);\n        this._init = [...(defaults?._init ?? [])];\n        // This rule allows `finally` to be considered more important.\n        // Meaning no matter the error thrown in the `try` block,\n        // if `finally` throws then the `finally` error will be thrown.\n        //\n        // Yes, we want this. If we set `url` first, then the `url.searchParams`\n        // would get merged. Instead we set the `searchParams` first, then\n        // `url.searchParams` is overwritten as expected.\n        //\n        /* eslint-disable no-unsafe-finally */\n        try {\n            if (is.plainObject(input)) {\n                try {\n                    this.merge(input);\n                    this.merge(options);\n                }\n                finally {\n                    this.url = input.url;\n                }\n            }\n            else {\n                try {\n                    this.merge(options);\n                }\n                finally {\n                    if (options?.url !== undefined) {\n                        if (input === undefined) {\n                            this.url = options.url;\n                        }\n                        else {\n                            throw new TypeError('The `url` option is mutually exclusive with the `input` argument');\n                        }\n                    }\n                    else if (input !== undefined) {\n                        this.url = input;\n                    }\n                }\n            }\n        }\n        catch (error) {\n            error.options = this;\n            throw error;\n        }\n        /* eslint-enable no-unsafe-finally */\n    }\n    merge(options) {\n        if (!options) {\n            return;\n        }\n        if (options instanceof Options) {\n            // Create a copy of the _init array to avoid infinite loop\n            // when merging an Options instance with itself\n            const initArray = [...options._init];\n            for (const init of initArray) {\n                this.merge(init);\n            }\n            return;\n        }\n        options = cloneRaw(options);\n        init(this, options, this);\n        init(options, options, this);\n        this._merging = true;\n        // Always merge `isStream` first\n        if ('isStream' in options) {\n            this.isStream = options.isStream;\n        }\n        try {\n            let push = false;\n            for (const key in options) {\n                // `got.extend()` options\n                if (key === 'mutableDefaults' || key === 'handlers') {\n                    continue;\n                }\n                // Never merge `url`\n                if (key === 'url') {\n                    continue;\n                }\n                // Never merge `preserveHooks` - it's a control flag, not a persistent option\n                if (key === 'preserveHooks') {\n                    continue;\n                }\n                if (!(key in this)) {\n                    throw new Error(`Unexpected option: ${key}`);\n                }\n                // @ts-expect-error Type 'unknown' is not assignable to type 'never'.\n                const value = options[key];\n                if (value === undefined) {\n                    continue;\n                }\n                // @ts-expect-error Type 'unknown' is not assignable to type 'never'.\n                this[key] = value;\n                push = true;\n            }\n            if (push) {\n                this._init.push(options);\n            }\n        }\n        finally {\n            this._merging = false;\n        }\n    }\n    /**\n    Custom request function.\n    The main purpose of this is to [support HTTP2 using a wrapper](https://github.com/szmarczak/http2-wrapper).\n\n    @default http.request | https.request\n    */\n    get request() {\n        return this._internals.request;\n    }\n    set request(value) {\n        assertAny('request', [is.function, is.undefined], value);\n        this._internals.request = value;\n    }\n    /**\n    An object representing `http`, `https` and `http2` keys for [`http.Agent`](https://nodejs.org/api/http.html#http_class_http_agent), [`https.Agent`](https://nodejs.org/api/https.html#https_class_https_agent) and [`http2wrapper.Agent`](https://github.com/szmarczak/http2-wrapper#new-http2agentoptions) instance.\n    This is necessary because a request to one protocol might redirect to another.\n    In such a scenario, Got will switch over to the right protocol agent for you.\n\n    If a key is not present, it will default to a global agent.\n\n    @example\n    ```\n    import got from 'got';\n    import HttpAgent from 'agentkeepalive';\n\n    const {HttpsAgent} = HttpAgent;\n\n    await got('https://sindresorhus.com', {\n        agent: {\n            http: new HttpAgent(),\n            https: new HttpsAgent()\n        }\n    });\n    ```\n    */\n    get agent() {\n        return this._internals.agent;\n    }\n    set agent(value) {\n        assertPlainObject('agent', value);\n        // eslint-disable-next-line guard-for-in\n        for (const key in value) {\n            if (!(key in this._internals.agent)) {\n                throw new TypeError(`Unexpected agent option: ${key}`);\n            }\n            // @ts-expect-error - No idea why `value[key]` doesn't work here.\n            assertAny(`agent.${key}`, [is.object, is.undefined, (v) => v === false], value[key]);\n        }\n        if (this._merging) {\n            Object.assign(this._internals.agent, value);\n        }\n        else {\n            this._internals.agent = { ...value };\n        }\n    }\n    get h2session() {\n        return this._internals.h2session;\n    }\n    set h2session(value) {\n        this._internals.h2session = value;\n    }\n    /**\n    Decompress the response automatically.\n\n    This will set the `accept-encoding` header to `gzip, deflate, br` unless you set it yourself.\n\n    If this is disabled, a compressed response is returned as a `Buffer`.\n    This may be useful if you want to handle decompression yourself or stream the raw compressed data.\n\n    @default true\n    */\n    get decompress() {\n        return this._internals.decompress;\n    }\n    set decompress(value) {\n        assert.boolean(value);\n        this._internals.decompress = value;\n    }\n    /**\n    Milliseconds to wait for the server to end the response before aborting the request with `got.TimeoutError` error (a.k.a. `request` property).\n    By default, there's no timeout.\n\n    This also accepts an `object` with the following fields to constrain the duration of each phase of the request lifecycle:\n\n    - `lookup` starts when a socket is assigned and ends when the hostname has been resolved.\n        Does not apply when using a Unix domain socket.\n    - `connect` starts when `lookup` completes (or when the socket is assigned if lookup does not apply to the request) and ends when the socket is connected.\n    - `secureConnect` starts when `connect` completes and ends when the handshaking process completes (HTTPS only).\n    - `socket` starts when the socket is connected. See [request.setTimeout](https://nodejs.org/api/http.html#http_request_settimeout_timeout_callback).\n    - `response` starts when the request has been written to the socket and ends when the response headers are received.\n    - `send` starts when the socket is connected and ends with the request has been written to the socket.\n    - `request` starts when the request is initiated and ends when the response's end event fires.\n    */\n    get timeout() {\n        // We always return `Delays` here.\n        // It has to be `Delays | number`, otherwise TypeScript will error because the getter and the setter have incompatible types.\n        return this._internals.timeout;\n    }\n    set timeout(value) {\n        assertPlainObject('timeout', value);\n        // eslint-disable-next-line guard-for-in\n        for (const key in value) {\n            if (!(key in this._internals.timeout)) {\n                throw new Error(`Unexpected timeout option: ${key}`);\n            }\n            // @ts-expect-error - No idea why `value[key]` doesn't work here.\n            assertAny(`timeout.${key}`, [is.number, is.undefined], value[key]);\n        }\n        if (this._merging) {\n            Object.assign(this._internals.timeout, value);\n        }\n        else {\n            this._internals.timeout = { ...value };\n        }\n    }\n    /**\n    When specified, `prefixUrl` will be prepended to `url`.\n    The prefix can be any valid URL, either relative or absolute.\n    A trailing slash `/` is optional - one will be added automatically.\n\n    __Note__: `prefixUrl` will be ignored if the `url` argument is a URL instance.\n\n    __Note__: Leading slashes in `input` are disallowed when using this option to enforce consistency and avoid confusion.\n    For example, when the prefix URL is `https://example.com/foo` and the input is `/bar`, there's ambiguity whether the resulting URL would become `https://example.com/foo/bar` or `https://example.com/bar`.\n    The latter is used by browsers.\n\n    __Tip__: Useful when used with `got.extend()` to create niche-specific Got instances.\n\n    __Tip__: You can change `prefixUrl` using hooks as long as the URL still includes the `prefixUrl`.\n    If the URL doesn't include it anymore, it will throw.\n\n    @example\n    ```\n    import got from 'got';\n\n    await got('unicorn', {prefixUrl: 'https://cats.com'});\n    //=> 'https://cats.com/unicorn'\n\n    const instance = got.extend({\n        prefixUrl: 'https://google.com'\n    });\n\n    await instance('unicorn', {\n        hooks: {\n            beforeRequest: [\n                options => {\n                    options.prefixUrl = 'https://cats.com';\n                }\n            ]\n        }\n    });\n    //=> 'https://cats.com/unicorn'\n    ```\n    */\n    get prefixUrl() {\n        // We always return `string` here.\n        // It has to be `string | URL`, otherwise TypeScript will error because the getter and the setter have incompatible types.\n        return this._internals.prefixUrl;\n    }\n    set prefixUrl(value) {\n        assertAny('prefixUrl', [is.string, is.urlInstance], value);\n        if (value === '') {\n            this._internals.prefixUrl = '';\n            return;\n        }\n        value = value.toString();\n        if (!value.endsWith('/')) {\n            value += '/';\n        }\n        if (this._internals.prefixUrl && this._internals.url) {\n            const { href } = this._internals.url;\n            this._internals.url.href = value + href.slice(this._internals.prefixUrl.length);\n        }\n        this._internals.prefixUrl = value;\n    }\n    /**\n    __Note #1__: The `body` option cannot be used with the `json` or `form` option.\n\n    __Note #2__: If you provide this option, `got.stream()` will be read-only.\n\n    __Note #3__: If you provide a payload with the `GET` or `HEAD` method, it will throw a `TypeError` unless the method is `GET` and the `allowGetBody` option is set to `true`.\n\n    __Note #4__: This option is not enumerable and will not be merged with the instance defaults.\n\n    The `content-length` header will be automatically set if `body` is a `string` / `Buffer` / typed array ([`Uint8Array`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array), etc.) / [`FormData`](https://developer.mozilla.org/en-US/docs/Web/API/FormData) / [`form-data` instance](https://github.com/form-data/form-data), and `content-length` and `transfer-encoding` are not manually set in `options.headers`.\n\n    Since Got 12, the `content-length` is not automatically set when `body` is a `fs.createReadStream`.\n\n    You can use `Iterable` and `AsyncIterable` objects as request body, including Web [`ReadableStream`](https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream):\n\n    @example\n    ```\n    import got from 'got';\n\n    // Using an async generator\n    async function* generateData() {\n        yield 'Hello, ';\n        yield 'world!';\n    }\n\n    await got.post('https://httpbin.org/anything', {\n        body: generateData()\n    });\n    ```\n    */\n    get body() {\n        return this._internals.body;\n    }\n    set body(value) {\n        assertAny('body', [is.string, is.buffer, is.nodeStream, is.generator, is.asyncGenerator, is.iterable, is.asyncIterable, isFormData, is.typedArray, is.undefined], value);\n        if (is.nodeStream(value)) {\n            assert.truthy(value.readable);\n        }\n        if (value !== undefined) {\n            assert.undefined(this._internals.form);\n            assert.undefined(this._internals.json);\n        }\n        this._internals.body = value;\n    }\n    /**\n    The form body is converted to a query string using [`(new URLSearchParams(object)).toString()`](https://nodejs.org/api/url.html#url_constructor_new_urlsearchparams_obj).\n\n    If the `Content-Type` header is not present, it will be set to `application/x-www-form-urlencoded`.\n\n    __Note #1__: If you provide this option, `got.stream()` will be read-only.\n\n    __Note #2__: This option is not enumerable and will not be merged with the instance defaults.\n    */\n    get form() {\n        return this._internals.form;\n    }\n    set form(value) {\n        assertAny('form', [is.plainObject, is.undefined], value);\n        if (value !== undefined) {\n            assert.undefined(this._internals.body);\n            assert.undefined(this._internals.json);\n        }\n        this._internals.form = value;\n    }\n    /**\n    JSON request body. If the `content-type` header is not set, it will be set to `application/json`.\n\n    __Important__: This option only affects the request body you send to the server. To parse the response as JSON, you must either call `.json()` on the promise or set `responseType: 'json'` in the options.\n\n    __Note #1__: If you provide this option, `got.stream()` will be read-only.\n\n    __Note #2__: This option is not enumerable and will not be merged with the instance defaults.\n    */\n    get json() {\n        return this._internals.json;\n    }\n    set json(value) {\n        if (value !== undefined) {\n            assert.undefined(this._internals.body);\n            assert.undefined(this._internals.form);\n        }\n        this._internals.json = value;\n    }\n    /**\n    The URL to request, as a string, a [`https.request` options object](https://nodejs.org/api/https.html#https_https_request_options_callback), or a [WHATWG `URL`](https://nodejs.org/api/url.html#url_class_url).\n\n    Properties from `options` will override properties in the parsed `url`.\n\n    If no protocol is specified, it will throw a `TypeError`.\n\n    __Note__: The query string is **not** parsed as search params.\n\n    @example\n    ```\n    await got('https://example.com/?query=a b'); //=> https://example.com/?query=a%20b\n    await got('https://example.com/', {searchParams: {query: 'a b'}}); //=> https://example.com/?query=a+b\n\n    // The query string is overridden by `searchParams`\n    await got('https://example.com/?query=a b', {searchParams: {query: 'a b'}}); //=> https://example.com/?query=a+b\n    ```\n    */\n    get url() {\n        return this._internals.url;\n    }\n    set url(value) {\n        assertAny('url', [is.string, is.urlInstance, is.undefined], value);\n        if (value === undefined) {\n            this._internals.url = undefined;\n            return;\n        }\n        if (is.string(value) && value.startsWith('/')) {\n            throw new Error('`url` must not start with a slash');\n        }\n        // Detect if URL is already absolute (has a protocol/scheme)\n        const valueString = value.toString();\n        const isAbsolute = is.urlInstance(value) || /^[a-z][a-z\\d+.-]*:\\/\\//i.test(valueString);\n        // Only concatenate prefixUrl if the URL is relative\n        const urlString = isAbsolute ? valueString : `${this.prefixUrl}${valueString}`;\n        const url = new URL(urlString);\n        this._internals.url = url;\n        if (url.protocol === 'unix:') {\n            url.href = `http://unix${url.pathname}${url.search}`;\n        }\n        if (url.protocol !== 'http:' && url.protocol !== 'https:') {\n            const error = new Error(`Unsupported protocol: ${url.protocol}`);\n            error.code = 'ERR_UNSUPPORTED_PROTOCOL';\n            throw error;\n        }\n        if (this._internals.username) {\n            url.username = this._internals.username;\n            this._internals.username = '';\n        }\n        if (this._internals.password) {\n            url.password = this._internals.password;\n            this._internals.password = '';\n        }\n        if (this._internals.searchParams) {\n            url.search = this._internals.searchParams.toString();\n            this._internals.searchParams = undefined;\n        }\n        if (url.hostname === 'unix') {\n            if (!this._internals.enableUnixSockets) {\n                throw new Error('Using UNIX domain sockets but option `enableUnixSockets` is not enabled');\n            }\n            const matches = /(?<socketPath>.+?):(?<path>.+)/.exec(`${url.pathname}${url.search}`);\n            if (matches?.groups) {\n                const { socketPath, path } = matches.groups;\n                this._unixOptions = {\n                    socketPath,\n                    path,\n                    host: '',\n                };\n            }\n            else {\n                this._unixOptions = undefined;\n            }\n            return;\n        }\n        this._unixOptions = undefined;\n    }\n    /**\n    Cookie support. You don't have to care about parsing or how to store them.\n\n    __Note__: If you provide this option, `options.headers.cookie` will be overridden.\n    */\n    get cookieJar() {\n        return this._internals.cookieJar;\n    }\n    set cookieJar(value) {\n        assertAny('cookieJar', [is.object, is.undefined], value);\n        if (value === undefined) {\n            this._internals.cookieJar = undefined;\n            return;\n        }\n        let { setCookie, getCookieString } = value;\n        assert.function(setCookie);\n        assert.function(getCookieString);\n        /* istanbul ignore next: Horrible `tough-cookie` v3 check */\n        if (setCookie.length === 4 && getCookieString.length === 0) {\n            setCookie = promisify(setCookie.bind(value));\n            getCookieString = promisify(getCookieString.bind(value));\n            this._internals.cookieJar = {\n                setCookie,\n                getCookieString: getCookieString,\n            };\n        }\n        else {\n            this._internals.cookieJar = value;\n        }\n    }\n    /**\n    You can abort the `request` using [`AbortController`](https://developer.mozilla.org/en-US/docs/Web/API/AbortController).\n\n    @example\n    ```\n    import got from 'got';\n\n    const abortController = new AbortController();\n\n    const request = got('https://httpbin.org/anything', {\n        signal: abortController.signal\n    });\n\n    setTimeout(() => {\n        abortController.abort();\n    }, 100);\n    ```\n    */\n    get signal() {\n        return this._internals.signal;\n    }\n    set signal(value) {\n        assert.object(value);\n        this._internals.signal = value;\n    }\n    /**\n    Ignore invalid cookies instead of throwing an error.\n    Only useful when the `cookieJar` option has been set. Not recommended.\n\n    @default false\n    */\n    get ignoreInvalidCookies() {\n        return this._internals.ignoreInvalidCookies;\n    }\n    set ignoreInvalidCookies(value) {\n        assert.boolean(value);\n        this._internals.ignoreInvalidCookies = value;\n    }\n    /**\n    Query string that will be added to the request URL.\n    This will override the query string in `url`.\n\n    If you need to pass in an array, you can do it using a `URLSearchParams` instance.\n\n    @example\n    ```\n    import got from 'got';\n\n    const searchParams = new URLSearchParams([['key', 'a'], ['key', 'b']]);\n\n    await got('https://example.com', {searchParams});\n\n    console.log(searchParams.toString());\n    //=> 'key=a&key=b'\n    ```\n    */\n    get searchParams() {\n        if (this._internals.url) {\n            return this._internals.url.searchParams;\n        }\n        if (this._internals.searchParams === undefined) {\n            this._internals.searchParams = new URLSearchParams();\n        }\n        return this._internals.searchParams;\n    }\n    set searchParams(value) {\n        assertAny('searchParams', [is.string, is.object, is.undefined], value);\n        const url = this._internals.url;\n        if (value === undefined) {\n            this._internals.searchParams = undefined;\n            if (url) {\n                url.search = '';\n            }\n            return;\n        }\n        const searchParameters = this.searchParams;\n        let updated;\n        if (is.string(value)) {\n            updated = new URLSearchParams(value);\n        }\n        else if (value instanceof URLSearchParams) {\n            updated = value;\n        }\n        else {\n            validateSearchParameters(value);\n            updated = new URLSearchParams();\n            // eslint-disable-next-line guard-for-in\n            for (const key in value) {\n                const entry = value[key];\n                if (entry === null) {\n                    updated.append(key, '');\n                }\n                else if (entry === undefined) {\n                    searchParameters.delete(key);\n                }\n                else {\n                    updated.append(key, entry);\n                }\n            }\n        }\n        if (this._merging) {\n            // These keys will be replaced\n            for (const key of updated.keys()) {\n                searchParameters.delete(key);\n            }\n            for (const [key, value] of updated) {\n                searchParameters.append(key, value);\n            }\n        }\n        else if (url) {\n            url.search = searchParameters.toString();\n        }\n        else {\n            this._internals.searchParams = searchParameters;\n        }\n    }\n    get searchParameters() {\n        throw new Error('The `searchParameters` option does not exist. Use `searchParams` instead.');\n    }\n    set searchParameters(_value) {\n        throw new Error('The `searchParameters` option does not exist. Use `searchParams` instead.');\n    }\n    get dnsLookup() {\n        return this._internals.dnsLookup;\n    }\n    set dnsLookup(value) {\n        assertAny('dnsLookup', [is.function, is.undefined], value);\n        this._internals.dnsLookup = value;\n    }\n    /**\n    An instance of [`CacheableLookup`](https://github.com/szmarczak/cacheable-lookup) used for making DNS lookups.\n    Useful when making lots of requests to different *public* hostnames.\n\n    `CacheableLookup` uses `dns.resolver4(..)` and `dns.resolver6(...)` under the hood and fall backs to `dns.lookup(...)` when the first two fail, which may lead to additional delay.\n\n    __Note__: This should stay disabled when making requests to internal hostnames such as `localhost`, `database.local` etc.\n\n    @default false\n    */\n    get dnsCache() {\n        return this._internals.dnsCache;\n    }\n    set dnsCache(value) {\n        assertAny('dnsCache', [is.object, is.boolean, is.undefined], value);\n        if (value === true) {\n            this._internals.dnsCache = getGlobalDnsCache();\n        }\n        else if (value === false) {\n            this._internals.dnsCache = undefined;\n        }\n        else {\n            this._internals.dnsCache = value;\n        }\n    }\n    /**\n    User data. `context` is shallow merged and enumerable. If it contains non-enumerable properties they will NOT be merged.\n\n    @example\n    ```\n    import got from 'got';\n\n    const instance = got.extend({\n        hooks: {\n            beforeRequest: [\n                options => {\n                    if (!options.context || !options.context.token) {\n                        throw new Error('Token required');\n                    }\n\n                    options.headers.token = options.context.token;\n                }\n            ]\n        }\n    });\n\n    const context = {\n        token: 'secret'\n    };\n\n    const response = await instance('https://httpbin.org/headers', {context});\n\n    // Let's see the headers\n    console.log(response.body);\n    ```\n    */\n    get context() {\n        return this._internals.context;\n    }\n    set context(value) {\n        assert.object(value);\n        if (this._merging) {\n            Object.assign(this._internals.context, value);\n        }\n        else {\n            this._internals.context = { ...value };\n        }\n    }\n    /**\n    Hooks allow modifications during the request lifecycle.\n    Hook functions may be async and are run serially.\n    */\n    get hooks() {\n        return this._internals.hooks;\n    }\n    set hooks(value) {\n        assert.object(value);\n        // eslint-disable-next-line guard-for-in\n        for (const knownHookEvent in value) {\n            if (!(knownHookEvent in this._internals.hooks)) {\n                throw new Error(`Unexpected hook event: ${knownHookEvent}`);\n            }\n            const typedKnownHookEvent = knownHookEvent;\n            const hooks = value[typedKnownHookEvent];\n            assertAny(`hooks.${knownHookEvent}`, [is.array, is.undefined], hooks);\n            if (hooks) {\n                for (const hook of hooks) {\n                    assert.function(hook);\n                }\n            }\n            if (this._merging) {\n                if (hooks) {\n                    // @ts-expect-error FIXME\n                    this._internals.hooks[typedKnownHookEvent].push(...hooks);\n                }\n            }\n            else {\n                if (!hooks) {\n                    throw new Error(`Missing hook event: ${knownHookEvent}`);\n                }\n                // @ts-expect-error FIXME\n                this._internals.hooks[knownHookEvent] = [...hooks];\n            }\n        }\n    }\n    /**\n    Whether redirect responses should be followed automatically.\n\n    Optionally, pass a function to dynamically decide based on the response object.\n\n    Note that if a `303` is sent by the server in response to any request type (`POST`, `DELETE`, etc.), Got will automatically request the resource pointed to in the location header via `GET`.\n    This is in accordance with [the spec](https://tools.ietf.org/html/rfc7231#section-6.4.4). You can optionally turn on this behavior also for other redirect codes - see `methodRewriting`.\n\n    @default true\n    */\n    get followRedirect() {\n        return this._internals.followRedirect;\n    }\n    set followRedirect(value) {\n        assertAny('followRedirect', [is.boolean, is.function], value);\n        this._internals.followRedirect = value;\n    }\n    get followRedirects() {\n        throw new TypeError('The `followRedirects` option does not exist. Use `followRedirect` instead.');\n    }\n    set followRedirects(_value) {\n        throw new TypeError('The `followRedirects` option does not exist. Use `followRedirect` instead.');\n    }\n    /**\n    If exceeded, the request will be aborted and a `MaxRedirectsError` will be thrown.\n\n    @default 10\n    */\n    get maxRedirects() {\n        return this._internals.maxRedirects;\n    }\n    set maxRedirects(value) {\n        assert.number(value);\n        this._internals.maxRedirects = value;\n    }\n    /**\n    A cache adapter instance for storing cached response data.\n\n    @default false\n    */\n    get cache() {\n        return this._internals.cache;\n    }\n    set cache(value) {\n        assertAny('cache', [is.object, is.string, is.boolean, is.undefined], value);\n        if (value === true) {\n            this._internals.cache = globalCache;\n        }\n        else if (value === false) {\n            this._internals.cache = undefined;\n        }\n        else {\n            this._internals.cache = wrapQuickLruIfNeeded(value);\n        }\n    }\n    /**\n    Determines if a `got.HTTPError` is thrown for unsuccessful responses.\n\n    If this is disabled, requests that encounter an error status code will be resolved with the `response` instead of throwing.\n    This may be useful if you are checking for resource availability and are expecting error responses.\n\n    @default true\n    */\n    get throwHttpErrors() {\n        return this._internals.throwHttpErrors;\n    }\n    set throwHttpErrors(value) {\n        assert.boolean(value);\n        this._internals.throwHttpErrors = value;\n    }\n    get username() {\n        const url = this._internals.url;\n        const value = url ? url.username : this._internals.username;\n        return decodeURIComponent(value);\n    }\n    set username(value) {\n        assert.string(value);\n        const url = this._internals.url;\n        const fixedValue = encodeURIComponent(value);\n        if (url) {\n            url.username = fixedValue;\n        }\n        else {\n            this._internals.username = fixedValue;\n        }\n    }\n    get password() {\n        const url = this._internals.url;\n        const value = url ? url.password : this._internals.password;\n        return decodeURIComponent(value);\n    }\n    set password(value) {\n        assert.string(value);\n        const url = this._internals.url;\n        const fixedValue = encodeURIComponent(value);\n        if (url) {\n            url.password = fixedValue;\n        }\n        else {\n            this._internals.password = fixedValue;\n        }\n    }\n    /**\n    If set to `true`, Got will additionally accept HTTP2 requests.\n\n    It will choose either HTTP/1.1 or HTTP/2 depending on the ALPN protocol.\n\n    __Note__: This option requires Node.js 15.10.0 or newer as HTTP/2 support on older Node.js versions is very buggy.\n\n    __Note__: Overriding `options.request` will disable HTTP2 support.\n\n    @default false\n\n    @example\n    ```\n    import got from 'got';\n\n    const {headers} = await got('https://nghttp2.org/httpbin/anything', {http2: true});\n\n    console.log(headers.via);\n    //=> '2 nghttpx'\n    ```\n    */\n    get http2() {\n        return this._internals.http2;\n    }\n    set http2(value) {\n        assert.boolean(value);\n        this._internals.http2 = value;\n    }\n    /**\n    Set this to `true` to allow sending body for the `GET` method.\n    However, the [HTTP/2 specification](https://tools.ietf.org/html/rfc7540#section-8.1.3) says that `An HTTP GET request includes request header fields and no payload body`, therefore when using the HTTP/2 protocol this option will have no effect.\n    This option is only meant to interact with non-compliant servers when you have no other choice.\n\n    __Note__: The [RFC 7231](https://tools.ietf.org/html/rfc7231#section-4.3.1) doesn't specify any particular behavior for the GET method having a payload, therefore __it's considered an [anti-pattern](https://en.wikipedia.org/wiki/Anti-pattern)__.\n\n    @default false\n    */\n    get allowGetBody() {\n        return this._internals.allowGetBody;\n    }\n    set allowGetBody(value) {\n        assert.boolean(value);\n        this._internals.allowGetBody = value;\n    }\n    /**\n    Automatically copy headers from piped streams.\n\n    When piping a request into a Got stream (e.g., `request.pipe(got.stream(url))`), this controls whether headers from the source stream are automatically merged into the Got request headers.\n\n    Note: Piped headers overwrite any explicitly set headers with the same name. To override this, either set `copyPipedHeaders` to `false` and manually copy safe headers, or use a `beforeRequest` hook to force specific header values after piping.\n\n    Useful for proxy scenarios, but you may want to disable this to filter out headers like `Host`, `Connection`, `Authorization`, etc.\n\n    @default true\n\n    @example\n    ```\n    import got from 'got';\n    import {pipeline} from 'node:stream/promises';\n\n    // Disable automatic header copying and manually copy only safe headers\n    server.get('/proxy', async (request, response) => {\n        const gotStream = got.stream('https://example.com', {\n            copyPipedHeaders: false,\n            headers: {\n                'user-agent': request.headers['user-agent'],\n                'accept': request.headers['accept'],\n                // Explicitly NOT copying host, connection, authorization, etc.\n            }\n        });\n\n        await pipeline(request, gotStream, response);\n    });\n    ```\n\n    @example\n    ```\n    import got from 'got';\n\n    // Override piped headers using beforeRequest hook\n    const gotStream = got.stream('https://example.com', {\n        hooks: {\n            beforeRequest: [\n                options => {\n                    // Force specific header values after piping\n                    options.headers.host = 'example.com';\n                    delete options.headers.authorization;\n                }\n            ]\n        }\n    });\n    ```\n    */\n    get copyPipedHeaders() {\n        return this._internals.copyPipedHeaders;\n    }\n    set copyPipedHeaders(value) {\n        assert.boolean(value);\n        this._internals.copyPipedHeaders = value;\n    }\n    /**\n    Request headers.\n\n    Existing headers will be overwritten. Headers set to `undefined` will be omitted.\n\n    @default {}\n    */\n    get headers() {\n        return this._internals.headers;\n    }\n    set headers(value) {\n        assertPlainObject('headers', value);\n        if (this._merging) {\n            Object.assign(this._internals.headers, lowercaseKeys(value));\n        }\n        else {\n            this._internals.headers = lowercaseKeys(value);\n        }\n    }\n    /**\n    Specifies if the HTTP request method should be [rewritten as `GET`](https://tools.ietf.org/html/rfc7231#section-6.4) on redirects.\n\n    As the [specification](https://tools.ietf.org/html/rfc7231#section-6.4) prefers to rewrite the HTTP method only on `303` responses, this is Got's default behavior.\n    Setting `methodRewriting` to `true` will also rewrite `301` and `302` responses, as allowed by the spec. This is the behavior followed by `curl` and browsers.\n\n    __Note__: Got never performs method rewriting on `307` and `308` responses, as this is [explicitly prohibited by the specification](https://www.rfc-editor.org/rfc/rfc7231#section-6.4.7).\n\n    @default false\n    */\n    get methodRewriting() {\n        return this._internals.methodRewriting;\n    }\n    set methodRewriting(value) {\n        assert.boolean(value);\n        this._internals.methodRewriting = value;\n    }\n    /**\n    Indicates which DNS record family to use.\n\n    Values:\n    - `undefined`: IPv4 (if present) or IPv6\n    - `4`: Only IPv4\n    - `6`: Only IPv6\n\n    @default undefined\n    */\n    get dnsLookupIpVersion() {\n        return this._internals.dnsLookupIpVersion;\n    }\n    set dnsLookupIpVersion(value) {\n        if (value !== undefined && value !== 4 && value !== 6) {\n            throw new TypeError(`Invalid DNS lookup IP version: ${value}`);\n        }\n        this._internals.dnsLookupIpVersion = value;\n    }\n    /**\n    A function used to parse JSON responses.\n\n    @example\n    ```\n    import got from 'got';\n    import Bourne from '@hapi/bourne';\n\n    const parsed = await got('https://example.com', {\n        parseJson: text => Bourne.parse(text)\n    }).json();\n\n    console.log(parsed);\n    ```\n    */\n    get parseJson() {\n        return this._internals.parseJson;\n    }\n    set parseJson(value) {\n        assert.function(value);\n        this._internals.parseJson = value;\n    }\n    /**\n    A function used to stringify the body of JSON requests.\n\n    @example\n    ```\n    import got from 'got';\n\n    await got.post('https://example.com', {\n        stringifyJson: object => JSON.stringify(object, (key, value) => {\n            if (key.startsWith('_')) {\n                return;\n            }\n\n            return value;\n        }),\n        json: {\n            some: 'payload',\n            _ignoreMe: 1234\n        }\n    });\n    ```\n\n    @example\n    ```\n    import got from 'got';\n\n    await got.post('https://example.com', {\n        stringifyJson: object => JSON.stringify(object, (key, value) => {\n            if (typeof value === 'number') {\n                return value.toString();\n            }\n\n            return value;\n        }),\n        json: {\n            some: 'payload',\n            number: 1\n        }\n    });\n    ```\n    */\n    get stringifyJson() {\n        return this._internals.stringifyJson;\n    }\n    set stringifyJson(value) {\n        assert.function(value);\n        this._internals.stringifyJson = value;\n    }\n    /**\n    An object representing `limit`, `calculateDelay`, `methods`, `statusCodes`, `maxRetryAfter` and `errorCodes` fields for maximum retry count, retry handler, allowed methods, allowed status codes, maximum [`Retry-After`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After) time and allowed error codes.\n\n    Delays between retries counts with function `1000 * Math.pow(2, retry) + Math.random() * 100`, where `retry` is attempt number (starts from 1).\n\n    The `calculateDelay` property is a `function` that receives an object with `attemptCount`, `retryOptions`, `error` and `computedValue` properties for current retry count, the retry options, error and default computed value.\n    The function must return a delay in milliseconds (or a Promise resolving with it) (`0` return value cancels retry).\n\n    The `enforceRetryRules` property is a `boolean` that, when set to `true`, enforces the `limit`, `methods`, `statusCodes`, and `errorCodes` options before calling `calculateDelay`. Your `calculateDelay` function is only invoked when a retry is allowed based on these criteria. When `false` (default), `calculateDelay` receives the computed value but can override all retry logic.\n\n    __Note:__ When `enforceRetryRules` is `false`, you must check `computedValue` in your `calculateDelay` function to respect the default retry logic. When `true`, the retry rules are enforced automatically.\n\n    By default, it retries *only* on the specified methods, status codes, and on these network errors:\n\n    - `ETIMEDOUT`: One of the [timeout](#timeout) limits were reached.\n    - `ECONNRESET`: Connection was forcibly closed by a peer.\n    - `EADDRINUSE`: Could not bind to any free port.\n    - `ECONNREFUSED`: Connection was refused by the server.\n    - `EPIPE`: The remote side of the stream being written has been closed.\n    - `ENOTFOUND`: Couldn't resolve the hostname to an IP address.\n    - `ENETUNREACH`: No internet connection.\n    - `EAI_AGAIN`: DNS lookup timed out.\n\n    __Note__: If `maxRetryAfter` is set to `undefined`, it will use `options.timeout`.\n    __Note__: If [`Retry-After`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After) header is greater than `maxRetryAfter`, it will cancel the request.\n    */\n    get retry() {\n        return this._internals.retry;\n    }\n    set retry(value) {\n        assertPlainObject('retry', value);\n        assertAny('retry.calculateDelay', [is.function, is.undefined], value.calculateDelay);\n        assertAny('retry.maxRetryAfter', [is.number, is.undefined], value.maxRetryAfter);\n        assertAny('retry.limit', [is.number, is.undefined], value.limit);\n        assertAny('retry.methods', [is.array, is.undefined], value.methods);\n        assertAny('retry.statusCodes', [is.array, is.undefined], value.statusCodes);\n        assertAny('retry.errorCodes', [is.array, is.undefined], value.errorCodes);\n        assertAny('retry.noise', [is.number, is.undefined], value.noise);\n        assertAny('retry.enforceRetryRules', [is.boolean, is.undefined], value.enforceRetryRules);\n        if (value.noise && Math.abs(value.noise) > 100) {\n            throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${value.noise}`);\n        }\n        for (const key in value) {\n            if (!(key in this._internals.retry)) {\n                throw new Error(`Unexpected retry option: ${key}`);\n            }\n        }\n        if (this._merging) {\n            Object.assign(this._internals.retry, value);\n        }\n        else {\n            this._internals.retry = { ...value };\n        }\n        const { retry } = this._internals;\n        retry.methods = [...new Set(retry.methods.map(method => method.toUpperCase()))];\n        retry.statusCodes = [...new Set(retry.statusCodes)];\n        retry.errorCodes = [...new Set(retry.errorCodes)];\n    }\n    /**\n    From `http.RequestOptions`.\n\n    The IP address used to send the request from.\n    */\n    get localAddress() {\n        return this._internals.localAddress;\n    }\n    set localAddress(value) {\n        assertAny('localAddress', [is.string, is.undefined], value);\n        this._internals.localAddress = value;\n    }\n    /**\n    The HTTP method used to make the request.\n\n    @default 'GET'\n    */\n    get method() {\n        return this._internals.method;\n    }\n    set method(value) {\n        assert.string(value);\n        this._internals.method = value.toUpperCase();\n    }\n    get createConnection() {\n        return this._internals.createConnection;\n    }\n    set createConnection(value) {\n        assertAny('createConnection', [is.function, is.undefined], value);\n        this._internals.createConnection = value;\n    }\n    /**\n    From `http-cache-semantics`\n\n    @default {}\n    */\n    get cacheOptions() {\n        return this._internals.cacheOptions;\n    }\n    set cacheOptions(value) {\n        assertPlainObject('cacheOptions', value);\n        assertAny('cacheOptions.shared', [is.boolean, is.undefined], value.shared);\n        assertAny('cacheOptions.cacheHeuristic', [is.number, is.undefined], value.cacheHeuristic);\n        assertAny('cacheOptions.immutableMinTimeToLive', [is.number, is.undefined], value.immutableMinTimeToLive);\n        assertAny('cacheOptions.ignoreCargoCult', [is.boolean, is.undefined], value.ignoreCargoCult);\n        for (const key in value) {\n            if (!(key in this._internals.cacheOptions)) {\n                throw new Error(`Cache option \\`${key}\\` does not exist`);\n            }\n        }\n        if (this._merging) {\n            Object.assign(this._internals.cacheOptions, value);\n        }\n        else {\n            this._internals.cacheOptions = { ...value };\n        }\n    }\n    /**\n    Options for the advanced HTTPS API.\n    */\n    get https() {\n        return this._internals.https;\n    }\n    set https(value) {\n        assertPlainObject('https', value);\n        assertAny('https.rejectUnauthorized', [is.boolean, is.undefined], value.rejectUnauthorized);\n        assertAny('https.checkServerIdentity', [is.function, is.undefined], value.checkServerIdentity);\n        assertAny('https.serverName', [is.string, is.undefined], value.serverName);\n        assertAny('https.certificateAuthority', [is.string, is.object, is.array, is.undefined], value.certificateAuthority);\n        assertAny('https.key', [is.string, is.object, is.array, is.undefined], value.key);\n        assertAny('https.certificate', [is.string, is.object, is.array, is.undefined], value.certificate);\n        assertAny('https.passphrase', [is.string, is.undefined], value.passphrase);\n        assertAny('https.pfx', [is.string, is.buffer, is.array, is.undefined], value.pfx);\n        assertAny('https.alpnProtocols', [is.array, is.undefined], value.alpnProtocols);\n        assertAny('https.ciphers', [is.string, is.undefined], value.ciphers);\n        assertAny('https.dhparam', [is.string, is.buffer, is.undefined], value.dhparam);\n        assertAny('https.signatureAlgorithms', [is.string, is.undefined], value.signatureAlgorithms);\n        assertAny('https.minVersion', [is.string, is.undefined], value.minVersion);\n        assertAny('https.maxVersion', [is.string, is.undefined], value.maxVersion);\n        assertAny('https.honorCipherOrder', [is.boolean, is.undefined], value.honorCipherOrder);\n        assertAny('https.tlsSessionLifetime', [is.number, is.undefined], value.tlsSessionLifetime);\n        assertAny('https.ecdhCurve', [is.string, is.undefined], value.ecdhCurve);\n        assertAny('https.certificateRevocationLists', [is.string, is.buffer, is.array, is.undefined], value.certificateRevocationLists);\n        assertAny('https.secureOptions', [is.number, is.undefined], value.secureOptions);\n        for (const key in value) {\n            if (!(key in this._internals.https)) {\n                throw new Error(`HTTPS option \\`${key}\\` does not exist`);\n            }\n        }\n        if (this._merging) {\n            Object.assign(this._internals.https, value);\n        }\n        else {\n            this._internals.https = { ...value };\n        }\n    }\n    /**\n    [Encoding](https://nodejs.org/api/buffer.html#buffer_buffers_and_character_encodings) to be used on `setEncoding` of the response data.\n\n    To get a [`Buffer`](https://nodejs.org/api/buffer.html), you need to set `responseType` to `buffer` instead.\n    Don't set this option to `null`.\n\n    __Note__: This doesn't affect streams! Instead, you need to do `got.stream(...).setEncoding(encoding)`.\n\n    @default 'utf-8'\n    */\n    get encoding() {\n        return this._internals.encoding;\n    }\n    set encoding(value) {\n        if (value === null) {\n            throw new TypeError('To get a Buffer, set `options.responseType` to `buffer` instead');\n        }\n        assertAny('encoding', [is.string, is.undefined], value);\n        this._internals.encoding = value;\n    }\n    /**\n    When set to `true` the promise will return the Response body instead of the Response object.\n\n    @default false\n    */\n    get resolveBodyOnly() {\n        return this._internals.resolveBodyOnly;\n    }\n    set resolveBodyOnly(value) {\n        assert.boolean(value);\n        this._internals.resolveBodyOnly = value;\n    }\n    /**\n    Returns a `Stream` instead of a `Promise`.\n    This is equivalent to calling `got.stream(url, options?)`.\n\n    @default false\n    */\n    get isStream() {\n        return this._internals.isStream;\n    }\n    set isStream(value) {\n        assert.boolean(value);\n        this._internals.isStream = value;\n    }\n    /**\n    The parsing method.\n\n    The promise also has `.text()`, `.json()` and `.buffer()` methods which return another Got promise for the parsed body.\n\n    It's like setting the options to `{responseType: 'json', resolveBodyOnly: true}` but without affecting the main Got promise.\n\n    __Note__: When using streams, this option is ignored.\n\n    @example\n    ```\n    const responsePromise = got(url);\n    const bufferPromise = responsePromise.buffer();\n    const jsonPromise = responsePromise.json();\n\n    const [response, buffer, json] = Promise.all([responsePromise, bufferPromise, jsonPromise]);\n    // `response` is an instance of Got Response\n    // `buffer` is an instance of Buffer\n    // `json` is an object\n    ```\n\n    @example\n    ```\n    // This\n    const body = await got(url).json();\n\n    // is semantically the same as this\n    const body = await got(url, {responseType: 'json', resolveBodyOnly: true});\n    ```\n    */\n    get responseType() {\n        return this._internals.responseType;\n    }\n    set responseType(value) {\n        if (value === undefined) {\n            this._internals.responseType = 'text';\n            return;\n        }\n        if (value !== 'text' && value !== 'buffer' && value !== 'json') {\n            throw new Error(`Invalid \\`responseType\\` option: ${value}`);\n        }\n        this._internals.responseType = value;\n    }\n    get pagination() {\n        return this._internals.pagination;\n    }\n    set pagination(value) {\n        assert.object(value);\n        if (this._merging) {\n            Object.assign(this._internals.pagination, value);\n        }\n        else {\n            this._internals.pagination = value;\n        }\n    }\n    get auth() {\n        throw new Error('Parameter `auth` is deprecated. Use `username` / `password` instead.');\n    }\n    set auth(_value) {\n        throw new Error('Parameter `auth` is deprecated. Use `username` / `password` instead.');\n    }\n    get setHost() {\n        return this._internals.setHost;\n    }\n    set setHost(value) {\n        assert.boolean(value);\n        this._internals.setHost = value;\n    }\n    get maxHeaderSize() {\n        return this._internals.maxHeaderSize;\n    }\n    set maxHeaderSize(value) {\n        assertAny('maxHeaderSize', [is.number, is.undefined], value);\n        this._internals.maxHeaderSize = value;\n    }\n    get enableUnixSockets() {\n        return this._internals.enableUnixSockets;\n    }\n    set enableUnixSockets(value) {\n        assert.boolean(value);\n        this._internals.enableUnixSockets = value;\n    }\n    /**\n    Throw an error if the server response's `content-length` header value doesn't match the number of bytes received.\n\n    This is useful for detecting truncated responses and follows RFC 9112 requirements for message completeness.\n\n    __Note__: Responses without a `content-length` header are not validated.\n    __Note__: When enabled and validation fails, a `ReadError` with code `ERR_HTTP_CONTENT_LENGTH_MISMATCH` will be thrown.\n\n    @default false\n    */\n    get strictContentLength() {\n        return this._internals.strictContentLength;\n    }\n    set strictContentLength(value) {\n        assert.boolean(value);\n        this._internals.strictContentLength = value;\n    }\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    toJSON() {\n        return { ...this._internals };\n    }\n    [Symbol.for('nodejs.util.inspect.custom')](_depth, options) {\n        return inspect(this._internals, options);\n    }\n    createNativeRequestOptions() {\n        const internals = this._internals;\n        const url = internals.url;\n        let agent;\n        if (url.protocol === 'https:') {\n            if (internals.http2) {\n                // Ensure HTTP/2 agent is configured for connection reuse\n                // If no custom agent.http2 is provided, use the global agent for connection pooling\n                agent = {\n                    ...internals.agent,\n                    http2: internals.agent.http2 ?? http2wrapper.globalAgent,\n                };\n            }\n            else {\n                agent = internals.agent.https;\n            }\n        }\n        else {\n            agent = internals.agent.http;\n        }\n        const { https } = internals;\n        let { pfx } = https;\n        if (is.array(pfx) && is.plainObject(pfx[0])) {\n            pfx = pfx.map(object => ({\n                buf: object.buffer,\n                passphrase: object.passphrase,\n            }));\n        }\n        return {\n            ...internals.cacheOptions,\n            ...this._unixOptions,\n            // HTTPS options\n            // eslint-disable-next-line @typescript-eslint/naming-convention\n            ALPNProtocols: https.alpnProtocols,\n            ca: https.certificateAuthority,\n            cert: https.certificate,\n            key: https.key,\n            passphrase: https.passphrase,\n            pfx: https.pfx,\n            rejectUnauthorized: https.rejectUnauthorized,\n            checkServerIdentity: https.checkServerIdentity ?? checkServerIdentity,\n            servername: https.serverName,\n            ciphers: https.ciphers,\n            honorCipherOrder: https.honorCipherOrder,\n            minVersion: https.minVersion,\n            maxVersion: https.maxVersion,\n            sigalgs: https.signatureAlgorithms,\n            sessionTimeout: https.tlsSessionLifetime,\n            dhparam: https.dhparam,\n            ecdhCurve: https.ecdhCurve,\n            crl: https.certificateRevocationLists,\n            secureOptions: https.secureOptions,\n            // HTTP options\n            lookup: internals.dnsLookup ?? internals.dnsCache?.lookup,\n            family: internals.dnsLookupIpVersion,\n            agent,\n            setHost: internals.setHost,\n            method: internals.method,\n            maxHeaderSize: internals.maxHeaderSize,\n            localAddress: internals.localAddress,\n            headers: internals.headers,\n            createConnection: internals.createConnection,\n            timeout: internals.http2 ? getHttp2TimeoutOption(internals) : undefined,\n            // HTTP/2 options\n            h2session: internals.h2session,\n        };\n    }\n    getRequestFunction() {\n        const url = this._internals.url;\n        const { request } = this._internals;\n        if (!request && url) {\n            return this.getFallbackRequestFunction();\n        }\n        return request;\n    }\n    getFallbackRequestFunction() {\n        const url = this._internals.url;\n        if (!url) {\n            return;\n        }\n        if (url.protocol === 'https:') {\n            if (this._internals.http2) {\n                if (major < 15 || (major === 15 && minor < 10)) {\n                    const error = new Error('To use the `http2` option, install Node.js 15.10.0 or above');\n                    error.code = 'EUNSUPPORTED';\n                    throw error;\n                }\n                return http2wrapper.auto;\n            }\n            return https.request;\n        }\n        return http.request;\n    }\n    freeze() {\n        const options = this._internals;\n        Object.freeze(options);\n        Object.freeze(options.hooks);\n        Object.freeze(options.hooks.afterResponse);\n        Object.freeze(options.hooks.beforeError);\n        Object.freeze(options.hooks.beforeRedirect);\n        Object.freeze(options.hooks.beforeRequest);\n        Object.freeze(options.hooks.beforeRetry);\n        Object.freeze(options.hooks.init);\n        Object.freeze(options.https);\n        Object.freeze(options.cacheOptions);\n        Object.freeze(options.agent);\n        Object.freeze(options.headers);\n        Object.freeze(options.timeout);\n        Object.freeze(options.retry);\n        Object.freeze(options.retry.errorCodes);\n        Object.freeze(options.retry.methods);\n        Object.freeze(options.retry.statusCodes);\n    }\n}\n", "import {\n\tV4MAPPED,\n\tADDRCONFIG,\n\tALL,\n\tpromises as dnsPromises,\n\tlookup as dnsLookup\n} from 'node:dns';\nimport {promisify} from 'node:util';\nimport os from 'node:os';\n\nconst {Resolver: AsyncResolver} = dnsPromises;\n\nconst kCacheableLookupCreateConnection = Symbol('cacheableLookupCreateConnection');\nconst kCacheableLookupInstance = Symbol('cacheableLookupInstance');\nconst kExpires = Symbol('expires');\n\nconst supportsALL = typeof ALL === 'number';\n\nconst verifyAgent = agent => {\n\tif (!(agent && typeof agent.createConnection === 'function')) {\n\t\tthrow new Error('Expected an Agent instance as the first argument');\n\t}\n};\n\nconst map4to6 = entries => {\n\tfor (const entry of entries) {\n\t\tif (entry.family === 6) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tentry.address = `::ffff:${entry.address}`;\n\t\tentry.family = 6;\n\t}\n};\n\nconst getIfaceInfo = () => {\n\tlet has4 = false;\n\tlet has6 = false;\n\n\tfor (const device of Object.values(os.networkInterfaces())) {\n\t\tfor (const iface of device) {\n\t\t\tif (iface.internal) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (iface.family === 'IPv6') {\n\t\t\t\thas6 = true;\n\t\t\t} else {\n\t\t\t\thas4 = true;\n\t\t\t}\n\n\t\t\tif (has4 && has6) {\n\t\t\t\treturn {has4, has6};\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {has4, has6};\n};\n\nconst isIterable = map => {\n\treturn Symbol.iterator in map;\n};\n\nconst ignoreNoResultErrors = dnsPromise => {\n\treturn dnsPromise.catch(error => {\n\t\tif (\n\t\t\terror.code === 'ENODATA' ||\n\t\t\terror.code === 'ENOTFOUND' ||\n\t\t\terror.code === 'ENOENT' // Windows: name exists, but not this record type\n\t\t) {\n\t\t\treturn [];\n\t\t}\n\n\t\tthrow error;\n\t});\n};\n\nconst ttl = {ttl: true};\nconst all = {all: true};\nconst all4 = {all: true, family: 4};\nconst all6 = {all: true, family: 6};\n\nexport default class CacheableLookup {\n\tconstructor({\n\t\tcache = new Map(),\n\t\tmaxTtl = Infinity,\n\t\tfallbackDuration = 3600,\n\t\terrorTtl = 0.15,\n\t\tresolver = new AsyncResolver(),\n\t\tlookup = dnsLookup\n\t} = {}) {\n\t\tthis.maxTtl = maxTtl;\n\t\tthis.errorTtl = errorTtl;\n\n\t\tthis._cache = cache;\n\t\tthis._resolver = resolver;\n\t\tthis._dnsLookup = lookup && promisify(lookup);\n\t\tthis.stats = {\n\t\t\tcache: 0,\n\t\t\tquery: 0\n\t\t};\n\n\t\tif (this._resolver instanceof AsyncResolver) {\n\t\t\tthis._resolve4 = this._resolver.resolve4.bind(this._resolver);\n\t\t\tthis._resolve6 = this._resolver.resolve6.bind(this._resolver);\n\t\t} else {\n\t\t\tthis._resolve4 = promisify(this._resolver.resolve4.bind(this._resolver));\n\t\t\tthis._resolve6 = promisify(this._resolver.resolve6.bind(this._resolver));\n\t\t}\n\n\t\tthis._iface = getIfaceInfo();\n\n\t\tthis._pending = {};\n\t\tthis._nextRemovalTime = false;\n\t\tthis._hostnamesToFallback = new Set();\n\n\t\tthis.fallbackDuration = fallbackDuration;\n\n\t\tif (fallbackDuration > 0) {\n\t\t\tconst interval = setInterval(() => {\n\t\t\t\tthis._hostnamesToFallback.clear();\n\t\t\t}, fallbackDuration * 1000);\n\n\t\t\t/* istanbul ignore next: There is no `interval.unref()` when running inside an Electron renderer */\n\t\t\tif (interval.unref) {\n\t\t\t\tinterval.unref();\n\t\t\t}\n\n\t\t\tthis._fallbackInterval = interval;\n\t\t}\n\n\t\tthis.lookup = this.lookup.bind(this);\n\t\tthis.lookupAsync = this.lookupAsync.bind(this);\n\t}\n\n\tset servers(servers) {\n\t\tthis.clear();\n\n\t\tthis._resolver.setServers(servers);\n\t}\n\n\tget servers() {\n\t\treturn this._resolver.getServers();\n\t}\n\n\tlookup(hostname, options, callback) {\n\t\tif (typeof options === 'function') {\n\t\t\tcallback = options;\n\t\t\toptions = {};\n\t\t} else if (typeof options === 'number') {\n\t\t\toptions = {\n\t\t\t\tfamily: options\n\t\t\t};\n\t\t}\n\n\t\tif (!callback) {\n\t\t\tthrow new Error('Callback must be a function.');\n\t\t}\n\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\tthis.lookupAsync(hostname, options).then(result => {\n\t\t\tif (options.all) {\n\t\t\t\tcallback(null, result);\n\t\t\t} else {\n\t\t\t\tcallback(null, result.address, result.family, result.expires, result.ttl, result.source);\n\t\t\t}\n\t\t}, callback);\n\t}\n\n\tasync lookupAsync(hostname, options = {}) {\n\t\tif (typeof options === 'number') {\n\t\t\toptions = {\n\t\t\t\tfamily: options\n\t\t\t};\n\t\t}\n\n\t\tlet cached = await this.query(hostname);\n\n\t\tif (options.family === 6) {\n\t\t\tconst filtered = cached.filter(entry => entry.family === 6);\n\n\t\t\tif (options.hints & V4MAPPED) {\n\t\t\t\tif ((supportsALL && options.hints & ALL) || filtered.length === 0) {\n\t\t\t\t\tmap4to6(cached);\n\t\t\t\t} else {\n\t\t\t\t\tcached = filtered;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcached = filtered;\n\t\t\t}\n\t\t} else if (options.family === 4) {\n\t\t\tcached = cached.filter(entry => entry.family === 4);\n\t\t}\n\n\t\tif (options.hints & ADDRCONFIG) {\n\t\t\tconst {_iface} = this;\n\t\t\tcached = cached.filter(entry => entry.family === 6 ? _iface.has6 : _iface.has4);\n\t\t}\n\n\t\tif (cached.length === 0) {\n\t\t\tconst error = new Error(`cacheableLookup ENOTFOUND ${hostname}`);\n\t\t\terror.code = 'ENOTFOUND';\n\t\t\terror.hostname = hostname;\n\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (options.all) {\n\t\t\treturn cached;\n\t\t}\n\n\t\treturn cached[0];\n\t}\n\n\tasync query(hostname) {\n\t\tlet source = 'cache';\n\t\tlet cached = await this._cache.get(hostname);\n\n\t\tif (cached) {\n\t\t\tthis.stats.cache++;\n\t\t}\n\n\t\tif (!cached) {\n\t\t\tconst pending = this._pending[hostname];\n\t\t\tif (pending) {\n\t\t\t\tthis.stats.cache++;\n\t\t\t\tcached = await pending;\n\t\t\t} else {\n\t\t\t\tsource = 'query';\n\t\t\t\tconst newPromise = this.queryAndCache(hostname);\n\t\t\t\tthis._pending[hostname] = newPromise;\n\t\t\t\tthis.stats.query++;\n\t\t\t\ttry {\n\t\t\t\t\tcached = await newPromise;\n\t\t\t\t} finally {\n\t\t\t\t\tdelete this._pending[hostname];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcached = cached.map(entry => {\n\t\t\treturn {...entry, source};\n\t\t});\n\n\t\treturn cached;\n\t}\n\n\tasync _resolve(hostname) {\n\t\t// ANY is unsafe as it doesn't trigger new queries in the underlying server.\n\t\tconst [A, AAAA] = await Promise.all([\n\t\t\tignoreNoResultErrors(this._resolve4(hostname, ttl)),\n\t\t\tignoreNoResultErrors(this._resolve6(hostname, ttl))\n\t\t]);\n\n\t\tlet aTtl = 0;\n\t\tlet aaaaTtl = 0;\n\t\tlet cacheTtl = 0;\n\n\t\tconst now = Date.now();\n\n\t\tfor (const entry of A) {\n\t\t\tentry.family = 4;\n\t\t\tentry.expires = now + (entry.ttl * 1000);\n\n\t\t\taTtl = Math.max(aTtl, entry.ttl);\n\t\t}\n\n\t\tfor (const entry of AAAA) {\n\t\t\tentry.family = 6;\n\t\t\tentry.expires = now + (entry.ttl * 1000);\n\n\t\t\taaaaTtl = Math.max(aaaaTtl, entry.ttl);\n\t\t}\n\n\t\tif (A.length > 0) {\n\t\t\tif (AAAA.length > 0) {\n\t\t\t\tcacheTtl = Math.min(aTtl, aaaaTtl);\n\t\t\t} else {\n\t\t\t\tcacheTtl = aTtl;\n\t\t\t}\n\t\t} else {\n\t\t\tcacheTtl = aaaaTtl;\n\t\t}\n\n\t\treturn {\n\t\t\tentries: [\n\t\t\t\t...A,\n\t\t\t\t...AAAA\n\t\t\t],\n\t\t\tcacheTtl\n\t\t};\n\t}\n\n\tasync _lookup(hostname) {\n\t\ttry {\n\t\t\tconst [A, AAAA] = await Promise.all([\n\t\t\t\t// Passing {all: true} doesn't return all IPv4 and IPv6 entries.\n\t\t\t\t// See https://github.com/szmarczak/cacheable-lookup/issues/42\n\t\t\t\tignoreNoResultErrors(this._dnsLookup(hostname, all4)),\n\t\t\t\tignoreNoResultErrors(this._dnsLookup(hostname, all6))\n\t\t\t]);\n\n\t\t\treturn {\n\t\t\t\tentries: [\n\t\t\t\t\t...A,\n\t\t\t\t\t...AAAA\n\t\t\t\t],\n\t\t\t\tcacheTtl: 0\n\t\t\t};\n\t\t} catch {\n\t\t\treturn {\n\t\t\t\tentries: [],\n\t\t\t\tcacheTtl: 0\n\t\t\t};\n\t\t}\n\t}\n\n\tasync _set(hostname, data, cacheTtl) {\n\t\tif (this.maxTtl > 0 && cacheTtl > 0) {\n\t\t\tcacheTtl = Math.min(cacheTtl, this.maxTtl) * 1000;\n\t\t\tdata[kExpires] = Date.now() + cacheTtl;\n\n\t\t\ttry {\n\t\t\t\tawait this._cache.set(hostname, data, cacheTtl);\n\t\t\t} catch (error) {\n\t\t\t\tthis.lookupAsync = async () => {\n\t\t\t\t\tconst cacheError = new Error('Cache Error. Please recreate the CacheableLookup instance.');\n\t\t\t\t\tcacheError.cause = error;\n\n\t\t\t\t\tthrow cacheError;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (isIterable(this._cache)) {\n\t\t\t\tthis._tick(cacheTtl);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync queryAndCache(hostname) {\n\t\tif (this._hostnamesToFallback.has(hostname)) {\n\t\t\treturn this._dnsLookup(hostname, all);\n\t\t}\n\n\t\tlet query = await this._resolve(hostname);\n\n\t\tif (query.entries.length === 0 && this._dnsLookup) {\n\t\t\tquery = await this._lookup(hostname);\n\n\t\t\tif (query.entries.length !== 0 && this.fallbackDuration > 0) {\n\t\t\t\t// Use `dns.lookup(...)` for that particular hostname\n\t\t\t\tthis._hostnamesToFallback.add(hostname);\n\t\t\t}\n\t\t}\n\n\t\tconst cacheTtl = query.entries.length === 0 ? this.errorTtl : query.cacheTtl;\n\t\tawait this._set(hostname, query.entries, cacheTtl);\n\n\t\treturn query.entries;\n\t}\n\n\t_tick(ms) {\n\t\tconst nextRemovalTime = this._nextRemovalTime;\n\n\t\tif (!nextRemovalTime || ms < nextRemovalTime) {\n\t\t\tclearTimeout(this._removalTimeout);\n\n\t\t\tthis._nextRemovalTime = ms;\n\n\t\t\tthis._removalTimeout = setTimeout(() => {\n\t\t\t\tthis._nextRemovalTime = false;\n\n\t\t\t\tlet nextExpiry = Infinity;\n\n\t\t\t\tconst now = Date.now();\n\n\t\t\t\tfor (const [hostname, entries] of this._cache) {\n\t\t\t\t\tconst expires = entries[kExpires];\n\n\t\t\t\t\tif (now >= expires) {\n\t\t\t\t\t\tthis._cache.delete(hostname);\n\t\t\t\t\t} else if (expires < nextExpiry) {\n\t\t\t\t\t\tnextExpiry = expires;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (nextExpiry !== Infinity) {\n\t\t\t\t\tthis._tick(nextExpiry - now);\n\t\t\t\t}\n\t\t\t}, ms);\n\n\t\t\t/* istanbul ignore next: There is no `timeout.unref()` when running inside an Electron renderer */\n\t\t\tif (this._removalTimeout.unref) {\n\t\t\t\tthis._removalTimeout.unref();\n\t\t\t}\n\t\t}\n\t}\n\n\tinstall(agent) {\n\t\tverifyAgent(agent);\n\n\t\tif (kCacheableLookupCreateConnection in agent) {\n\t\t\tthrow new Error('CacheableLookup has been already installed');\n\t\t}\n\n\t\tagent[kCacheableLookupCreateConnection] = agent.createConnection;\n\t\tagent[kCacheableLookupInstance] = this;\n\n\t\tagent.createConnection = (options, callback) => {\n\t\t\tif (!('lookup' in options)) {\n\t\t\t\toptions.lookup = this.lookup;\n\t\t\t}\n\n\t\t\treturn agent[kCacheableLookupCreateConnection](options, callback);\n\t\t};\n\t}\n\n\tuninstall(agent) {\n\t\tverifyAgent(agent);\n\n\t\tif (agent[kCacheableLookupCreateConnection]) {\n\t\t\tif (agent[kCacheableLookupInstance] !== this) {\n\t\t\t\tthrow new Error('The agent is not owned by this CacheableLookup instance');\n\t\t\t}\n\n\t\t\tagent.createConnection = agent[kCacheableLookupCreateConnection];\n\n\t\t\tdelete agent[kCacheableLookupCreateConnection];\n\t\t\tdelete agent[kCacheableLookupInstance];\n\t\t}\n\t}\n\n\tupdateInterfaceInfo() {\n\t\tconst {_iface} = this;\n\n\t\tthis._iface = getIfaceInfo();\n\n\t\tif ((_iface.has4 && !this._iface.has4) || (_iface.has6 && !this._iface.has6)) {\n\t\t\tthis._cache.clear();\n\t\t}\n\t}\n\n\tclear(hostname) {\n\t\tif (hostname) {\n\t\t\tthis._cache.delete(hostname);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._cache.clear();\n\t}\n}\n", "export default function parseLinkHeader(link) {\n    const parsed = [];\n    const items = link.split(',');\n    for (const item of items) {\n        // https://tools.ietf.org/html/rfc5988#section-5\n        const [rawUriReference, ...rawLinkParameters] = item.split(';');\n        const trimmedUriReference = rawUriReference.trim();\n        // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\n        if (trimmedUriReference[0] !== '<' || trimmedUriReference.at(-1) !== '>') {\n            throw new Error(`Invalid format of the Link header reference: ${trimmedUriReference}`);\n        }\n        const reference = trimmedUriReference.slice(1, -1);\n        const parameters = {};\n        if (rawLinkParameters.length === 0) {\n            throw new Error(`Unexpected end of Link header parameters: ${rawLinkParameters.join(';')}`);\n        }\n        for (const rawParameter of rawLinkParameters) {\n            const trimmedRawParameter = rawParameter.trim();\n            const center = trimmedRawParameter.indexOf('=');\n            if (center === -1) {\n                throw new Error(`Failed to parse Link header: ${link}`);\n            }\n            const name = trimmedRawParameter.slice(0, center).trim();\n            const value = trimmedRawParameter.slice(center + 1).trim();\n            parameters[name] = value;\n        }\n        parsed.push({\n            reference,\n            parameters,\n        });\n    }\n    return parsed;\n}\n", "import { RequestError } from './errors.js';\nexport const isResponseOk = (response) => {\n    const { statusCode } = response;\n    const { followRedirect } = response.request.options;\n    const shouldFollow = typeof followRedirect === 'function' ? followRedirect(response) : followRedirect;\n    const limitStatusCode = shouldFollow ? 299 : 399;\n    return (statusCode >= 200 && statusCode <= limitStatusCode) || statusCode === 304;\n};\n/**\nAn error to be thrown when server response code is 2xx, and parsing body fails.\nIncludes a `response` property.\n*/\nexport class ParseError extends RequestError {\n    name = 'ParseError';\n    code = 'ERR_BODY_PARSE_FAILURE';\n    constructor(error, response) {\n        const { options } = response.request;\n        super(`${error.message} in \"${options.url.toString()}\"`, error, response.request);\n    }\n}\nexport const parseBody = (response, responseType, parseJson, encoding) => {\n    const { rawBody } = response;\n    try {\n        if (responseType === 'text') {\n            return rawBody.toString(encoding);\n        }\n        if (responseType === 'json') {\n            return rawBody.length === 0 ? '' : parseJson(rawBody.toString(encoding));\n        }\n        if (responseType === 'buffer') {\n            return rawBody;\n        }\n    }\n    catch (error) {\n        throw new ParseError(error, response);\n    }\n    throw new ParseError({\n        message: `Unknown body type '${responseType}'`,\n        name: 'Error',\n    }, response);\n};\n", "function isClientRequest(clientRequest) {\n    return clientRequest.writable && !clientRequest.writableEnded;\n}\nexport default isClientRequest;\n", "// eslint-disable-next-line @typescript-eslint/naming-convention\nexport default function isUnixSocketURL(url) {\n    return url.protocol === 'unix:' || url.hostname === 'unix';\n}\n/**\nExtract the socket path from a UNIX socket URL.\n\n@example\n```\ngetUnixSocketPath(new URL('http://unix/foo:/path'));\n//=> '/foo'\n\ngetUnixSocketPath(new URL('unix:/foo:/path'));\n//=> '/foo'\n\ngetUnixSocketPath(new URL('http://example.com'));\n//=> undefined\n```\n*/\nexport function getUnixSocketPath(url) {\n    if (!isUnixSocketURL(url)) {\n        return undefined;\n    }\n    return /(?<socketPath>.+?):(?<path>.+)/.exec(`${url.pathname}${url.search}`)?.groups?.socketPath;\n}\n", "import { randomUUID } from 'node:crypto';\nimport diagnosticsChannel from 'node:diagnostics_channel';\nconst channels = {\n    requestCreate: diagnosticsChannel.channel('got:request:create'),\n    requestStart: diagnosticsChannel.channel('got:request:start'),\n    responseStart: diagnosticsChannel.channel('got:response:start'),\n    responseEnd: diagnosticsChannel.channel('got:response:end'),\n    retry: diagnosticsChannel.channel('got:request:retry'),\n    error: diagnosticsChannel.channel('got:request:error'),\n    redirect: diagnosticsChannel.channel('got:response:redirect'),\n};\nexport function generateRequestId() {\n    return randomUUID();\n}\nexport function publishRequestCreate(message) {\n    if (channels.requestCreate.hasSubscribers) {\n        channels.requestCreate.publish(message);\n    }\n}\nexport function publishRequestStart(message) {\n    if (channels.requestStart.hasSubscribers) {\n        channels.requestStart.publish(message);\n    }\n}\nexport function publishResponseStart(message) {\n    if (channels.responseStart.hasSubscribers) {\n        channels.responseStart.publish(message);\n    }\n}\nexport function publishResponseEnd(message) {\n    if (channels.responseEnd.hasSubscribers) {\n        channels.responseEnd.publish(message);\n    }\n}\nexport function publishRetry(message) {\n    if (channels.retry.hasSubscribers) {\n        channels.retry.publish(message);\n    }\n}\nexport function publishError(message) {\n    if (channels.error.hasSubscribers) {\n        channels.error.publish(message);\n    }\n}\nexport function publishRedirect(message) {\n    if (channels.redirect.hasSubscribers) {\n        channels.redirect.publish(message);\n    }\n}\n", "import { RequestError } from '../core/errors.js';\n/**\nAn error to be thrown when the request is aborted with `.cancel()`.\n*/\nexport class CancelError extends RequestError {\n    constructor(request) {\n        super('Promise was canceled', {}, request);\n        this.name = 'CancelError';\n        this.code = 'ERR_CANCELED';\n    }\n    /**\n    Whether the promise is canceled.\n    */\n    get isCanceled() {\n        return true;\n    }\n}\n", "import create from './create.js';\nimport Options from './core/options.js';\nconst defaults = {\n    options: new Options(),\n    handlers: [],\n    mutableDefaults: false,\n};\nconst got = create(defaults);\nexport default got;\n// TODO: Remove this in the next major version.\nexport { got };\nexport { default as Options } from './core/options.js';\nexport * from './core/options.js';\nexport * from './core/response.js';\nexport * from './core/index.js';\nexport * from './core/errors.js';\nexport * from './core/diagnostics-channel.js';\nexport { default as calculateRetryDelay } from './core/calculate-retry-delay.js';\nexport * from './as-promise/types.js';\nexport * from './types.js';\nexport { default as create } from './create.js';\nexport { default as parseLinkHeader } from './core/parse-link-header.js';\n"],
  "mappings": "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",
  "names": ["require_http_cache_semantics", "__commonJSMin", "exports", "module", "statusCodeCacheableByDefault", "understoodStatuses", "errorStatusCodes", "hopByHopHeaders", "excludedFromRevalidationUpdate", "toNumberOrZero", "s", "n", "isErrorResponse", "response", "parseCacheControl", "header", "cc", "parts", "part", "k", "v", "formatCacheControl", "req", "res", "shared", "cacheHeuristic", "immutableMinTimeToLive", "ignoreCargoCult", "_fromObject", "revalidation", "request", "synchronous", "requestCC", "allowHeadMethod", "fields", "name", "inHeaders", "headers", "tokens", "warnings", "warning", "age", "serverDate", "residentTime", "defaultMinTtl", "expires", "lastModified", "staleIfErrorAge", "staleWhileRevalidateAge", "swr", "obj", "incomingReq", "etags", "etag", "matches", "optionsCopy", "newResponse", "require_quick_lru", "__commonJSMin", "exports", "module", "QuickLRU", "options", "key", "value", "deleted", "item", "oldCacheSize", "require_delay_async_destroy", "__commonJSMin", "exports", "module", "stream", "args", "callback", "error", "onError", "require_agent", "__commonJSMin", "exports", "module", "URL", "EventEmitter", "tls", "http2", "QuickLRU", "delayAsyncDestroy", "kCurrentStreamCount", "kRequest", "kOriginSet", "kGracefullyClosing", "kLength", "nameKeys", "getSortedIndex", "array", "value", "compare", "low", "high", "mid", "compareSessions", "a", "b", "closeCoveredSessions", "where", "session", "index", "coveredSession", "origin", "gracefullyClose", "closeSessionIfCovered", "Agent", "_Agent", "timeout", "maxSessions", "maxEmptySessions", "maxCachedTlsSessions", "options", "normalized", "key", "normalizedOptions", "normalizedOrigin", "item", "thisStreamCount", "thatStreamCount", "listeners", "resolve", "reject", "servername", "hostname", "error", "sessions", "maxConcurrentStreams", "currentStreamsCount", "optimalSession", "sessionMaxConcurrentStreams", "sessionCurrentStreamsCount", "removeFromQueue", "entry", "name", "receivedSettings", "socket", "computedOptions", "getOriginSet", "originSet", "isFree", "tlsSession", "processListeners", "queue", "completed", "mainOrigin", "headers", "streamOptions", "stream", "port", "host", "maxCount", "closedCount", "thisSessions", "reason", "entries", "require_incoming_message", "__commonJSMin", "exports", "module", "Readable", "IncomingMessage", "socket", "highWaterMark", "value", "error", "callback", "ms", "require_proxy_events", "__commonJSMin", "exports", "module", "from", "to", "events", "event", "args", "require_errors", "__commonJSMin", "exports", "module", "makeError", "Base", "key", "getMessage", "args", "type", "valid", "isManyTypes", "require_is_request_pseudo_header", "__commonJSMin", "exports", "module", "header", "require_validate_header_name", "__commonJSMin", "exports", "module", "ERR_INVALID_HTTP_TOKEN", "isRequestPseudoHeader", "isValidHttpToken", "name", "require_validate_header_value", "__commonJSMin", "exports", "module", "ERR_HTTP_INVALID_HEADER_VALUE", "ERR_INVALID_CHAR", "isInvalidHeaderValue", "name", "value", "require_proxy_socket_handler", "__commonJSMin", "exports", "module", "ERR_HTTP2_NO_SOCKET_MANIPULATION", "proxySocketHandler", "stream", "property", "reference", "session", "value", "require_client_request", "__commonJSMin", "exports", "module", "URL", "urlToHttpOptions", "http2", "Writable", "Agent", "globalAgent", "IncomingMessage", "proxyEvents", "ERR_INVALID_ARG_TYPE", "ERR_INVALID_PROTOCOL", "ERR_HTTP_HEADERS_SENT", "validateHeaderName", "validateHeaderValue", "proxySocketHandler", "HTTP2_HEADER_STATUS", "HTTP2_HEADER_METHOD", "HTTP2_HEADER_PATH", "HTTP2_HEADER_AUTHORITY", "HTTP2_METHOD_CONNECT", "kHeaders", "kOrigin", "kSession", "kOptions", "kFlushedHeaders", "kJobs", "kPendingAgentPromise", "ClientRequest", "input", "options", "callback", "timeout", "headers", "header", "reuseSocket", "args", "value", "_value", "chunk", "encoding", "callWrite", "callEnd", "error", "internalError", "isConnectMethod", "onStream", "stream", "res", "onResponse", "flags", "rawHeaders", "response", "trailers", "rawTrailers", "aborted", "finish", "job", "promise", "name", "lowercased", "ms", "applyTimeout", "require_resolve_alpn", "__commonJSMin", "exports", "module", "tls", "options", "connect", "resolve", "reject", "timeout", "socket", "callback", "socketPromise", "onTimeout", "error", "require_calculate_server_name", "__commonJSMin", "exports", "module", "isIP", "assert", "getHost", "host", "idx", "servername", "require_auto", "__commonJSMin", "exports", "module", "URL", "urlToHttpOptions", "http", "https", "resolveALPN", "QuickLRU", "Agent", "globalAgent", "Http2ClientRequest", "calculateServerName", "delayAsyncDestroy", "cache", "queue", "installSocket", "agent", "socket", "options", "onFree", "onClose", "onTimeout", "freeSockets", "sockets", "onRemove", "createResolveProtocol", "connect", "name", "path", "resultPromise", "result", "error", "defaultResolveProtocol", "input", "callback", "isHttps", "resolveProtocol", "alpnProtocol", "timeout", "isHttp2", "defaultCreateConnection", "require_js_stream_socket", "__commonJSMin", "exports", "module", "stream", "tls", "JSStreamSocket", "require_unexpected_status_code_error", "__commonJSMin", "exports", "module", "UnexpectedStatusCodeError", "statusCode", "statusMessage", "require_check_type", "__commonJSMin", "exports", "module", "checkType", "name", "value", "types", "type", "names", "require_initialize", "__commonJSMin", "exports", "module", "URL", "checkType", "self", "proxyOptions", "url", "require_get_auth_headers", "__commonJSMin", "exports", "module", "self", "username", "password", "data", "authorization", "require_h1_over_h2", "__commonJSMin", "exports", "module", "tls", "http", "https", "JSStreamSocket", "globalAgent", "UnexpectedStatusCodeError", "initialize", "getAuthorizationHeaders", "createConnection", "self", "options", "callback", "proxyOptions", "url", "headers", "raw", "stream", "statusCode", "encrypted", "secureStream", "socket", "out", "error", "HttpOverHttp2", "HttpsOverHttp2", "require_h2_over_hx", "__commonJSMin", "exports", "module", "Agent", "JSStreamSocket", "UnexpectedStatusCodeError", "initialize", "Http2OverHttpX", "options", "origin", "authority", "stream", "statusCode", "statusMessage", "socket", "out", "require_h2_over_h2", "__commonJSMin", "exports", "module", "globalAgent", "Http2OverHttpX", "getAuthorizationHeaders", "getStatusCode", "stream", "resolve", "reject", "headers", "Http2OverHttp2", "authority", "proxyOptions", "statusCode", "require_h2_over_h1", "__commonJSMin", "exports", "module", "http", "https", "Http2OverHttpX", "getAuthorizationHeaders", "getStream", "request", "resolve", "reject", "onConnect", "response", "socket", "head", "Http2OverHttp", "authority", "proxyOptions", "url", "headers", "require_source", "__commonJSMin", "exports", "module", "http2", "Agent", "globalAgent", "ClientRequest", "IncomingMessage", "auto", "HttpOverHttp2", "HttpsOverHttp2", "Http2OverHttp2", "Http2OverHttp", "Http2OverHttps", "validateHeaderName", "validateHeaderValue", "request", "url", "options", "callback", "get", "req", "require_legacy", "__commonJSMin", "exports", "require_utils", "__commonJSMin", "exports", "require_utils_functions", "__commonJSMin", "exports", "utils_1", "getReasonPhrase", "statusCode", "result", "getStatusCode", "reasonPhrase", "require_status_codes", "__commonJSMin", "exports", "StatusCodes", "require_reason_phrases", "__commonJSMin", "exports", "ReasonPhrases", "require_cjs", "__commonJSMin", "exports", "__assign", "s", "i", "n", "p", "__createBinding", "o", "m", "k", "k2", "__exportStar", "__importDefault", "mod", "legacy_1", "utils_functions_1", "utils_functions_2", "status_codes_1", "reason_phrases_1", "slovenian_exports", "__export", "Slovenian", "__toCommonJS", "import_api", "import_promises", "keysOf", "value", "typedArrayTypeNames", "isTypedArrayName", "name", "objectTypeNames", "isObjectTypeName", "primitiveTypeNames", "isPrimitiveTypeName", "assertionTypeDescriptions", "getObjectType", "value", "objectTypeName", "isHtmlElement", "detect", "isObservable", "isArray", "isBuffer", "tagType", "hasPromiseApi", "isFunction", "is", "isAll", "isAny", "isArrayBuffer", "isArrayLike", "isAsyncFunction", "isAsyncGenerator", "isAsyncGeneratorFunction", "isAsyncIterable", "isBigint", "isBigInt64Array", "isBigUint64Array", "isBlob", "isBoolean", "isBoundFunction", "isClass", "isDataView", "isDate", "isDirectInstanceOf", "isEmptyArray", "isEmptyMap", "isEmptyObject", "isEmptySet", "isEmptyString", "isEmptyStringOrWhitespace", "isEnumCase", "isError", "isEvenInteger", "isFalsy", "isFloat32Array", "isFloat64Array", "isFormData", "isGenerator", "isGeneratorFunction", "isInfinite", "isInRange", "isInt16Array", "isInt32Array", "isInt8Array", "isInteger", "isIterable", "isMap", "isNan", "isNativePromise", "isNegativeNumber", "isNodeStream", "isNonEmptyArray", "isNonEmptyMap", "isNonEmptyObject", "isNonEmptySet", "isNonEmptyString", "isNonEmptyStringAndNotWhitespace", "isNull", "isNullOrUndefined", "isNumber", "isNumericString", "isObject", "isOddInteger", "isPlainObject", "isPositiveNumber", "isPrimitive", "isPromise", "isPropertyKey", "isRegExp", "isSafeInteger", "isSet", "isSharedArrayBuffer", "isString", "isSymbol", "isTruthy", "isTupleLike", "isTypedArray", "isUint16Array", "isUint32Array", "isUint8Array", "isUint8ClampedArray", "isUndefined", "isUrlInstance", "isUrlSearchParams", "isUrlString", "isOptional", "isValidDate", "isValidLength", "isWeakMap", "isWeakRef", "isWeakSet", "isWhitespaceString", "isAbsoluteModule2", "remainder", "predicate", "values", "predicateOnArray", "singlePredicate", "assertion", "element", "instance", "class_", "targetEnum", "NODE_TYPE_ELEMENT", "DOM_PROPERTIES_TO_CHECK", "property", "range", "prototype", "guards", "guard", "index", "method", "typeErrorMessage", "description", "unique", "andFormatter", "orFormatter", "typeErrorMessageMultipleValues", "expectedType", "uniqueExpectedTypes", "uniqueValueTypes", "assert", "assertAll", "assertAny", "assertOptional", "assertArray", "assertArrayBuffer", "assertArrayLike", "assertAsyncFunction", "assertAsyncGenerator", "assertAsyncGeneratorFunction", "assertAsyncIterable", "assertBigint", "assertBigInt64Array", "assertBigUint64Array", "assertBlob", "assertBoolean", "assertBoundFunction", "assertBuffer", "assertClass", "assertDataView", "assertDate", "assertDirectInstanceOf", "assertEmptyArray", "assertEmptyMap", "assertEmptyObject", "assertEmptySet", "assertEmptyString", "assertEmptyStringOrWhitespace", "assertEnumCase", "assertError", "assertEvenInteger", "assertFalsy", "assertFloat32Array", "assertFloat64Array", "assertFormData", "assertFunction", "assertGenerator", "assertGeneratorFunction", "assertHtmlElement", "assertInfinite", "assertInRange", "assertInt16Array", "assertInt32Array", "assertInt8Array", "assertInteger", "assertIterable", "assertMap", "assertNan", "assertNativePromise", "assertNegativeNumber", "assertNodeStream", "assertNonEmptyArray", "assertNonEmptyMap", "assertNonEmptyObject", "assertNonEmptySet", "assertNonEmptyString", "assertNonEmptyStringAndNotWhitespace", "assertNull", "assertNullOrUndefined", "assertNumber", "assertNumericString", "assertObject", "assertObservable", "assertOddInteger", "assertPlainObject", "assertPositiveNumber", "assertPrimitive", "assertPromise", "assertPropertyKey", "assertRegExp", "assertSafeInteger", "assertSet", "assertSharedArrayBuffer", "assertString", "assertSymbol", "assertTruthy", "assertTupleLike", "assertTypedArray", "assertUint16Array", "assertUint32Array", "assertUint8Array", "assertUint8ClampedArray", "assertUndefined", "assertUrlInstance", "assertUrlSearchParams", "assertUrlString", "assertValidDate", "assertValidLength", "assertWeakMap", "assertWeakRef", "assertWeakSet", "assertWhitespaceString", "methodTypeMap", "isMethodNames", "keysOf", "isIsMethodName", "expectedTypes", "message", "distribution_default", "import_node_events", "CancelError", "reason", "promiseState", "PCancelable", "_PCancelable", "userFunction", "arguments_", "resolve", "reject", "onCancel", "#cancelHandlers", "#rejectOnCancel", "#state", "#promise", "#reject", "executor", "onResolve", "value", "#setState", "onReject", "error", "handler", "boolean", "onFulfilled", "onRejected", "onFinally", "state", "isRequest", "x", "distribution_default", "RequestError", "message", "error", "self", "indexOfMessage", "thisStackTrace", "errorStackTrace", "MaxRedirectsError", "request", "HTTPError", "response", "CacheError", "UploadError", "TimeoutError", "timings", "ReadError", "RetryError", "AbortError", "import_node_process", "import_node_buffer", "import_node_stream", "import_node_http", "textEncoder", "byteLength", "data", "import_node_crypto", "import_node_events", "import_node_stream", "import_node_url", "import_node_events", "import_promises", "isStream", "stream", "checkOpen", "isReadableStream", "stream", "checkOpen", "isStream", "a", "c", "#t", "#n", "#r", "#e", "t", "#s", "n", "i", "o", "r", "u", "h", "getAsyncIterable", "stream", "isReadableStream", "nodeImports", "getStreamIterable", "toString", "h", "controller", "state", "handleStreamEnd", "chunk", "error", "getStreamContents", "stream", "init", "convertChunk", "getSize", "truncateChunk", "addChunk", "getFinalChunk", "finalize", "maxBuffer", "asyncIterable", "getAsyncIterable", "state", "chunk", "chunkType", "getChunkType", "convertedChunk", "appendChunk", "appendFinalChunk", "error", "normalizedError", "chunkSize", "newLength", "addNewChunk", "truncatedChunk", "MaxBufferError", "typeOfChunk", "prototypeName", "objectToString", "noop", "throwObjectStream", "chunk", "getLengthProperty", "convertedChunk", "getStreamAsArrayBuffer", "stream", "options", "getStreamContents", "arrayBufferMethods", "initArrayBuffer", "useTextEncoder", "chunk", "textEncoder", "useUint8Array", "useUint8ArrayWithOffset", "truncateArrayBufferChunk", "convertedChunk", "chunkSize", "addArrayBufferChunk", "contents", "previousLength", "length", "newContents", "hasArrayBufferResize", "resizeArrayBuffer", "resizeArrayBufferSlow", "arrayBuffer", "getNewContentsLength", "SCALE_FACTOR", "finalizeArrayBuffer", "throwObjectStream", "getLengthProperty", "noop", "getStreamAsBuffer", "stream", "options", "arrayBufferToNodeBuffer", "getStreamAsArrayBuffer", "error", "arrayBuffer", "nodeImports", "import_http_cache_semantics", "import_buffer", "_serialize", "data", "escapeColonStrings", "s", "array", "first", "k", "ignore", "defaultSerialize", "defaultDeserialize", "_", "value", "EventManager", "event", "listener", "listeners", "index", "onceListener", "arguments_", "n", "event_manager_default", "HooksManager", "handler", "eventHandlers", "data", "error", "hooks_manager_default", "StatsManager", "enabled", "array", "item", "stats_manager_default", "iterableAdapters", "Keyv", "event_manager_default", "hooks_manager_default", "stats_manager_default", "defaultSerialize", "defaultDeserialize", "store", "options", "error", "compress", "namespace", "ttl", "serialize", "deserialize", "value", "iterator", "key", "raw", "data", "element", "keys", "isArray", "keyPrefixed", "isDataExpired", "rawData", "deserializedData", "promises", "rawData2", "deserializedRow", "result2", "row", "result", "expiredKeys", "index", "expires", "formattedValue", "serializedValue", "value2", "entries", "results", "entry", "serializedEntries", "returnResult", "event", "arguments_", "knownProperties", "mimicResponse", "fromStream", "toStream", "fromProperties", "properties", "property", "value", "DATA_URL_DEFAULT_MIME_TYPE", "DATA_URL_DEFAULT_CHARSET", "testParameter", "name", "filters", "filter", "supportedProtocols", "hasCustomProtocol", "urlString", "protocol", "normalizeDataURL", "stripHash", "match", "type", "data", "hash", "mediaType", "isBase64", "mimeType", "normalizedMediaType", "attribute", "key", "value", "string", "normalizeUrl", "options", "hasRelativeProtocol", "urlObject", "protocolRegex", "lastIndex", "result", "protocolAtIndex", "intermediate", "remnant", "pathComponents", "lastComponent", "newComponents", "originalSearch", "partsWithoutEquals", "p", "part", "decoded", "oldUrlString", "import_node_stream", "lowercaseKeys", "object", "key", "value", "Response", "ReadableStream", "statusCode", "headers", "body", "url", "bodyPushed", "lowercaseKeys", "RequestError", "error", "CacheError", "CacheableRequest", "cacheRequest", "cacheAdapter", "Keyv", "options", "callback", "url", "normalizeUrlObject", "parseWithWhatwg", "urlLib", "pathname", "searchParts", "search", "urlObjectToRequestOptions", "entries", "key", "value", "ee", "EventEmitter", "normalizedUrlString", "normalizeUrl", "stream", "crypto", "revalidate", "madeRequest", "makeRequest", "options_", "requestErrored", "requestErrorCallback", "requestErrorPromise", "resolve", "handler", "response", "originalPolicy", "CachePolicy", "revalidatedPolicy", "headers", "convertHeaders", "originalHeaders", "preserveHeaders", "headerName", "Response", "clonedResponse", "cloneResponse", "bodyPromise", "getStreamAsBuffer", "body", "ttl", "key_", "error", "CacheError", "request_", "RequestError", "get", "cacheEntry", "policy", "bodyBuffer", "errorHandler", "cachek", "name", "function_", "arguments_", "clone", "PassThroughStream", "mimicResponse", "result", "raw", "u", "dist_default", "import_node_stream", "import_node_zlib", "supportsZstd", "zlib", "decompressResponse", "response", "contentEncoding", "supportedEncodings", "isEmpty", "headers", "finalStream", "PassThroughStream", "handleContentEncoding", "data", "decompressStream", "error", "checker", "TransformStream", "_encoding", "callback", "mimicResponse", "__accessCheck", "obj", "member", "msg", "__privateGet", "getter", "__privateAdd", "value", "__privateSet", "setter", "__privateMethod", "method", "isFunction", "isAsyncIterable", "MAX_CHUNK_SIZE", "chunk", "offset", "size", "buffer", "readStream", "readable", "reader", "done", "chunkStream", "stream", "getStreamIterator", "source", "alphabet", "createBoundary", "res", "normalizeValue", "match", "i", "str", "getType", "isPlainObject", "pp", "getProperty", "target", "prop", "name", "proxyHeaders", "object", "isFormData", "escapeName", "isFile", "defaultOptions", "readonlyProp", "_CRLF", "_CRLF_BYTES", "_CRLF_BYTES_LENGTH", "_DASHES", "_encoder", "_footer", "_form", "_options", "_getFieldHeader", "getFieldHeader_fn", "_getContentLength", "getContentLength_fn", "FormDataEncoder", "form", "boundaryOrOptions", "options", "boundary", "headers", "contentLength", "raw", "part", "header", "length", "import_node_events", "import_node_util", "isTlsSocket", "socket", "deferToConnect", "fn", "listeners", "hasConnectListener", "hasSecureConnectListener", "hasCloseListener", "onConnect", "hadError", "defer_to_connect_default", "timer", "request", "timings", "handleError", "origin", "onAbort", "onSocket", "socket", "lookupListener", "defer_to_connect_default", "onUpload", "secureOrConnect", "response", "timer_default", "import_node_util", "isFormData", "body", "distribution_default", "getBodySize", "body", "headers", "distribution_default", "isFormData", "error", "typedError", "proxyEvents", "from", "to", "events", "eventFunctions", "event", "eventFunction", "arguments_", "import_node_net", "unhandle", "handlers", "origin", "event", "function_", "handler", "fn", "reentry", "noop", "TimeoutError", "threshold", "event", "timedOut", "request", "delays", "options", "cancelers", "once", "unhandleAll", "unhandle", "handled", "addTimeout", "delay", "callback", "timeout", "cancel", "host", "hostname", "timeoutHandler", "cancelTimeouts", "error", "cancelTimeout", "response", "socket", "socketTimeoutHandler", "hasLookup", "hasConnect", "hasSecureConnect", "hasSend", "socketPath", "hasPath", "net", "timeConnect", "timeRequest", "urlToOptions", "url", "options", "distribution_default", "WeakableMap", "key", "value", "calculateRetryDelay", "attemptCount", "retryOptions", "error", "retryAfter", "computedValue", "hasMethod", "hasErrorCode", "hasStatusCode", "noise", "calculate_retry_delay_default", "import_node_process", "import_node_util", "import_node_tls", "import_node_https", "import_node_http", "import_node_dns", "import_node_util", "import_node_os", "AsyncResolver", "dnsPromises", "kCacheableLookupCreateConnection", "kCacheableLookupInstance", "kExpires", "supportsALL", "verifyAgent", "agent", "map4to6", "entries", "entry", "getIfaceInfo", "has4", "has6", "device", "os", "iface", "isIterable", "map", "ignoreNoResultErrors", "dnsPromise", "error", "ttl", "all", "all4", "all6", "CacheableLookup", "cache", "maxTtl", "fallbackDuration", "errorTtl", "resolver", "lookup", "dnsLookup", "interval", "servers", "hostname", "options", "callback", "result", "cached", "filtered", "_iface", "source", "pending", "newPromise", "A", "AAAA", "aTtl", "aaaaTtl", "cacheTtl", "now", "data", "cacheError", "query", "ms", "nextRemovalTime", "nextExpiry", "expires", "import_http2_wrapper", "parseLinkHeader", "link", "parsed", "items", "item", "rawUriReference", "rawLinkParameters", "trimmedUriReference", "reference", "parameters", "rawParameter", "trimmedRawParameter", "center", "name", "value", "major", "minor", "process", "wrapAssertionWithContext", "optionName", "assertionFn", "error", "assertAny", "validators", "value", "assert", "assertPlainObject", "validateSearchParameters", "searchParameters", "key", "distribution_default", "globalCache", "globalDnsCache", "getGlobalDnsCache", "CacheableLookup", "wrapQuickLruIfNeeded", "cacheValue", "ttl", "defaultInternals", "computedValue", "response", "rawLinkHeader", "next", "parseLinkHeader", "entry", "cloneInternals", "internals", "hooks", "retry", "cloneRaw", "raw", "result", "getHttp2TimeoutOption", "delays", "delay", "init", "options", "withOptions", "self", "initHooks", "hook", "Options", "_Options", "input", "defaults", "initArray", "push", "v", "href", "isFormData", "valueString", "urlString", "url", "matches", "socketPath", "path", "setCookie", "getCookieString", "updated", "_value", "knownHookEvent", "typedKnownHookEvent", "fixedValue", "lowercaseKeys", "method", "_depth", "agent", "http2wrapper", "https", "pfx", "object", "request", "http", "isResponseOk", "response", "statusCode", "followRedirect", "limitStatusCode", "ParseError", "RequestError", "error", "options", "parseBody", "responseType", "parseJson", "encoding", "rawBody", "isClientRequest", "clientRequest", "is_client_request_default", "isUnixSocketURL", "url", "getUnixSocketPath", "import_node_crypto", "import_node_diagnostics_channel", "channels", "diagnosticsChannel", "generateRequestId", "publishRequestCreate", "message", "publishRequestStart", "publishResponseStart", "publishResponseEnd", "publishRetry", "publishError", "publishRedirect", "supportsBrotli", "distribution_default", "process", "supportsZstd", "methodsWithoutBody", "methodsWithoutBodyStream", "cacheableStore", "WeakableMap", "redirectCodes", "errorsProcessedByHooks", "proxiedRequestEvents", "noop", "Request", "_Request", "generateRequestId", "url", "options", "defaults", "source", "event", "Options", "publishRequestCreate", "error", "requestError", "RequestError", "body", "UploadError", "abort", "TimeoutError", "AbortError", "job", "response", "attemptCount", "typedError", "backoff", "retryAfter", "retryOptions", "computedValue", "calculate_retry_delay_default", "error_", "resolve", "timeout", "bodyBeforeHooks", "hook", "bodyAfterHooks", "oldBody", "publishRetry", "updatedOptions", "request", "data", "progress", "chunk", "encoding", "callback", "write", "endRequest", "timings", "destination", "actualSize", "ReadError", "headers", "isForm", "isJSON", "isBody", "cannotHaveBody", "noContentType", "isFormData", "encoder", "FormDataEncoder", "form", "json", "uploadBodySize", "getBodySize", "statusCode", "method", "hasNoBody", "byteLength", "decompressResponse", "typedResponse", "http", "isResponseOk", "publishResponseStart", "rawCookies", "promises", "rawCookie", "promise", "MaxRedirectsError", "serverRequestedGet", "canRewrite", "userRequestedGet", "redirectBuffer", "redirectUrl", "isUnixSocketURL", "getUnixSocketPath", "publishRedirect", "HTTPError", "wasDecompressed", "contentLengthHeader", "expectedLength", "publishResponseEnd", "key", "value", "from", "fromArray", "rawBody", "isBuffer", "publishRequestStart", "timer_default", "timedOut", "socket", "responseEventName", "proxyEvents", "reject", "currentRequest", "typedArray", "uint8View", "shouldAutoEndStream", "cache", "cacheableRequest", "dist_default", "requestOptions", "handler", "wrappedHandler", "beforeCacheHooks", "gotRequest", "result", "urlToOptions", "cacheRequest", "fix", "requestOrPromise", "username", "password", "cookieJar", "encodings", "credentials", "cookieString", "CacheError", "function_", "requestOrResponse", "is_client_request_default", "hooks", "publishError", "bytes", "percent", "CancelError", "RequestError", "request", "proxiedRequestEvents", "asPromise", "firstRequest", "globalRequest", "globalResponse", "normalizedOptions", "emitter", "promiseSettled", "promise", "PCancelable", "resolve", "reject", "onCancel", "CancelError", "makeRequest", "retryCount", "request", "Request", "response", "contentEncoding", "isCompressed", "options", "parseBody", "error", "ParseError", "isResponseOk", "hooks", "index", "hook", "updatedOptions", "preserveHooks", "RetryError", "distribution_default", "HTTPError", "handledFinalError", "onError", "previousBody", "newRetryCount", "newBody", "proxyEvents", "event", "function_", "shortcut", "promiseToAwait", "responseType", "newPromise", "headers", "isGotInstance", "value", "distribution_default", "aliases", "create", "defaults", "Options", "got", "url", "options", "defaultOptions", "request", "Request", "promise", "lastHandler", "normalized", "asPromise", "iteration", "iterateHandlers", "newOptions", "result", "descriptors", "key", "instancesOrOptions", "handlers", "mutableDefaults", "paginateEach", "normalizedOptions", "pagination", "assert", "allItems", "countLimit", "numberOfRequests", "delay", "response", "parsed", "currentItems", "item", "optionsToMerge", "error", "results", "method", "create_default", "defaults", "Options", "got", "create_default", "source_default", "import_http_status_codes", "returnToRootState", "isPro", "key", "DEEPL_QUOTA_EXCEEDED", "delayedCloseWindow", "closeRaycastAfterTranslation", "delay", "resolve", "error", "gotErrorToString", "HTTPError", "statusCode", "RequestError", "getSelection", "readContent", "preferredSource", "clipboard", "selected", "sendTranslateRequest", "initialText", "sourceLanguage", "targetLanguage", "onTranslateAction", "formality", "prefs", "text", "toast", "translation", "detectedSourceLanguage", "source_default", "translate", "target", "defaultFormality", "Slovenian", "props", "translate"]
}
